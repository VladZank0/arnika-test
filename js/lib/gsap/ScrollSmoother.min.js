!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(){return"undefined"!=typeof window}function q(){return P||p()&&(P=window.gsap)&&P.registerPlugin&&P}var P,k,R,_,C,H,M,A,F,B,I,U,t=(ScrollSmoother.register=function register(e){return k||(P=e||q(),p()&&window.document&&(R=window,_=document,C=_.documentElement,H=_.body),P&&(M=P.utils.toArray,A=P.utils.clamp,I=P.parseEase("expo"),F=P.core.globals().ScrollTrigger,P.core.globals("ScrollSmoother",ScrollSmoother),H&&F&&(U=F.core._getVelocityProp,k=1))),k},function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(ScrollSmoother,[{key:"progress",get:function get(){return this.scrollTrigger.animation._time/100}}]),ScrollSmoother);function ScrollSmoother(e){var o=this;k||ScrollSmoother.register(P)||console.warn("Please gsap.registerPlugin(ScrollSmoother)"),e=this.vars=e||{},B&&B.kill(),B=this;function ja(){return T.update(-g)}function la(){return r.style.overflow="visible"}function na(e){var t=e.getTween();t&&(t.pause(),t._time=t._dur,t._tTime=t._tDur),u=!1,e.animation.progress(e.progress,!0)}function oa(e,t){(e!==g&&!l||t)&&(d&&(r.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+e+", 0, 1)"),w=e-g,g=e,F.isUpdating||F.update())}function pa(e){return arguments.length?(l&&(g=-e),x.y=-e,u=!0,h(e),this):-g}function ra(e){v.scrollTop=0,F.isInViewport(e.target)||e.target===f||o.scrollTo(e.target,!1,"center center"),f=e.target}function sa(e){var r,n,o,i;b.forEach(function(t){r=t.pins,i=t.markers,e.forEach(function(e){e.trigger!==t.trigger&&e.pinnedContainer!==t.trigger||t===e||(n=e.start,o=(n-t.start-t.offset)/t.ratio-(n-t.start),r.forEach(function(e){return o-=e.distance/t.ratio-e.distance}),e.setPositions(n+o,e.end+o),e.markerStart&&i.push(P.quickSetter([e.markerStart,e.markerEnd],"y","px")),e.pin&&0<e.end&&(o=e.end-e.start,r.push({start:e.start,end:e.end,distance:o,trig:e}),t.setPositions(t.start,t.end+o),t.vars.onRefresh(t)))})})}function ta(){la(),requestAnimationFrame(la),b&&(b.forEach(function(e){var t=e.start,r=e.auto?Math.min(F.maxScroll(e.scroller),e.end):t+(e.end-t)/e.ratio,n=(r-e.end)/2;t-=n,r-=n,e.offset=n||1e-4,e.pins.length=0,e.setPositions(Math.min(t,r),Math.max(t,r)),e.vars.onRefresh(e)}),sa(F.sort())),T.reset()}function ua(){return b&&b.forEach(function(e){return e.vars.onRefresh(e)})}function va(){return b&&b.forEach(function(e){return e.vars.onRefreshInit(e)}),ua}function wa(t,r,n,o){return function(){var e="function"==typeof r?r(n,o):r;return e||0===e||(e=o.getAttribute("data-"+t)||("speed"===t?1:0)),o.setAttribute("data-"+t,e),"auto"===e?e:parseFloat(e)}}function xa(r,e,t,n){function lb(){e=a(),t=f(),o=parseFloat(e)||1,c=(s="auto"===e)?0:.5,l&&l.kill(),l=t&&P.to(r,{ease:I,overwrite:!1,y:"+=0",duration:t}),i&&(i.ratio=o,i.autoSpeed=s)}function mb(){d.y=h+"px",d.renderTransform(1),lb()}function qb(e){if(s){mb();var t=function _autoDistance(e,t){var r,n,o=e.parentNode||C,i=e.getBoundingClientRect(),a=o.getBoundingClientRect(),s=a.top-i.top,l=a.bottom-i.bottom,c=(Math.abs(s)>Math.abs(l)?s:l)/(1-t),u=-c*t;return 0<c&&(u+=-(n=.5==(r=a.height/(R.innerHeight+a.height))?2*a.height:2*Math.min(a.height,-c*r/(2*r-1)))/2,c+=n),{change:c,offset:u}}(r,A(0,1,-e.start/(e.end-e.start)));m=t.change,u=t.offset}else m=(e.end-e.start)*(1-o),u=0;g.forEach(function(e){return m-=e.distance*(1-o)}),e.vars.onUpdate(e),l&&l.progress(1)}var o,i,s,l,c,u,a=wa("speed",e,n,r),f=wa("lag",t,n,r),h=P.getProperty(r,"y"),d=r._gsap,g=[],p=[],m=0;return lb(),(1!==o||s||l)&&(qb(i=F.create({trigger:s?r.parentNode:r,scroller:v,scrub:!0,refreshPriority:-999,onRefreshInit:mb,onRefresh:qb,onKill:function onKill(e){var t=b.indexOf(e);0<=t&&b.splice(t,1)},onUpdate:function onUpdate(e){var t,r,n,o=h+m*(e.progress-c),i=g.length,a=0;if(e.offset){if(i){for(r=-x.y,n=e.end;i--;){if((t=g[i]).trig.isActive||r>=t.start&&r<=t.end)return void(l&&(t.trig.progress+=t.trig.direction<0?.001:-.001,t.trig.update(0,0,1),l.resetTo("y",parseFloat(d.y),-w,!0),S&&l.progress(1)));r>t.end&&(a+=t.distance),n-=t.distance}o=h+a+m*((P.utils.clamp(e.start,e.end,r)-e.start-a)/(n-e.start)-c)}o=function _round(e){return Math.round(1e5*e)/1e5||0}(o+u),p.length&&!s&&p.forEach(function(e){return e(o-a)}),l?(l.resetTo("y",o,-w,!0),S&&l.progress(1)):(d.y=o+"px",d.renderTransform(1))}}})),P.core.getCache(i.trigger).stRevert=va,i.startY=h,i.pins=g,i.markers=p,i.ratio=o,i.autoSpeed=s,r.style.willChange="transform"),i}var r,v,t,n,b,i,a,s,l,c,u,f,h=F.getScrollFunc(R),d=1===F.isTouch?!0===e.smoothTouch?.8:parseFloat(e.smoothTouch)||0:0===e.smooth||!1===e.smooth?0:parseFloat(e.smooth)||.8,g=0,w=0,S=1,p=e.onUpdate,m=e.onStop,T=U(0),x={y:0};function refreshHeight(){return t=r.clientHeight,r.style.overflow="visible",H.style.height=t+"px",t-R.innerHeight}F.addEventListener("refresh",ta),P.delayedCall(.5,function(){return S=0}),this.scrollTop=pa,this.scrollTo=function(e,t,r){var n=P.utils.clamp(0,F.maxScroll(R),isNaN(e)?o.offset(e,r):+e);t?l?P.to(o,{duration:d,scrollTop:n,overwrite:"auto",ease:I}):h(n):pa(n)},this.offset=function(e,t){e=M(e)[0];var r,n=P.getProperty(e,"y"),o=F.create({trigger:e,start:t||"top top"});return b&&sa([o]),r=o.start,o.kill(!1),P.set(e,{y:n}),r},this.content=function(e){return arguments.length?(r=M(e||"#smooth-content")[0]||H.children[0],s=r.getAttribute("style")||"",P.set(r,{overflow:"visible",width:"100%"}),this):r},this.wrapper=function(e){return arguments.length?(v=M(e||"#smooth-wrapper")[0]||function _wrap(e){var t=_.createElement("div");return t.classList.add("ScrollSmoother-wrapper"),e.parentNode.insertBefore(t,e),t.appendChild(e),t}(r),a=v.getAttribute("style")||"",refreshHeight(),P.set(v,d?{overflow:"hidden",position:"fixed",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0}:{overflow:"visible",position:"relative",width:"100%",height:"auto",top:"auto",bottom:"auto",left:"auto",right:"auto"}),this):v},this.effects=function(e,t){if(b=b||[],!e)return b.slice(0);(e=M(e)).forEach(function(e){for(var t=b.length;t--;)b[t].trigger===e&&(b[t].kill(),b.splice(t,1))});t=t||{};var r,n,o=t.speed,i=t.lag,a=[];for(r=0;r<e.length;r++)(n=xa(e[r],o,i,r))&&a.push(n);return b.push.apply(b,a),a},this.content(e.content),this.wrapper(e.wrapper),this.render=function(e){return oa(e||0===e?e:g)},this.getVelocity=function(){return T.getVelocity(-g)},F.scrollerProxy(v,{scrollTop:pa,scrollHeight:function scrollHeight(){return H.scrollHeight},fixedMarkers:!1!==e.fixedMarkers&&!!d,content:r,getBoundingClientRect:function getBoundingClientRect(){return{top:0,left:0,width:R.innerWidth,height:R.innerHeight}}}),F.defaults({scroller:v});var E=F.getAll().filter(function(e){return e.scroller===R||e.scroller===v});E.forEach(function(e){return e.revert(!0)}),n=F.create({animation:P.to(x,{y:function y(){return R.innerHeight-t},ease:"none",data:"ScrollSmoother",duration:100,onUpdate:function onUpdate(){var e=u;e&&(x.y=g,na(n)),oa(x.y,e),ja(),p&&!l&&p(o)}}),onRefreshInit:function onRefreshInit(){return x.y=0},id:"ScrollSmoother",scroller:R,invalidateOnRefresh:!0,start:0,refreshPriority:-9999,end:refreshHeight,onScrubComplete:function onScrubComplete(){T.reset(),m&&m(o)},scrub:d||!0,onRefresh:function onRefresh(e){na(e),oa(x.y)}}),this.smooth=function(e){return d=e,arguments.length?n.scrubDuration(e):n.getTween()?n.getTween().duration():0},n.getTween()&&(n.getTween().vars.ease=e.ease||I),this.scrollTrigger=n,e.effects&&this.effects(!0===e.effects?"[data-speed], [data-lag]":e.effects,{}),E.forEach(function(e){e.vars.scroller=v,e.init(e.vars,e.animation)}),this.paused=function(e){return arguments.length?(!!l!==e&&(e?(n.getTween()&&n.getTween().pause(),h(-g),T.reset(),(c=F.normalizeScroll())&&c.disable(),l=F.observe({preventDefault:!0,type:"wheel,touch,scroll",debounce:!1,onChangeY:function onChangeY(){return pa(-g)}})):(l.kill(),l=0,c&&c.enable(),n.progress=(-g-n.start)/(n.end-n.start),na(n))),this):!!l},this.kill=function(){o.paused(!1),na(n),n.kill();for(var e=b?b.length:0;e--;)b[e].kill();F.scrollerProxy(v),F.removeEventListener("refresh",ta),v.style.cssText=a,r.style.cssText=s;var t=F.defaults({});t&&t.scroller===v&&F.defaults({scroller:R}),o.observer&&F.normalizeScroll(!1),clearInterval(i),B=null,R.removeEventListener("focusin",ra)},e.normalizeScroll&&(this.observer=F.normalizeScroll({debounce:!0})),F.config(e),"overscrollBehavior"in R.getComputedStyle(H)&&P.set(H,{overscrollBehavior:"none"}),R.addEventListener("focusin",ra),i=setInterval(ja,250),"loading"===_.readyState||requestAnimationFrame(function(){return F.refresh()})}t.version="3.10.2",t.create=function(e){return B&&e&&B.content()===M(e.content)[0]?B:new t(e)},t.get=function(){return B},q()&&P.registerPlugin(t),e.ScrollSmoother=t,e.default=t;if (typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})} else {delete e.default}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJsaWIvZ3NhcC9TY3JvbGxTbW9vdGhlci5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/dChleHBvcnRzKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIl0sdCk6dCgoZT1lfHxzZWxmKS53aW5kb3c9ZS53aW5kb3d8fHt9KX0odGhpcyxmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19ZnVuY3Rpb24gcCgpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3d9ZnVuY3Rpb24gcSgpe3JldHVybiBQfHxwKCkmJihQPXdpbmRvdy5nc2FwKSYmUC5yZWdpc3RlclBsdWdpbiYmUH12YXIgUCxrLFIsXyxDLEgsTSxBLEYsQixJLFUsdD0oU2Nyb2xsU21vb3RoZXIucmVnaXN0ZXI9ZnVuY3Rpb24gcmVnaXN0ZXIoZSl7cmV0dXJuIGt8fChQPWV8fHEoKSxwKCkmJndpbmRvdy5kb2N1bWVudCYmKFI9d2luZG93LF89ZG9jdW1lbnQsQz1fLmRvY3VtZW50RWxlbWVudCxIPV8uYm9keSksUCYmKE09UC51dGlscy50b0FycmF5LEE9UC51dGlscy5jbGFtcCxJPVAucGFyc2VFYXNlKFwiZXhwb1wiKSxGPVAuY29yZS5nbG9iYWxzKCkuU2Nyb2xsVHJpZ2dlcixQLmNvcmUuZ2xvYmFscyhcIlNjcm9sbFNtb290aGVyXCIsU2Nyb2xsU21vb3RoZXIpLEgmJkYmJihVPUYuY29yZS5fZ2V0VmVsb2NpdHlQcm9wLGs9MSkpKSxrfSxmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSx0LHIpe3JldHVybiB0JiZfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSx0KSxyJiZfZGVmaW5lUHJvcGVydGllcyhlLHIpLGV9KFNjcm9sbFNtb290aGVyLFt7a2V5OlwicHJvZ3Jlc3NcIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuc2Nyb2xsVHJpZ2dlci5hbmltYXRpb24uX3RpbWUvMTAwfX1dKSxTY3JvbGxTbW9vdGhlcik7ZnVuY3Rpb24gU2Nyb2xsU21vb3RoZXIoZSl7dmFyIG89dGhpcztrfHxTY3JvbGxTbW9vdGhlci5yZWdpc3RlcihQKXx8Y29uc29sZS53YXJuKFwiUGxlYXNlIGdzYXAucmVnaXN0ZXJQbHVnaW4oU2Nyb2xsU21vb3RoZXIpXCIpLGU9dGhpcy52YXJzPWV8fHt9LEImJkIua2lsbCgpLEI9dGhpcztmdW5jdGlvbiBqYSgpe3JldHVybiBULnVwZGF0ZSgtZyl9ZnVuY3Rpb24gbGEoKXtyZXR1cm4gci5zdHlsZS5vdmVyZmxvdz1cInZpc2libGVcIn1mdW5jdGlvbiBuYShlKXt2YXIgdD1lLmdldFR3ZWVuKCk7dCYmKHQucGF1c2UoKSx0Ll90aW1lPXQuX2R1cix0Ll90VGltZT10Ll90RHVyKSx1PSExLGUuYW5pbWF0aW9uLnByb2dyZXNzKGUucHJvZ3Jlc3MsITApfWZ1bmN0aW9uIG9hKGUsdCl7KGUhPT1nJiYhbHx8dCkmJihkJiYoci5zdHlsZS50cmFuc2Zvcm09XCJtYXRyaXgzZCgxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCBcIitlK1wiLCAwLCAxKVwiKSx3PWUtZyxnPWUsRi5pc1VwZGF0aW5nfHxGLnVwZGF0ZSgpKX1mdW5jdGlvbiBwYShlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obCYmKGc9LWUpLHgueT0tZSx1PSEwLGgoZSksdGhpcyk6LWd9ZnVuY3Rpb24gcmEoZSl7di5zY3JvbGxUb3A9MCxGLmlzSW5WaWV3cG9ydChlLnRhcmdldCl8fGUudGFyZ2V0PT09Znx8by5zY3JvbGxUbyhlLnRhcmdldCwhMSxcImNlbnRlciBjZW50ZXJcIiksZj1lLnRhcmdldH1mdW5jdGlvbiBzYShlKXt2YXIgcixuLG8saTtiLmZvckVhY2goZnVuY3Rpb24odCl7cj10LnBpbnMsaT10Lm1hcmtlcnMsZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudHJpZ2dlciE9PXQudHJpZ2dlciYmZS5waW5uZWRDb250YWluZXIhPT10LnRyaWdnZXJ8fHQ9PT1lfHwobj1lLnN0YXJ0LG89KG4tdC5zdGFydC10Lm9mZnNldCkvdC5yYXRpby0obi10LnN0YXJ0KSxyLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIG8tPWUuZGlzdGFuY2UvdC5yYXRpby1lLmRpc3RhbmNlfSksZS5zZXRQb3NpdGlvbnMobitvLGUuZW5kK28pLGUubWFya2VyU3RhcnQmJmkucHVzaChQLnF1aWNrU2V0dGVyKFtlLm1hcmtlclN0YXJ0LGUubWFya2VyRW5kXSxcInlcIixcInB4XCIpKSxlLnBpbiYmMDxlLmVuZCYmKG89ZS5lbmQtZS5zdGFydCxyLnB1c2goe3N0YXJ0OmUuc3RhcnQsZW5kOmUuZW5kLGRpc3RhbmNlOm8sdHJpZzplfSksdC5zZXRQb3NpdGlvbnModC5zdGFydCx0LmVuZCtvKSx0LnZhcnMub25SZWZyZXNoKHQpKSl9KX0pfWZ1bmN0aW9uIHRhKCl7bGEoKSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUobGEpLGImJihiLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFydCxyPWUuYXV0bz9NYXRoLm1pbihGLm1heFNjcm9sbChlLnNjcm9sbGVyKSxlLmVuZCk6dCsoZS5lbmQtdCkvZS5yYXRpbyxuPShyLWUuZW5kKS8yO3QtPW4sci09bixlLm9mZnNldD1ufHwxZS00LGUucGlucy5sZW5ndGg9MCxlLnNldFBvc2l0aW9ucyhNYXRoLm1pbih0LHIpLE1hdGgubWF4KHQscikpLGUudmFycy5vblJlZnJlc2goZSl9KSxzYShGLnNvcnQoKSkpLFQucmVzZXQoKX1mdW5jdGlvbiB1YSgpe3JldHVybiBiJiZiLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUudmFycy5vblJlZnJlc2goZSl9KX1mdW5jdGlvbiB2YSgpe3JldHVybiBiJiZiLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUudmFycy5vblJlZnJlc2hJbml0KGUpfSksdWF9ZnVuY3Rpb24gd2EodCxyLG4sbyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yKG4sbyk6cjtyZXR1cm4gZXx8MD09PWV8fChlPW8uZ2V0QXR0cmlidXRlKFwiZGF0YS1cIit0KXx8KFwic3BlZWRcIj09PXQ/MTowKSksby5zZXRBdHRyaWJ1dGUoXCJkYXRhLVwiK3QsZSksXCJhdXRvXCI9PT1lP2U6cGFyc2VGbG9hdChlKX19ZnVuY3Rpb24geGEocixlLHQsbil7ZnVuY3Rpb24gbGIoKXtlPWEoKSx0PWYoKSxvPXBhcnNlRmxvYXQoZSl8fDEsYz0ocz1cImF1dG9cIj09PWUpPzA6LjUsbCYmbC5raWxsKCksbD10JiZQLnRvKHIse2Vhc2U6SSxvdmVyd3JpdGU6ITEseTpcIis9MFwiLGR1cmF0aW9uOnR9KSxpJiYoaS5yYXRpbz1vLGkuYXV0b1NwZWVkPXMpfWZ1bmN0aW9uIG1iKCl7ZC55PWgrXCJweFwiLGQucmVuZGVyVHJhbnNmb3JtKDEpLGxiKCl9ZnVuY3Rpb24gcWIoZSl7aWYocyl7bWIoKTt2YXIgdD1mdW5jdGlvbiBfYXV0b0Rpc3RhbmNlKGUsdCl7dmFyIHIsbixvPWUucGFyZW50Tm9kZXx8QyxpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYT1vLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9YS50b3AtaS50b3AsbD1hLmJvdHRvbS1pLmJvdHRvbSxjPShNYXRoLmFicyhzKT5NYXRoLmFicyhsKT9zOmwpLygxLXQpLHU9LWMqdDtyZXR1cm4gMDxjJiYodSs9LShuPS41PT0ocj1hLmhlaWdodC8oUi5pbm5lckhlaWdodCthLmhlaWdodCkpPzIqYS5oZWlnaHQ6MipNYXRoLm1pbihhLmhlaWdodCwtYypyLygyKnItMSkpKS8yLGMrPW4pLHtjaGFuZ2U6YyxvZmZzZXQ6dX19KHIsQSgwLDEsLWUuc3RhcnQvKGUuZW5kLWUuc3RhcnQpKSk7bT10LmNoYW5nZSx1PXQub2Zmc2V0fWVsc2UgbT0oZS5lbmQtZS5zdGFydCkqKDEtbyksdT0wO2cuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbS09ZS5kaXN0YW5jZSooMS1vKX0pLGUudmFycy5vblVwZGF0ZShlKSxsJiZsLnByb2dyZXNzKDEpfXZhciBvLGkscyxsLGMsdSxhPXdhKFwic3BlZWRcIixlLG4sciksZj13YShcImxhZ1wiLHQsbixyKSxoPVAuZ2V0UHJvcGVydHkocixcInlcIiksZD1yLl9nc2FwLGc9W10scD1bXSxtPTA7cmV0dXJuIGxiKCksKDEhPT1vfHxzfHxsKSYmKHFiKGk9Ri5jcmVhdGUoe3RyaWdnZXI6cz9yLnBhcmVudE5vZGU6cixzY3JvbGxlcjp2LHNjcnViOiEwLHJlZnJlc2hQcmlvcml0eTotOTk5LG9uUmVmcmVzaEluaXQ6bWIsb25SZWZyZXNoOnFiLG9uS2lsbDpmdW5jdGlvbiBvbktpbGwoZSl7dmFyIHQ9Yi5pbmRleE9mKGUpOzA8PXQmJmIuc3BsaWNlKHQsMSl9LG9uVXBkYXRlOmZ1bmN0aW9uIG9uVXBkYXRlKGUpe3ZhciB0LHIsbixvPWgrbSooZS5wcm9ncmVzcy1jKSxpPWcubGVuZ3RoLGE9MDtpZihlLm9mZnNldCl7aWYoaSl7Zm9yKHI9LXgueSxuPWUuZW5kO2ktLTspe2lmKCh0PWdbaV0pLnRyaWcuaXNBY3RpdmV8fHI+PXQuc3RhcnQmJnI8PXQuZW5kKXJldHVybiB2b2lkKGwmJih0LnRyaWcucHJvZ3Jlc3MrPXQudHJpZy5kaXJlY3Rpb248MD8uMDAxOi0uMDAxLHQudHJpZy51cGRhdGUoMCwwLDEpLGwucmVzZXRUbyhcInlcIixwYXJzZUZsb2F0KGQueSksLXcsITApLFMmJmwucHJvZ3Jlc3MoMSkpKTtyPnQuZW5kJiYoYSs9dC5kaXN0YW5jZSksbi09dC5kaXN0YW5jZX1vPWgrYSttKigoUC51dGlscy5jbGFtcChlLnN0YXJ0LGUuZW5kLHIpLWUuc3RhcnQtYSkvKG4tZS5zdGFydCktYyl9bz1mdW5jdGlvbiBfcm91bmQoZSl7cmV0dXJuIE1hdGgucm91bmQoMWU1KmUpLzFlNXx8MH0obyt1KSxwLmxlbmd0aCYmIXMmJnAuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZShvLWEpfSksbD8obC5yZXNldFRvKFwieVwiLG8sLXcsITApLFMmJmwucHJvZ3Jlc3MoMSkpOihkLnk9bytcInB4XCIsZC5yZW5kZXJUcmFuc2Zvcm0oMSkpfX19KSksUC5jb3JlLmdldENhY2hlKGkudHJpZ2dlcikuc3RSZXZlcnQ9dmEsaS5zdGFydFk9aCxpLnBpbnM9ZyxpLm1hcmtlcnM9cCxpLnJhdGlvPW8saS5hdXRvU3BlZWQ9cyxyLnN0eWxlLndpbGxDaGFuZ2U9XCJ0cmFuc2Zvcm1cIiksaX12YXIgcix2LHQsbixiLGksYSxzLGwsYyx1LGYsaD1GLmdldFNjcm9sbEZ1bmMoUiksZD0xPT09Ri5pc1RvdWNoPyEwPT09ZS5zbW9vdGhUb3VjaD8uODpwYXJzZUZsb2F0KGUuc21vb3RoVG91Y2gpfHwwOjA9PT1lLnNtb290aHx8ITE9PT1lLnNtb290aD8wOnBhcnNlRmxvYXQoZS5zbW9vdGgpfHwuOCxnPTAsdz0wLFM9MSxwPWUub25VcGRhdGUsbT1lLm9uU3RvcCxUPVUoMCkseD17eTowfTtmdW5jdGlvbiByZWZyZXNoSGVpZ2h0KCl7cmV0dXJuIHQ9ci5jbGllbnRIZWlnaHQsci5zdHlsZS5vdmVyZmxvdz1cInZpc2libGVcIixILnN0eWxlLmhlaWdodD10K1wicHhcIix0LVIuaW5uZXJIZWlnaHR9Ri5hZGRFdmVudExpc3RlbmVyKFwicmVmcmVzaFwiLHRhKSxQLmRlbGF5ZWRDYWxsKC41LGZ1bmN0aW9uKCl7cmV0dXJuIFM9MH0pLHRoaXMuc2Nyb2xsVG9wPXBhLHRoaXMuc2Nyb2xsVG89ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVAudXRpbHMuY2xhbXAoMCxGLm1heFNjcm9sbChSKSxpc05hTihlKT9vLm9mZnNldChlLHIpOitlKTt0P2w/UC50byhvLHtkdXJhdGlvbjpkLHNjcm9sbFRvcDpuLG92ZXJ3cml0ZTpcImF1dG9cIixlYXNlOkl9KTpoKG4pOnBhKG4pfSx0aGlzLm9mZnNldD1mdW5jdGlvbihlLHQpe2U9TShlKVswXTt2YXIgcixuPVAuZ2V0UHJvcGVydHkoZSxcInlcIiksbz1GLmNyZWF0ZSh7dHJpZ2dlcjplLHN0YXJ0OnR8fFwidG9wIHRvcFwifSk7cmV0dXJuIGImJnNhKFtvXSkscj1vLnN0YXJ0LG8ua2lsbCghMSksUC5zZXQoZSx7eTpufSkscn0sdGhpcy5jb250ZW50PWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPU0oZXx8XCIjc21vb3RoLWNvbnRlbnRcIilbMF18fEguY2hpbGRyZW5bMF0scz1yLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiLFAuc2V0KHIse292ZXJmbG93OlwidmlzaWJsZVwiLHdpZHRoOlwiMTAwJVwifSksdGhpcyk6cn0sdGhpcy53cmFwcGVyPWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh2PU0oZXx8XCIjc21vb3RoLXdyYXBwZXJcIilbMF18fGZ1bmN0aW9uIF93cmFwKGUpe3ZhciB0PV8uY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdC5jbGFzc0xpc3QuYWRkKFwiU2Nyb2xsU21vb3RoZXItd3JhcHBlclwiKSxlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsZSksdC5hcHBlbmRDaGlsZChlKSx0fShyKSxhPXYuZ2V0QXR0cmlidXRlKFwic3R5bGVcIil8fFwiXCIscmVmcmVzaEhlaWdodCgpLFAuc2V0KHYsZD97b3ZlcmZsb3c6XCJoaWRkZW5cIixwb3NpdGlvbjpcImZpeGVkXCIsaGVpZ2h0OlwiMTAwJVwiLHdpZHRoOlwiMTAwJVwiLHRvcDowLGxlZnQ6MCxyaWdodDowLGJvdHRvbTowfTp7b3ZlcmZsb3c6XCJ2aXNpYmxlXCIscG9zaXRpb246XCJyZWxhdGl2ZVwiLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcImF1dG9cIix0b3A6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wiLGxlZnQ6XCJhdXRvXCIscmlnaHQ6XCJhdXRvXCJ9KSx0aGlzKTp2fSx0aGlzLmVmZmVjdHM9ZnVuY3Rpb24oZSx0KXtpZihiPWJ8fFtdLCFlKXJldHVybiBiLnNsaWNlKDApOyhlPU0oZSkpLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWIubGVuZ3RoO3QtLTspYlt0XS50cmlnZ2VyPT09ZSYmKGJbdF0ua2lsbCgpLGIuc3BsaWNlKHQsMSkpfSk7dD10fHx7fTt2YXIgcixuLG89dC5zcGVlZCxpPXQubGFnLGE9W107Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKykobj14YShlW3JdLG8saSxyKSkmJmEucHVzaChuKTtyZXR1cm4gYi5wdXNoLmFwcGx5KGIsYSksYX0sdGhpcy5jb250ZW50KGUuY29udGVudCksdGhpcy53cmFwcGVyKGUud3JhcHBlciksdGhpcy5yZW5kZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIG9hKGV8fDA9PT1lP2U6Zyl9LHRoaXMuZ2V0VmVsb2NpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gVC5nZXRWZWxvY2l0eSgtZyl9LEYuc2Nyb2xsZXJQcm94eSh2LHtzY3JvbGxUb3A6cGEsc2Nyb2xsSGVpZ2h0OmZ1bmN0aW9uIHNjcm9sbEhlaWdodCgpe3JldHVybiBILnNjcm9sbEhlaWdodH0sZml4ZWRNYXJrZXJzOiExIT09ZS5maXhlZE1hcmtlcnMmJiEhZCxjb250ZW50OnIsZ2V0Qm91bmRpbmdDbGllbnRSZWN0OmZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpe3JldHVybnt0b3A6MCxsZWZ0OjAsd2lkdGg6Ui5pbm5lcldpZHRoLGhlaWdodDpSLmlubmVySGVpZ2h0fX19KSxGLmRlZmF1bHRzKHtzY3JvbGxlcjp2fSk7dmFyIEU9Ri5nZXRBbGwoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2Nyb2xsZXI9PT1SfHxlLnNjcm9sbGVyPT09dn0pO0UuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXZlcnQoITApfSksbj1GLmNyZWF0ZSh7YW5pbWF0aW9uOlAudG8oeCx7eTpmdW5jdGlvbiB5KCl7cmV0dXJuIFIuaW5uZXJIZWlnaHQtdH0sZWFzZTpcIm5vbmVcIixkYXRhOlwiU2Nyb2xsU21vb3RoZXJcIixkdXJhdGlvbjoxMDAsb25VcGRhdGU6ZnVuY3Rpb24gb25VcGRhdGUoKXt2YXIgZT11O2UmJih4Lnk9ZyxuYShuKSksb2EoeC55LGUpLGphKCkscCYmIWwmJnAobyl9fSksb25SZWZyZXNoSW5pdDpmdW5jdGlvbiBvblJlZnJlc2hJbml0KCl7cmV0dXJuIHgueT0wfSxpZDpcIlNjcm9sbFNtb290aGVyXCIsc2Nyb2xsZXI6UixpbnZhbGlkYXRlT25SZWZyZXNoOiEwLHN0YXJ0OjAscmVmcmVzaFByaW9yaXR5Oi05OTk5LGVuZDpyZWZyZXNoSGVpZ2h0LG9uU2NydWJDb21wbGV0ZTpmdW5jdGlvbiBvblNjcnViQ29tcGxldGUoKXtULnJlc2V0KCksbSYmbShvKX0sc2NydWI6ZHx8ITAsb25SZWZyZXNoOmZ1bmN0aW9uIG9uUmVmcmVzaChlKXtuYShlKSxvYSh4LnkpfX0pLHRoaXMuc21vb3RoPWZ1bmN0aW9uKGUpe3JldHVybiBkPWUsYXJndW1lbnRzLmxlbmd0aD9uLnNjcnViRHVyYXRpb24oZSk6bi5nZXRUd2VlbigpP24uZ2V0VHdlZW4oKS5kdXJhdGlvbigpOjB9LG4uZ2V0VHdlZW4oKSYmKG4uZ2V0VHdlZW4oKS52YXJzLmVhc2U9ZS5lYXNlfHxJKSx0aGlzLnNjcm9sbFRyaWdnZXI9bixlLmVmZmVjdHMmJnRoaXMuZWZmZWN0cyghMD09PWUuZWZmZWN0cz9cIltkYXRhLXNwZWVkXSwgW2RhdGEtbGFnXVwiOmUuZWZmZWN0cyx7fSksRS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudmFycy5zY3JvbGxlcj12LGUuaW5pdChlLnZhcnMsZS5hbmltYXRpb24pfSksdGhpcy5wYXVzZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KCEhbCE9PWUmJihlPyhuLmdldFR3ZWVuKCkmJm4uZ2V0VHdlZW4oKS5wYXVzZSgpLGgoLWcpLFQucmVzZXQoKSwoYz1GLm5vcm1hbGl6ZVNjcm9sbCgpKSYmYy5kaXNhYmxlKCksbD1GLm9ic2VydmUoe3ByZXZlbnREZWZhdWx0OiEwLHR5cGU6XCJ3aGVlbCx0b3VjaCxzY3JvbGxcIixkZWJvdW5jZTohMSxvbkNoYW5nZVk6ZnVuY3Rpb24gb25DaGFuZ2VZKCl7cmV0dXJuIHBhKC1nKX19KSk6KGwua2lsbCgpLGw9MCxjJiZjLmVuYWJsZSgpLG4ucHJvZ3Jlc3M9KC1nLW4uc3RhcnQpLyhuLmVuZC1uLnN0YXJ0KSxuYShuKSkpLHRoaXMpOiEhbH0sdGhpcy5raWxsPWZ1bmN0aW9uKCl7by5wYXVzZWQoITEpLG5hKG4pLG4ua2lsbCgpO2Zvcih2YXIgZT1iP2IubGVuZ3RoOjA7ZS0tOyliW2VdLmtpbGwoKTtGLnNjcm9sbGVyUHJveHkodiksRi5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVmcmVzaFwiLHRhKSx2LnN0eWxlLmNzc1RleHQ9YSxyLnN0eWxlLmNzc1RleHQ9czt2YXIgdD1GLmRlZmF1bHRzKHt9KTt0JiZ0LnNjcm9sbGVyPT09diYmRi5kZWZhdWx0cyh7c2Nyb2xsZXI6Un0pLG8ub2JzZXJ2ZXImJkYubm9ybWFsaXplU2Nyb2xsKCExKSxjbGVhckludGVydmFsKGkpLEI9bnVsbCxSLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIscmEpfSxlLm5vcm1hbGl6ZVNjcm9sbCYmKHRoaXMub2JzZXJ2ZXI9Ri5ub3JtYWxpemVTY3JvbGwoe2RlYm91bmNlOiEwfSkpLEYuY29uZmlnKGUpLFwib3ZlcnNjcm9sbEJlaGF2aW9yXCJpbiBSLmdldENvbXB1dGVkU3R5bGUoSCkmJlAuc2V0KEgse292ZXJzY3JvbGxCZWhhdmlvcjpcIm5vbmVcIn0pLFIuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIixyYSksaT1zZXRJbnRlcnZhbChqYSwyNTApLFwibG9hZGluZ1wiPT09Xy5yZWFkeVN0YXRlfHxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtyZXR1cm4gRi5yZWZyZXNoKCl9KX10LnZlcnNpb249XCIzLjEwLjJcIix0LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gQiYmZSYmQi5jb250ZW50KCk9PT1NKGUuY29udGVudClbMF0/QjpuZXcgdChlKX0sdC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gQn0scSgpJiZQLnJlZ2lzdGVyUGx1Z2luKHQpLGUuU2Nyb2xsU21vb3RoZXI9dCxlLmRlZmF1bHQ9dDtpZiAodHlwZW9mKHdpbmRvdyk9PT1cInVuZGVmaW5lZFwifHx3aW5kb3chPT1lKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0gZWxzZSB7ZGVsZXRlIGUuZGVmYXVsdH19KTtcbiJdLCJmaWxlIjoibGliL2dzYXAvU2Nyb2xsU21vb3RoZXIubWluLmpzIn0=
