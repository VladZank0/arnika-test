/*!
  * Button visually impaired - v1.0.0 https://bvi.isvek.ru
  * Copyright 2014-2021 Oleg Korotenko <bvi@isvek.ru>.
  * Licensed MIT (https://github.com/veks/button-visually-impaired-javascript/blob/master/LICENSE.md)
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).isvek=t()}(this,(function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}!function(e){var t=function(e){var t,i=Object.prototype,r=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof g?t:g,o=Object.create(r.prototype),a=new q(i||[]);return o._invoke=function(e,t,n){var i=f;return function(r,o){if(i===d)throw new Error("Generator is already running");if(i===m){if("throw"===r)throw o;return H()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var l=v(e,t,n);if("normal"===l.type){if(i=n.done?m:h,l.arg===b)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=m,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",h="suspendedYield",d="executing",m="completed",b={};function g(){}function p(){}function y(){}var S={};s(S,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(x([])));k&&k!==i&&r.call(k,a)&&(S=k);var w=y.prototype=g.prototype=Object.create(S);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function B(e,t){function i(o,a,c,l){var s=v(e[o],e,a);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"===n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,c,l)}),(function(e){i("throw",e,c,l)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return i("throw",e,c,l)}))}l(s.arg)}var o;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}}function E(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return b;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var r=v(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function q(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function x(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:H}}function H(){return{value:t,done:!0}}return p.prototype=y,s(w,"constructor",y),s(y,"constructor",p),p.displayName=s(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},L(B.prototype),s(B.prototype,c,(function(){return this})),e.AsyncIterator=B,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new B(u(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(w),s(w,l,"Generator"),s(w,a,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=x,q.prototype={constructor:q,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(i,r){return c.type="throw",c.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:x(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),b}},e}({});try{regeneratorRuntime=t}catch(e){"object"===("undefined"==typeof globalThis?"undefined":n(globalThis))?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.insertBefore(t,this.firstChild)}})})),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.HTMLCollection&&!HTMLCollection.prototype.forEach&&(HTMLCollection.prototype.forEach=Array.prototype.forEach);var l=function(e){switch(e){case"on":case"true":case"1":return!0;default:return!1}},s=function(e,t,n){for("string"==typeof t&&(t=document.createElement(t)),e.appendChild(t).className=n;e.firstChild!==t;)t.appendChild(e.firstChild)},u=function(e){var t=document.createDocumentFragment();if(e){for(;e.firstChild;){var n=e.removeChild(e.firstChild);t.appendChild(n)}e.parentNode.replaceChild(t,e)}},v=function(e,t){Object.keys(e).forEach((function(e){"function"==typeof t&&t(e)}))},f=function(e,t){Array.from(e).forEach((function(e){"function"==typeof t&&t(e)}))},h=function(){return window.speechSynthesis},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new Date,i=n.getTime();i+=864e5,n.setTime(i),document.cookie="bvi_".concat(e,"=").concat(t,";path=/;expires=").concat(n.toUTCString(),";domain=").concat(location.host)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e="bvi_".concat(e,"=");for(var t=decodeURIComponent(document.cookie),n=t.split(";"),i=0;i<n.length;i++){var r=n[i].trim();if(-1!==r.indexOf(e))return r.substring(e.length,r.length)}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";document.cookie="bvi_".concat(e,"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=").concat(location.host)},g={"ru-RU":{text:{fontSize:"Размер шрифта",siteColors:"Цвета сайта",images:"Изображения",speech:"Синтез речи",settings:"Настройки",regularVersionOfTheSite:"Обычная версия сайта",letterSpacing:"Межбуквенное расстояние",normal:"Стандартный",average:"Средний",big:"Большой",lineHeight:"Межстрочный интервал",font:"Шрифт",arial:"Без засечек",times:"С засечками",builtElements:"Встроенные элементы (Видео, карты и тд.)",on:"Включить",off:"Выключить",reset:"Сбросить настройки",plural_0:"пиксель",plural_1:"пекселя",plural_2:"пикселей"},voice:{fontSizePlus:"Размер шрифта увели́чен",fontSizeMinus:"Размер шрифта уме́ньшен",siteColorBlackOnWhite:"Цвет сайта черным по белому",siteColorWhiteOnBlack:"Цвет сайта белым по черному",siteColorDarkBlueOnBlue:"Цвет сайта тёмно-синим по голубому",siteColorBeigeBrown:"Цвет сайта кори́чневым по бе́жевому",siteColorGreenOnDarkBrown:"Цвет сайта зеленым по тёмно-коричневому",imagesOn:"Изображения включены",imagesOFF:"Изображения выключены",imagesGrayscale:"Изображения чёрно-белые",speechOn:"Синтез речи включён",speechOff:"Синтез речи вы́ключен",lineHeightNormal:"Межстрочный интервал стандартный",lineHeightAverage:"Межстрочный интервал средний",lineHeightBig:"Межстрочный интервал большой",LetterSpacingNormal:"Интервал между буквами стандартный",LetterSpacingAverage:"Интервал между буквами средний",LetterSpacingBig:"Интервал между буквами большой",fontArial:"Шрифт без засечек",fontTimes:"Шрифт с засечками",builtElementsOn:"Встроенные элементы включены",builtElementsOFF:"Встроенные элементы выключены",resetSettings:"Установлены настройки по умолча́нию",panelShow:"Панель открыта",panelHide:"Панель скрыта",panelOn:"Версия сайта для слабови́дящий",panelOff:"Обычная версия сайта"}},"en-US":{text:{fontSize:"Font size",siteColors:"Site colors",images:"Images",speech:"Speech synthesis",settings:"Settings",regularVersionOfTheSite:"Regular version Of The site",letterSpacing:"Letter spacing",normal:"Single",average:"One and a half",big:"Double",lineHeight:"Line spacing",font:"Font",arial:"Sans Serif - Arial",times:"Serif - Times New Roman",builtElements:"Include inline elements (Videos, maps, etc.)",on:"Enable",off:"Disabled",reset:"Reset settings",plural_0:"pixel",plural_1:"pixels",plural_2:"pixels"},voice:{fontSizePlus:"Font size increased",fontSizeMinus:"Font size reduced",siteColorBlackOnWhite:"Site color black on white",siteColorWhiteOnBlack:"Site color white on black",siteColorDarkBlueOnBlue:"Site color dark blue on cyan",siteColorBeigeBrown:"SiteColorBeigeBrown",siteColorGreenOnDarkBrown:"Site color green on dark brown",imagesOn:"Images enable",imagesOFF:"Images disabled",imagesGrayscale:"Images gray scale",speechOn:"Synthesis speech enable",speechOff:"Synthesis speech disabled",lineHeightNormal:"Line spacing single",lineHeightAverage:"Line spacing one and a half",lineHeightBig:"Line spacing double",LetterSpacingNormal:"Letter spacing single",LetterSpacingAverage:"Letter spacing one and a half",LetterSpacingBig:"Letter spacing letter double",fontArial:"Sans Serif - Arial",fontTimes:"Serif - Times New Roman",builtElementsOn:"Include inline elements are enabled",builtElementsOFF:"Include inline elements are disabled",resetSettings:"Default settings have been set",panelShow:"Panel show",panelHide:"Panel hide",panelOn:"Site version for visually impaired",panelOff:"Regular version of the site"}}},p=function(){function e(t){i(this,e),this._config=t}return o(e,[{key:"t",value:function(e){return g[this._config.lang].text[e]}},{key:"v",value:function(e){return g[this._config.lang].voice[e]}}]),e}(),y={target:".bvi-open",fontSize:16,theme:"white",images:"grayscale",letterSpacing:"normal",lineHeight:"normal",speech:!0,fontFamily:"arial",builtElements:!1,panelFixed:!0,panelHide:!1,reload:!1,lang:"ru-RU"},S={target:"string",fontSize:"number",theme:"string",images:"(string|boolean)",letterSpacing:"string",lineHeight:"string",speech:"boolean",fontFamily:"string",builtElements:"boolean",panelFixed:"boolean",panelHide:"boolean",reload:"boolean",lang:"string"},_={target:"",fontSize:"(^[1-9]$|^[1-3][0-9]?$|^39$)",theme:"(white|black|blue|brown|green)",images:"(true|false|grayscale)",letterSpacing:"(normal|average|big)",lineHeight:"(normal|average|big)",speech:"(true|false)",fontFamily:"(arial|times)",builtElements:"(true|false)",panelFixed:"(true|false)",panelHide:"(true|false)",reload:"(true|false)",lang:"(ru-RU|en-US)"};return{Bvi:function(){function e(t){i(this,e),this._config=this._getConfig(t),this._elements=document.querySelectorAll(this._config.target),this._i18n=new p({lang:this._config.lang}),this._addEventListeners(),this._init(),console.log("Bvi console: ready Button visually impaired v1.0.0")}return o(e,[{key:"_init",value:function(){v(this._config,(function(e){void 0===m(e)&&b("panelActive")})),l(m("panelActive"))?(this._set(),this._getPanel(),this._addEventListenersPanel(),this._images(),this._speechPlayer(),"speechSynthesis"in window&&l(m("speech"))&&setInterval((function(){if(!1===h().pending){var e=document.querySelectorAll(".bvi-speech-play"),t=document.querySelectorAll(".bvi-speech-pause"),n=document.querySelectorAll(".bvi-speech-resume"),i=document.querySelectorAll(".bvi-speech-stop"),r=function(e,t){e.forEach((function(e){return t(e)}))};r(e,(function(e){return e.classList.remove("disabled")})),r(t,(function(e){return e.classList.add("disabled")})),r(n,(function(e){return e.classList.add("disabled")})),r(i,(function(e){return e.classList.add("disabled")}))}}),1e3)):this._remove()}},{key:"_addEventListeners",value:function(){var e=this;if(!this._elements)return!1;this._elements.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),v(e._config,(function(t){return d(t,e._config[t])})),d("panelActive",!0),e._init(),e._speech("".concat(e._i18n.v("panelOn")))}))}))}},{key:"_addEventListenersPanel",value:function(){var e=this,t={fontSizeMinus:document.querySelector(".bvi-fontSize-minus"),fontSizePlus:document.querySelector(".bvi-fontSize-plus"),themeWhite:document.querySelector(".bvi-theme-white"),themeBlack:document.querySelector(".bvi-theme-black"),themeBlue:document.querySelector(".bvi-theme-blue"),themeBrown:document.querySelector(".bvi-theme-brown"),themeGreen:document.querySelector(".bvi-theme-green"),imagesOn:document.querySelector(".bvi-images-on"),imagesOff:document.querySelector(".bvi-images-off"),imagesGrayscale:document.querySelector(".bvi-images-grayscale"),speechOn:document.querySelector(".bvi-speech-on"),speechOff:document.querySelector(".bvi-speech-off"),lineHeightNormal:document.querySelector(".bvi-line-height-normal"),lineHeightAverage:document.querySelector(".bvi-line-height-average"),lineHeightBig:document.querySelector(".bvi-line-height-big"),letterSpacingNormal:document.querySelector(".bvi-letter-spacing-normal"),letterSpacingAverage:document.querySelector(".bvi-letter-spacing-average"),letterSpacingBig:document.querySelector(".bvi-letter-spacing-big"),fontFamilyArial:document.querySelector(".bvi-font-family-arial"),fontFamilyTimes:document.querySelector(".bvi-font-family-times"),builtElementsOn:document.querySelector(".bvi-built-elements-on"),builtElementsOff:document.querySelector(".bvi-built-elements-off"),reset:document.querySelector(".bvi-reset"),links:document.querySelectorAll(".bvi-link"),modal:document.querySelector(".bvi-modal")},n=function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(e.parentNode.children);try{for(n.s();!(t=n.n()).done;)t.value.classList.remove("active")}catch(e){n.e(e)}finally{n.f()}e.classList.add("active")},i=function(e,t){e.addEventListener("click",(function(e){e.preventDefault(),"function"==typeof t&&t(e)}))},r=function(){document.querySelectorAll(".bvi-link").forEach((function(e){e.classList.remove("active")})),v(e._config,(function(e){if("theme"===e){var t=m(e);document.querySelector(".bvi-theme-".concat(t)).classList.add("active")}if("images"===e){var n="grayscale"===m(e)?"grayscale":l(m(e))?"on":"off";document.querySelector(".bvi-images-".concat(n)).classList.add("active")}if("speech"===e){var i=l(m(e))?"on":"off";document.querySelector(".bvi-speech-".concat(i)).classList.add("active")}if("lineHeight"===e){var r=m(e);document.querySelector(".bvi-line-height-".concat(r)).classList.add("active")}if("letterSpacing"===e){var o=m(e);document.querySelector(".bvi-letter-spacing-".concat(o)).classList.add("active")}if("fontFamily"===e){var a=m(e);document.querySelector(".bvi-font-family-".concat(a)).classList.add("active")}if("builtElements"===e){var c=l(m(e))?"on":"off";document.querySelector(".bvi-built-elements-".concat(c)).classList.add("active")}}))};r(),i(t.fontSizeMinus,(function(){var i=parseFloat(m("fontSize"))-1;0!==i&&(e._setAttrDataBviBody("fontSize",i),d("fontSize",i),e._speech("".concat(e._i18n.v("fontSizeMinus"))),n(t.fontSizeMinus))})),i(t.fontSizePlus,(function(){var i=parseFloat(m("fontSize"))+1;40!==i&&(e._setAttrDataBviBody("fontSize",i),d("fontSize",i),e._speech("".concat(e._i18n.v("fontSizePlus"))),n(t.fontSizePlus))})),i(t.themeWhite,(function(){e._setAttrDataBviBody("theme","white"),d("theme","white"),e._speech("".concat(e._i18n.v("siteColorBlackOnWhite"))),n(t.themeWhite)})),i(t.themeBlack,(function(){e._setAttrDataBviBody("theme","black"),d("theme","black"),e._speech("".concat(e._i18n.v("siteColorWhiteOnBlack"))),n(t.themeBlack)})),i(t.themeBlue,(function(){e._setAttrDataBviBody("theme","blue"),d("theme","blue"),e._speech("".concat(e._i18n.v("siteColorDarkBlueOnBlue"))),n(t.themeBlue)})),i(t.themeBrown,(function(){e._setAttrDataBviBody("theme","brown"),d("theme","brown"),e._speech("".concat(e._i18n.v("siteColorBeigeBrown"))),n(t.themeBrown)})),i(t.themeGreen,(function(){e._setAttrDataBviBody("theme","green"),d("theme","green"),e._speech("".concat(e._i18n.v("siteColorGreenOnDarkBrown"))),n(t.themeGreen)})),i(t.imagesOn,(function(){e._setAttrDataBviBody("images","true"),d("images","true"),e._speech("".concat(e._i18n.v("imagesOn"))),n(t.imagesOn)})),i(t.imagesOff,(function(){e._setAttrDataBviBody("images","false"),d("images","false"),e._speech("".concat(e._i18n.v("imagesOFF"))),n(t.imagesOff)})),i(t.imagesGrayscale,(function(){e._setAttrDataBviBody("images","grayscale"),d("images","grayscale"),e._speech("".concat(e._i18n.v("imagesGrayscale"))),n(t.imagesGrayscale)})),i(t.speechOn,(function(){e._setAttrDataBviBody("speech","true"),d("speech","true"),e._speech("".concat(e._i18n.v("speechOn"))),n(t.speechOn),e._speechPlayer()})),i(t.speechOff,(function(){e._speech("".concat(e._i18n.v("speechOff"))),e._setAttrDataBviBody("speech","false"),d("speech","false"),n(t.speechOff),e._speechPlayer()})),i(t.lineHeightNormal,(function(){e._setAttrDataBviBody("lineHeight","normal"),d("lineHeight","normal"),e._speech("".concat(e._i18n.v("lineHeightNormal"))),n(t.lineHeightNormal)})),i(t.lineHeightAverage,(function(){e._setAttrDataBviBody("lineHeight","average"),d("lineHeight","average"),e._speech("".concat(e._i18n.v("lineHeightAverage"))),n(t.lineHeightAverage)})),i(t.lineHeightBig,(function(){e._setAttrDataBviBody("lineHeight","big"),d("lineHeight","big"),e._speech("".concat(e._i18n.v("lineHeightBig"))),n(t.lineHeightBig)})),i(t.letterSpacingNormal,(function(){e._setAttrDataBviBody("letterSpacing","normal"),d("letterSpacing","normal"),e._speech("".concat(e._i18n.v("LetterSpacingNormal"))),n(t.letterSpacingNormal)})),i(t.letterSpacingAverage,(function(){e._setAttrDataBviBody("letterSpacing","average"),d("letterSpacing","average"),e._speech("".concat(e._i18n.v("LetterSpacingAverage"))),n(t.letterSpacingAverage)})),i(t.letterSpacingBig,(function(){e._setAttrDataBviBody("letterSpacing","big"),d("letterSpacing","big"),e._speech("".concat(e._i18n.v("LetterSpacingBig"))),n(t.letterSpacingBig)})),i(t.fontFamilyArial,(function(){e._setAttrDataBviBody("fontFamily","arial"),d("fontFamily","arial"),e._speech("".concat(e._i18n.v("fontArial"))),n(t.fontFamilyArial)})),i(t.fontFamilyTimes,(function(){e._setAttrDataBviBody("fontFamily","times"),d("fontFamily","times"),e._speech("".concat(e._i18n.v("fontTimes"))),n(t.fontFamilyTimes)})),i(t.builtElementsOn,(function(){e._setAttrDataBviBody("builtElements","true"),d("builtElements","true"),e._speech("".concat(e._i18n.v("builtElementsOn"))),n(t.builtElementsOn)})),i(t.builtElementsOff,(function(){e._setAttrDataBviBody("builtElements","false"),d("builtElements","false"),e._speech("".concat(e._i18n.v("builtElementsOFF"))),n(t.builtElementsOff)})),i(t.reset,(function(){e._speech("".concat(e._i18n.v("resetSettings"))),v(e._config,(function(t){e._setAttrDataBviBody(t,e._config[t]),d(t,e._config[t]),r()}))})),f(t.links,(function(n){i(n,(function(n){var i=n.target.getAttribute("data-bvi");"close"===i&&(e._setAttrDataBviBody("panelActive","false"),d("panelActive","false"),e._init()),"modal"===i&&(document.body.style.overflow="hidden",document.body.classList.add("bvi-noscroll"),t.modal.classList.toggle("show")),"modal-close"===i&&(document.body.classList.remove("bvi-noscroll"),document.body.style.overflow="",t.modal.classList.remove("show")),"panel-hide"===i&&(document.querySelector(".bvi-panel").classList.add("bvi-panel-hide"),document.querySelector(".bvi-link-fixed-top").classList.remove("bvi-hide"),document.querySelector(".bvi-link-fixed-top").classList.add("bvi-show"),d("panelHide","true"),e._speech("".concat(e._i18n.v("panelHide")))),"panel-show"===i&&(document.querySelector(".bvi-link-fixed-top").classList.remove("bvi-show"),document.querySelector(".bvi-link-fixed-top").classList.add("bvi-hide"),document.querySelector(".bvi-panel").classList.remove("bvi-panel-hide"),d("panelHide","false"),e._speech("".concat(e._i18n.v("panelShow"))))}))})),i(t.modal,(function(e){e.target.contains(t.modal)&&(document.body.classList.remove("bvi-noscroll"),document.body.style.overflow="",t.modal.classList.remove("show"))}))}},{key:"_getPanel",value:function(){var e=function(){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;l(m("panelFixed"))&&(e>200?document.querySelector(".bvi-panel").classList.add("bvi-fixed-top"):document.querySelector(".bvi-panel").classList.remove("bvi-fixed-top"))},t=l(m("panelHide"))?" bvi-panel-hide":"",n=l(m("panelHide"))?"bvi-show":" bvi-hide",i="\n    <div class='bvi-panel".concat(t,'\'>\n        <div class="bvi-blocks bvi-block-center">\n            <div class="bvi-block">\n                <div class="bvi-block-title">').concat(this._i18n.t("fontSize"),'</div>\n                <a class="bvi-link bvi-fontSize-minus">А-</a>\n                <a class="bvi-link bvi-fontSize-plus">А+</a>\n            </div>\n            <div class="bvi-block">\n                <div class="bvi-block-title">').concat(this._i18n.t("siteColors"),'</div>\n                <a href="#" class="bvi-link bvi-theme-white">Ц</a>\n                <a href="#" class="bvi-link bvi-theme-black">Ц</a>\n                <a href="#" class="bvi-link bvi-theme-blue">Ц</a>\n                <a href="#" class="bvi-link bvi-theme-brown">Ц</a>\n                <a href="#" class="bvi-link bvi-theme-green">Ц</a>\n            </div>\n            <div class="bvi-block">\n                <div class="bvi-block-title">').concat(this._i18n.t("images"),'</div>\n                <a href="#" class="bvi-link bvi-images-on">\n                    <i class="bvi-images bvi-images-image"></i>\n                </a>\n                <a href="#" class="bvi-link bvi-images-off">\n                    <i class="bvi-images bvi-images-minus-circle"></i>\n                </a>\n                <a href="#" class="bvi-link bvi-images-grayscale">\n                    <i class="bvi-images bvi-images-adjust"></i>\n                </a>\n            </div>\n            <div class="bvi-block">\n                <div class="bvi-block-title">').concat(this._i18n.t("speech"),'</div>\n                <a href="#" class="bvi-link bvi-speech-off">\n                    <i class="bvi-images bvi-images-volume-off"></i>\n                </a>\n                <a href="#" class="bvi-link bvi-speech-on">\n                    <i class="bvi-images bvi-images-volume-up"></i>\n                </a>\n            </div>\n            <div class="bvi-block">\n                <div class="bvi-block-title">').concat(this._i18n.t("settings"),'</div>\n                <a href="#" class="bvi-link" data-bvi="modal">\n                    <i class="bvi-images bvi-images-cog"></i>\n                </a>\n                <a href="#" class="bvi-link" data-bvi="close">\n                    ').concat(this._i18n.t("regularVersionOfTheSite"),'\n                </a>\n                <a href="#" class="bvi-link" data-bvi="panel-hide">\n                    <i class="bvi-images bvi-images-minus"></i>\n                </a>\n            </div>\n        </div>\n        <div class="bvi-modal">\n            <div class="bvi-modal-dialog">\n                <div class="bvi-modal-content">\n                    <div class="bvi-modal-header">\n                        <div class="bvi-modal-title">').concat(this._i18n.t("settings"),'</div>\n                        <a href="#" class="bvi-link bvi-modal-close" data-bvi="modal-close">×</a>\n                    </div>\n                    <div class="bvi-modal-body">\n                        <div class="bvi-blocks bvi-block-center">\n                            <div class="bvi-block">\n                                <div class="bvi-block-title">').concat(this._i18n.t("letterSpacing"),'</div>\n                                <a href="#" class="bvi-link bvi-letter-spacing-normal">').concat(this._i18n.t("normal"),'</a>\n                                <a href="#" class="bvi-link bvi-letter-spacing-average">').concat(this._i18n.t("average"),'</a>\n                                <a href="#" class="bvi-link bvi-letter-spacing-big">').concat(this._i18n.t("big"),'</a>\n                            </div>\n                            <div class="bvi-block">\n                                <div class="bvi-block-title">').concat(this._i18n.t("lineHeight"),'</div>\n                                <a href="#" class="bvi-link bvi-line-height-normal">').concat(this._i18n.t("normal"),'</a>\n                                <a href="#" class="bvi-link bvi-line-height-average">').concat(this._i18n.t("average"),'</a>\n                                <a href="#" class="bvi-link bvi-line-height-big">').concat(this._i18n.t("big"),'</a>\n                            </div>\n                            <div class="bvi-block">\n                                <div class="bvi-block-title">').concat(this._i18n.t("font"),'</div>\n                                <a href="#" class="bvi-link bvi-font-family-arial">').concat(this._i18n.t("arial"),'</a>\n                                <a href="#" class="bvi-link bvi-font-family-times">').concat(this._i18n.t("times"),'</a>\n                            </div>\n                            <div class="bvi-block">\n                                <div class="bvi-block-title">').concat(this._i18n.t("builtElements"),'</div>\n                                <a href="#" class="bvi-link bvi-built-elements-on">').concat(this._i18n.t("on"),'</a>\n                                <a href="#" class="bvi-link bvi-built-elements-off">').concat(this._i18n.t("off"),'</a>\n                            </div>\n                        </div>\n                        <div class="bvi-blocks bvi-block-center">\n                            <a href="https://bvi.isvek.ru" class="bvi-copyright" target="_blank">bvi.isvek.ru</a>\n                        </div>\n                    </div>\n                    <div class="bvi-modal-footer">\n                        <a href="#" class="bvi-link bvi-reset">').concat(this._i18n.t("reset"),"</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>"),r='<a href="#" class="bvi-link bvi-link-fixed-top bvi-no-styles '.concat(n,'" data-bvi="panel-show">')+'<i class="bvi-images bvi-images-eye bvi-images-size-32 bvi-no-styles"></i></a>';window.addEventListener("scroll",e),document.querySelector(".bvi-body").insertAdjacentHTML("beforebegin",i),document.querySelector(".bvi-body").insertAdjacentHTML("afterbegin",r),e()}},{key:"_set",value:function(){var e=this;document.body.classList.add("bvi-active"),s(document.body,"div","bvi-body"),v(this._config,(function(t){return e._setAttrDataBviBody(t,m(t))})),f(this._elements,(function(e){return e.style.display="none"})),document.querySelectorAll("img").forEach((function(e){e.classList.contains("bvi-img")&&e.classList.remove("bvi-img")})),document.querySelectorAll("body *").forEach((function(e){e.classList.contains("bvi-background-image")&&e.classList.remove("bvi-background-image")}))}},{key:"_remove",value:function(){var e=document.querySelector(".bvi-panel"),t=document.querySelector(".bvi-body"),n=document.querySelector(".bvi-link-fixed-top");e&&e.remove(),t&&u(t),n&&n.remove(),this._speech("".concat(this._i18n.v("panelOff"))),document.body.classList.remove("bvi-active"),f(this._elements,(function(e){return e.style.display=""})),l(m("reload"))&&document.location.reload(),v(this._config,(function(e){b(e)})),this._speechPlayer(),b("panelActive")}},{key:"_images",value:function(){document.querySelectorAll("img").forEach((function(e){e.classList.contains("bvi-no-style")||e.classList.add("bvi-img")})),document.querySelectorAll(".bvi-body *").forEach((function(e){var t=getComputedStyle(e);"none"===t.backgroundImage||"none"===t.background||e.classList.contains("bvi-no-style")||e.classList.add("bvi-background-image")}))}},{key:"_getConfig",value:function(e){e=t(t({},y),e);var i={};for(var r in y)i[r]=e[r];return function(e,t,i){Object.keys(t).forEach((function(i){var r,o=t[i],a=e[i],c=a&&(r=a)&&"object"===n(r)&&void 0!==r.nodeType?"element":function(e){return null==e?"".concat(e):{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}(a);if(!new RegExp(o).test(c))throw new TypeError('Bvi console: Опция "'.concat(i,'" предоставленный тип "').concat(c,'", ожидаемый тип "').concat(o,'".'))})),Object.keys(i).forEach((function(t){var n=i[t],r=e[t];if(!new RegExp(n).test(r))throw new TypeError('Bvi console: Опция "'.concat(t,'" параметр "').concat(r,'", ожидаемый параметр "').concat(n,'".'))}))}(i,S,_),i}},{key:"_setAttrDataBviBody",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";document.querySelector(".bvi-body").setAttribute("data-bvi-".concat(e),t)}},{key:"_speechPlayer",value:function(){var e=this,t=document.querySelectorAll(".bvi-speech-text"),n=document.querySelectorAll(".bvi-speech-link"),i=document.querySelectorAll(".bvi-speech");if("speechSynthesis"in window&&l(m("speech"))){if(i){t&&t.forEach((function(e){return u(e)})),n&&n.forEach((function(e){return e.remove()})),i.forEach((function(e,t){var n="bvi-speech-text-id-".concat(t+1);s(e,"div","bvi-speech-text ".concat(n)),e.insertAdjacentHTML("afterbegin",'\n            <div class="bvi-speech-link">\n              <a href="#" class="bvi-link bvi-speech-play" title="Воспроизвести">Воспроизвести</a>\n              <a href="#" class="bvi-link bvi-speech-pause disabled" title="Пауза">Пауза</a>\n              <a href="#" class="bvi-link bvi-speech-resume disabled" title="Продолжить">Продолжить</a>\n              <a href="#" class="bvi-link bvi-speech-stop disabled" title="Стоп">Стоп</i></a>\n          </div>')}));var r=document.querySelectorAll(".bvi-speech-play"),o=document.querySelectorAll(".bvi-speech-pause"),a=document.querySelectorAll(".bvi-speech-resume"),c=document.querySelectorAll(".bvi-speech-stop"),v=function(e,t){e.forEach((function(e){e.addEventListener("click",(function(n){if(n.preventDefault(),"function"==typeof t)return t(e,n)}),!1)}))};v(r,(function(t,n){var i=n.target,r=i.parentNode.nextElementSibling,o=n.target.closest(".bvi-speech-link"),a=document.querySelectorAll(".bvi-speech-play"),c=document.querySelectorAll(".bvi-speech-pause"),l=document.querySelectorAll(".bvi-speech-resume"),s=document.querySelectorAll(".bvi-speech-stop");e._speech(r.textContent,r,!0),a.forEach((function(e){return e.classList.remove("disabled")})),c.forEach((function(e){return e.classList.add("disabled")})),l.forEach((function(e){return e.classList.add("disabled")})),s.forEach((function(e){return e.classList.add("disabled")})),i.classList.add("disabled"),o.querySelector(".bvi-speech-pause").classList.remove("disabled"),o.querySelector(".bvi-speech-stop").classList.remove("disabled")})),v(o,(function(e,t){var n=t.target,i=t.target.closest(".bvi-speech-link");n.classList.add("disabled"),i.querySelector(".bvi-speech-resume").classList.remove("disabled"),h().pause()})),v(a,(function(e,t){var n=t.target,i=t.target.closest(".bvi-speech-link");n.classList.add("disabled"),i.querySelector(".bvi-speech-pause").classList.remove("disabled"),h().resume()})),v(c,(function(e,t){var n=t.target,i=t.target.closest(".bvi-speech-link");n.classList.add("disabled"),i.querySelector(".bvi-speech-pause").classList.add("disabled"),i.querySelector(".bvi-speech-play").classList.remove("disabled"),h().cancel()}))}}else t&&t.forEach((function(e){return u(e)})),n&&n.forEach((function(e){return e.remove()}))}},{key:"_speech",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("speechSynthesis"in window&&l(m("speech"))){h().cancel();for(var r=function(e,t){e=String(e),t=Number(t)>>>0;var n=e.slice(0,t+1).search(/\S+$/),i=e.slice(t).search(/\s/);return i<0?e.slice(n):e.slice(n,i+t)},o=120,a=new RegExp("^[\\s\\S]{"+Math.floor(o/2)+","+o+"}[.!?,]{1}|^[\\s\\S]{1,"+o+"}$|^[\\s\\S]{1,"+o+"} "),c=[],s=e,u=h().getVoices();s.length>0;)c.push(s.match(a)[0]),s=s.substring(c[c.length-1].length);c.forEach((function(e){var o=new SpeechSynthesisUtterance(e.trim());o.volume=1,o.rate=1,o.pitch=1,o.lang=n._config.lang;for(var a=0;a<u.length;a++)"ru-RU"===n._config.lang&&"Microsoft Pavel - Russian (Russia)"===u[a].name&&(o.voice=u[a]),"en-US"===n._config.lang&&"Microsoft Pavel - English (English)"===u[a].name&&(o.voice=u[a]);i&&(o.onboundary=function(e){t.classList.add("bvi-highlighting");var n=r(e.utterance.text,e.charIndex),i=t.textContent,o=n.replace(/(\s+)/,"((<[^>]+>)*$1(<[^>]+>)*)"),a=new RegExp("("+o+")","gi");i=(i=i.replace(a,"<mark>$1</mark>")).replace(/(<mark>[^<>]*)((<[^>]+>)+)([^<>]*<\/mark>)/,"$1</mark>$2<mark>$4"),t.innerHTML=i},o.onend=function(e){t.classList.remove("bvi-highlighting");var n=t.textContent;n=n.replace(/(<mark>$1<\/mark>)/,"$1"),t.innerHTML=n}),h().speak(o)}))}}}]),e}()}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJsaWIvYnZpL2J2aS5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gICogQnV0dG9uIHZpc3VhbGx5IGltcGFpcmVkIC0gdjEuMC4wIGh0dHBzOi8vYnZpLmlzdmVrLnJ1XG4gICogQ29weXJpZ2h0IDIwMTQtMjAyMSBPbGVnIEtvcm90ZW5rbyA8YnZpQGlzdmVrLnJ1Pi5cbiAgKiBMaWNlbnNlZCBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS92ZWtzL2J1dHRvbi12aXN1YWxseS1pbXBhaXJlZC1qYXZhc2NyaXB0L2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWQpXG4gICovXG4hZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTooZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOmV8fHNlbGYpLmlzdmVrPXQoKX0odGhpcywoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYoaT1pLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixpKX1yZXR1cm4gbn1mdW5jdGlvbiB0KHQpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP2UoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXthKHQsZSxpW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTplKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIG4oZSl7cmV0dXJuKG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fWZ1bmN0aW9uIG8oZSx0LG4pe3JldHVybiB0JiZyKGUucHJvdG90eXBlLHQpLG4mJnIoZSxuKSxlfWZ1bmN0aW9uIGEoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGMoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxpPW5ldyBBcnJheSh0KTtuPHQ7bisrKWlbbl09ZVtuXTtyZXR1cm4gaX0hZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHQsaT1PYmplY3QucHJvdG90eXBlLHI9aS5oYXNPd25Qcm9wZXJ0eSxvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYT1vLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixjPW8uYXN5bmNJdGVyYXRvcnx8XCJAQGFzeW5jSXRlcmF0b3JcIixsPW8udG9TdHJpbmdUYWd8fFwiQEB0b1N0cmluZ1RhZ1wiO2Z1bmN0aW9uIHMoZSx0LG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksZVt0XX10cnl7cyh7fSxcIlwiKX1jYXRjaChlKXtzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1ufX1mdW5jdGlvbiB1KGUsdCxuLGkpe3ZhciByPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgZz90Omcsbz1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxhPW5ldyBxKGl8fFtdKTtyZXR1cm4gby5faW52b2tlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1mO3JldHVybiBmdW5jdGlvbihyLG8pe2lmKGk9PT1kKXRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7aWYoaT09PW0pe2lmKFwidGhyb3dcIj09PXIpdGhyb3cgbztyZXR1cm4gSCgpfWZvcihuLm1ldGhvZD1yLG4uYXJnPW87Oyl7dmFyIGE9bi5kZWxlZ2F0ZTtpZihhKXt2YXIgYz1FKGEsbik7aWYoYyl7aWYoYz09PWIpY29udGludWU7cmV0dXJuIGN9fWlmKFwibmV4dFwiPT09bi5tZXRob2Qpbi5zZW50PW4uX3NlbnQ9bi5hcmc7ZWxzZSBpZihcInRocm93XCI9PT1uLm1ldGhvZCl7aWYoaT09PWYpdGhyb3cgaT1tLG4uYXJnO24uZGlzcGF0Y2hFeGNlcHRpb24obi5hcmcpfWVsc2VcInJldHVyblwiPT09bi5tZXRob2QmJm4uYWJydXB0KFwicmV0dXJuXCIsbi5hcmcpO2k9ZDt2YXIgbD12KGUsdCxuKTtpZihcIm5vcm1hbFwiPT09bC50eXBlKXtpZihpPW4uZG9uZT9tOmgsbC5hcmc9PT1iKWNvbnRpbnVlO3JldHVybnt2YWx1ZTpsLmFyZyxkb25lOm4uZG9uZX19XCJ0aHJvd1wiPT09bC50eXBlJiYoaT1tLG4ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1sLmFyZyl9fX0oZSxuLGEpLG99ZnVuY3Rpb24gdihlLHQsbil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOmUuY2FsbCh0LG4pfX1jYXRjaChlKXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOmV9fX1lLndyYXA9dTt2YXIgZj1cInN1c3BlbmRlZFN0YXJ0XCIsaD1cInN1c3BlbmRlZFlpZWxkXCIsZD1cImV4ZWN1dGluZ1wiLG09XCJjb21wbGV0ZWRcIixiPXt9O2Z1bmN0aW9uIGcoKXt9ZnVuY3Rpb24gcCgpe31mdW5jdGlvbiB5KCl7fXZhciBTPXt9O3MoUyxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBfPU9iamVjdC5nZXRQcm90b3R5cGVPZixrPV8mJl8oXyh4KFtdKSkpO2smJmshPT1pJiZyLmNhbGwoayxhKSYmKFM9ayk7dmFyIHc9eS5wcm90b3R5cGU9Zy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTKTtmdW5jdGlvbiBMKGUpe1tcIm5leHRcIixcInRocm93XCIsXCJyZXR1cm5cIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7cyhlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBCKGUsdCl7ZnVuY3Rpb24gaShvLGEsYyxsKXt2YXIgcz12KGVbb10sZSxhKTtpZihcInRocm93XCIhPT1zLnR5cGUpe3ZhciB1PXMuYXJnLGY9dS52YWx1ZTtyZXR1cm4gZiYmXCJvYmplY3RcIj09PW4oZikmJnIuY2FsbChmLFwiX19hd2FpdFwiKT90LnJlc29sdmUoZi5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXtpKFwibmV4dFwiLGUsYyxsKX0pLChmdW5jdGlvbihlKXtpKFwidGhyb3dcIixlLGMsbCl9KSk6dC5yZXNvbHZlKGYpLnRoZW4oKGZ1bmN0aW9uKGUpe3UudmFsdWU9ZSxjKHUpfSksKGZ1bmN0aW9uKGUpe3JldHVybiBpKFwidGhyb3dcIixlLGMsbCl9KSl9bChzLmFyZyl9dmFyIG87dGhpcy5faW52b2tlPWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gcigpe3JldHVybiBuZXcgdCgoZnVuY3Rpb24odCxyKXtpKGUsbix0LHIpfSkpfXJldHVybiBvPW8/by50aGVuKHIscik6cigpfX1mdW5jdGlvbiBFKGUsbil7dmFyIGk9ZS5pdGVyYXRvcltuLm1ldGhvZF07aWYoaT09PXQpe2lmKG4uZGVsZWdhdGU9bnVsbCxcInRocm93XCI9PT1uLm1ldGhvZCl7aWYoZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD1cInJldHVyblwiLG4uYXJnPXQsRShlLG4pLFwidGhyb3dcIj09PW4ubWV0aG9kKSlyZXR1cm4gYjtuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIil9cmV0dXJuIGJ9dmFyIHI9dihpLGUuaXRlcmF0b3Isbi5hcmcpO2lmKFwidGhyb3dcIj09PXIudHlwZSlyZXR1cm4gbi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPXIuYXJnLG4uZGVsZWdhdGU9bnVsbCxiO3ZhciBvPXIuYXJnO3JldHVybiBvP28uZG9uZT8obltlLnJlc3VsdE5hbWVdPW8udmFsdWUsbi5uZXh0PWUubmV4dExvYyxcInJldHVyblwiIT09bi5tZXRob2QmJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz10KSxuLmRlbGVnYXRlPW51bGwsYik6bzoobi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSxuLmRlbGVnYXRlPW51bGwsYil9ZnVuY3Rpb24gTyhlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBBKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPVwibm9ybWFsXCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIHEoZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sZS5mb3JFYWNoKE8sdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24geChlKXtpZihlKXt2YXIgbj1lW2FdO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIGk9LTEsbz1mdW5jdGlvbiBuKCl7Zm9yKDsrK2k8ZS5sZW5ndGg7KWlmKHIuY2FsbChlLGkpKXJldHVybiBuLnZhbHVlPWVbaV0sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9dCxuLmRvbmU9ITAsbn07cmV0dXJuIG8ubmV4dD1vfX1yZXR1cm57bmV4dDpIfX1mdW5jdGlvbiBIKCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19cmV0dXJuIHAucHJvdG90eXBlPXkscyh3LFwiY29uc3RydWN0b3JcIix5KSxzKHksXCJjb25zdHJ1Y3RvclwiLHApLHAuZGlzcGxheU5hbWU9cyh5LGwsXCJHZW5lcmF0b3JGdW5jdGlvblwiKSxlLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09cHx8XCJHZW5lcmF0b3JGdW5jdGlvblwiPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSxlLm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx5KTooZS5fX3Byb3RvX189eSxzKGUsbCxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpLGV9LGUuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LEwoQi5wcm90b3R5cGUpLHMoQi5wcm90b3R5cGUsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxlLkFzeW5jSXRlcmF0b3I9QixlLmFzeW5jPWZ1bmN0aW9uKHQsbixpLHIsbyl7dm9pZCAwPT09byYmKG89UHJvbWlzZSk7dmFyIGE9bmV3IEIodSh0LG4saSxyKSxvKTtyZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKG4pP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmEubmV4dCgpfSkpfSxMKHcpLHModyxsLFwiR2VuZXJhdG9yXCIpLHModyxhLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHModyxcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIn0pKSxlLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpdC5wdXNoKG4pO3JldHVybiB0LnJldmVyc2UoKSxmdW5jdGlvbiBuKCl7Zm9yKDt0Lmxlbmd0aDspe3ZhciBpPXQucG9wKCk7aWYoaSBpbiBlKXJldHVybiBuLnZhbHVlPWksbi5kb25lPSExLG59cmV0dXJuIG4uZG9uZT0hMCxufX0sZS52YWx1ZXM9eCxxLnByb3RvdHlwZT17Y29uc3RydWN0b3I6cSxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5hcmc9dCx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChBKSwhZSlmb3IodmFyIG4gaW4gdGhpcylcInRcIj09PW4uY2hhckF0KDApJiZyLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09dCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBuPXRoaXM7ZnVuY3Rpb24gaShpLHIpe3JldHVybiBjLnR5cGU9XCJ0aHJvd1wiLGMuYXJnPWUsbi5uZXh0PWksciYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPXQpLCEhcn1mb3IodmFyIG89dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO28+PTA7LS1vKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbb10sYz1hLmNvbXBsZXRpb247aWYoXCJyb290XCI9PT1hLnRyeUxvYylyZXR1cm4gaShcImVuZFwiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgbD1yLmNhbGwoYSxcImNhdGNoTG9jXCIpLHM9ci5jYWxsKGEsXCJmaW5hbGx5TG9jXCIpO2lmKGwmJnMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBpKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIGkoYS5maW5hbGx5TG9jKX1lbHNlIGlmKGwpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBpKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIXMpdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gaShhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgaT10aGlzLnRyeUVudHJpZXNbbl07aWYoaS50cnlMb2M8PXRoaXMucHJldiYmci5jYWxsKGksXCJmaW5hbGx5TG9jXCIpJiZ0aGlzLnByZXY8aS5maW5hbGx5TG9jKXt2YXIgbz1pO2JyZWFrfX1vJiYoXCJicmVha1wiPT09ZXx8XCJjb250aW51ZVwiPT09ZSkmJm8udHJ5TG9jPD10JiZ0PD1vLmZpbmFsbHlMb2MmJihvPW51bGwpO3ZhciBhPW8/by5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9ZSxhLmFyZz10LG8/KHRoaXMubWV0aG9kPVwibmV4dFwiLHRoaXMubmV4dD1vLmZpbmFsbHlMb2MsYik6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZihcInRocm93XCI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuXCJicmVha1wiPT09ZS50eXBlfHxcImNvbnRpbnVlXCI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOlwicmV0dXJuXCI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD1cInJldHVyblwiLHRoaXMubmV4dD1cImVuZFwiKTpcIm5vcm1hbFwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLGJ9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksQShuKSxifX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4udHJ5TG9jPT09ZSl7dmFyIGk9bi5jb21wbGV0aW9uO2lmKFwidGhyb3dcIj09PWkudHlwZSl7dmFyIHI9aS5hcmc7QShuKX1yZXR1cm4gcn19dGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsbixpKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6eChlKSxyZXN1bHROYW1lOm4sbmV4dExvYzppfSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCksYn19LGV9KHt9KTt0cnl7cmVnZW5lcmF0b3JSdW50aW1lPXR9Y2F0Y2goZSl7XCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2YgZ2xvYmFsVGhpcz9cInVuZGVmaW5lZFwiOm4oZ2xvYmFsVGhpcykpP2dsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lPXQ6RnVuY3Rpb24oXCJyXCIsXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHQpfX0oKSxbRWxlbWVudC5wcm90b3R5cGUsRG9jdW1lbnQucHJvdG90eXBlLERvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlXS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmhhc093blByb3BlcnR5KFwicHJlcGVuZFwiKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcmVwZW5kXCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSx0PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUgaW5zdGFuY2VvZiBOb2RlO3QuYXBwZW5kQ2hpbGQobj9lOmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFN0cmluZyhlKSkpfSkpLHRoaXMuaW5zZXJ0QmVmb3JlKHQsdGhpcy5maXJzdENoaWxkKX19KX0pKSx3aW5kb3cuTm9kZUxpc3QmJiFOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCYmKE5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSx3aW5kb3cuSFRNTENvbGxlY3Rpb24mJiFIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuZm9yRWFjaCYmKEhUTUxDb2xsZWN0aW9uLnByb3RvdHlwZS5mb3JFYWNoPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTt2YXIgbD1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZVwib25cIjpjYXNlXCJ0cnVlXCI6Y2FzZVwiMVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxzPWZ1bmN0aW9uKGUsdCxuKXtmb3IoXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCkpLGUuYXBwZW5kQ2hpbGQodCkuY2xhc3NOYW1lPW47ZS5maXJzdENoaWxkIT09dDspdC5hcHBlbmRDaGlsZChlLmZpcnN0Q2hpbGQpfSx1PWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihlKXtmb3IoO2UuZmlyc3RDaGlsZDspe3ZhciBuPWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTt0LmFwcGVuZENoaWxkKG4pfWUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodCxlKX19LHY9ZnVuY3Rpb24oZSx0KXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0KGUpfSkpfSxmPWZ1bmN0aW9uKGUsdCl7QXJyYXkuZnJvbShlKS5mb3JFYWNoKChmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0KGUpfSkpfSxoPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5zcGVlY2hTeW50aGVzaXN9LGQ9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJcIix0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlwiLG49bmV3IERhdGUsaT1uLmdldFRpbWUoKTtpKz04NjRlNSxuLnNldFRpbWUoaSksZG9jdW1lbnQuY29va2llPVwiYnZpX1wiLmNvbmNhdChlLFwiPVwiKS5jb25jYXQodCxcIjtwYXRoPS87ZXhwaXJlcz1cIikuY29uY2F0KG4udG9VVENTdHJpbmcoKSxcIjtkb21haW49XCIpLmNvbmNhdChsb2NhdGlvbi5ob3N0KX0sbT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcIlwiO2U9XCJidmlfXCIuY29uY2F0KGUsXCI9XCIpO2Zvcih2YXIgdD1kZWNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQuY29va2llKSxuPXQuc3BsaXQoXCI7XCIpLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIHI9bltpXS50cmltKCk7aWYoLTEhPT1yLmluZGV4T2YoZSkpcmV0dXJuIHIuc3Vic3RyaW5nKGUubGVuZ3RoLHIubGVuZ3RoKX19LGI9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJcIjtkb2N1bWVudC5jb29raWU9XCJidmlfXCIuY29uY2F0KGUsXCI9O3BhdGg9LztleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UO2RvbWFpbj1cIikuY29uY2F0KGxvY2F0aW9uLmhvc3QpfSxnPXtcInJ1LVJVXCI6e3RleHQ6e2ZvbnRTaXplOlwi0KDQsNC30LzQtdGAINGI0YDQuNGE0YLQsFwiLHNpdGVDb2xvcnM6XCLQptCy0LXRgtCwINGB0LDQudGC0LBcIixpbWFnZXM6XCLQmNC30L7QsdGA0LDQttC10L3QuNGPXCIsc3BlZWNoOlwi0KHQuNC90YLQtdC3INGA0LXRh9C4XCIsc2V0dGluZ3M6XCLQndCw0YHRgtGA0L7QudC60LhcIixyZWd1bGFyVmVyc2lvbk9mVGhlU2l0ZTpcItCe0LHRi9GH0L3QsNGPINCy0LXRgNGB0LjRjyDRgdCw0LnRgtCwXCIsbGV0dGVyU3BhY2luZzpcItCc0LXQttCx0YPQutCy0LXQvdC90L7QtSDRgNCw0YHRgdGC0L7Rj9C90LjQtVwiLG5vcm1hbDpcItCh0YLQsNC90LTQsNGA0YLQvdGL0LlcIixhdmVyYWdlOlwi0KHRgNC10LTQvdC40LlcIixiaWc6XCLQkdC+0LvRjNGI0L7QuVwiLGxpbmVIZWlnaHQ6XCLQnNC10LbRgdGC0YDQvtGH0L3Ri9C5INC40L3RgtC10YDQstCw0LtcIixmb250Olwi0KjRgNC40YTRglwiLGFyaWFsOlwi0JHQtdC3INC30LDRgdC10YfQtdC6XCIsdGltZXM6XCLQoSDQt9Cw0YHQtdGH0LrQsNC80LhcIixidWlsdEVsZW1lbnRzOlwi0JLRgdGC0YDQvtC10L3QvdGL0LUg0Y3Qu9C10LzQtdC90YLRiyAo0JLQuNC00LXQviwg0LrQsNGA0YLRiyDQuCDRgtC0LilcIixvbjpcItCS0LrQu9GO0YfQuNGC0YxcIixvZmY6XCLQktGL0LrQu9GO0YfQuNGC0YxcIixyZXNldDpcItCh0LHRgNC+0YHQuNGC0Ywg0L3QsNGB0YLRgNC+0LnQutC4XCIscGx1cmFsXzA6XCLQv9C40LrRgdC10LvRjFwiLHBsdXJhbF8xOlwi0L/QtdC60YHQtdC70Y9cIixwbHVyYWxfMjpcItC/0LjQutGB0LXQu9C10LlcIn0sdm9pY2U6e2ZvbnRTaXplUGx1czpcItCg0LDQt9C80LXRgCDRiNGA0LjRhNGC0LAg0YPQstC10LvQuMyB0YfQtdC9XCIsZm9udFNpemVNaW51czpcItCg0LDQt9C80LXRgCDRiNGA0LjRhNGC0LAg0YPQvNC1zIHQvdGM0YjQtdC9XCIsc2l0ZUNvbG9yQmxhY2tPbldoaXRlOlwi0KbQstC10YIg0YHQsNC50YLQsCDRh9C10YDQvdGL0Lwg0L/QviDQsdC10LvQvtC80YNcIixzaXRlQ29sb3JXaGl0ZU9uQmxhY2s6XCLQptCy0LXRgiDRgdCw0LnRgtCwINCx0LXQu9GL0Lwg0L/QviDRh9C10YDQvdC+0LzRg1wiLHNpdGVDb2xvckRhcmtCbHVlT25CbHVlOlwi0KbQstC10YIg0YHQsNC50YLQsCDRgtGR0LzQvdC+LdGB0LjQvdC40Lwg0L/QviDQs9C+0LvRg9Cx0L7QvNGDXCIsc2l0ZUNvbG9yQmVpZ2VCcm93bjpcItCm0LLQtdGCINGB0LDQudGC0LAg0LrQvtGA0LjMgdGH0L3QtdCy0YvQvCDQv9C+INCx0LXMgdC20LXQstC+0LzRg1wiLHNpdGVDb2xvckdyZWVuT25EYXJrQnJvd246XCLQptCy0LXRgiDRgdCw0LnRgtCwINC30LXQu9C10L3Ri9C8INC/0L4g0YLRkdC80L3Qvi3QutC+0YDQuNGH0L3QtdCy0L7QvNGDXCIsaW1hZ2VzT246XCLQmNC30L7QsdGA0LDQttC10L3QuNGPINCy0LrQu9GO0YfQtdC90YtcIixpbWFnZXNPRkY6XCLQmNC30L7QsdGA0LDQttC10L3QuNGPINCy0YvQutC70Y7Rh9C10L3Ri1wiLGltYWdlc0dyYXlzY2FsZTpcItCY0LfQvtCx0YDQsNC20LXQvdC40Y8g0YfRkdGA0L3Qvi3QsdC10LvRi9C1XCIsc3BlZWNoT246XCLQodC40L3RgtC10Lcg0YDQtdGH0Lgg0LLQutC70Y7Rh9GR0L1cIixzcGVlY2hPZmY6XCLQodC40L3RgtC10Lcg0YDQtdGH0Lgg0LLRi8yB0LrQu9GO0YfQtdC9XCIsbGluZUhlaWdodE5vcm1hbDpcItCc0LXQttGB0YLRgNC+0YfQvdGL0Lkg0LjQvdGC0LXRgNCy0LDQuyDRgdGC0LDQvdC00LDRgNGC0L3Ri9C5XCIsbGluZUhlaWdodEF2ZXJhZ2U6XCLQnNC10LbRgdGC0YDQvtGH0L3Ri9C5INC40L3RgtC10YDQstCw0Lsg0YHRgNC10LTQvdC40LlcIixsaW5lSGVpZ2h0QmlnOlwi0JzQtdC20YHRgtGA0L7Rh9C90YvQuSDQuNC90YLQtdGA0LLQsNC7INCx0L7Qu9GM0YjQvtC5XCIsTGV0dGVyU3BhY2luZ05vcm1hbDpcItCY0L3RgtC10YDQstCw0Lsg0LzQtdC20LTRgyDQsdGD0LrQstCw0LzQuCDRgdGC0LDQvdC00LDRgNGC0L3Ri9C5XCIsTGV0dGVyU3BhY2luZ0F2ZXJhZ2U6XCLQmNC90YLQtdGA0LLQsNC7INC80LXQttC00YMg0LHRg9C60LLQsNC80Lgg0YHRgNC10LTQvdC40LlcIixMZXR0ZXJTcGFjaW5nQmlnOlwi0JjQvdGC0LXRgNCy0LDQuyDQvNC10LbQtNGDINCx0YPQutCy0LDQvNC4INCx0L7Qu9GM0YjQvtC5XCIsZm9udEFyaWFsOlwi0KjRgNC40YTRgiDQsdC10Lcg0LfQsNGB0LXRh9C10LpcIixmb250VGltZXM6XCLQqNGA0LjRhNGCINGBINC30LDRgdC10YfQutCw0LzQuFwiLGJ1aWx0RWxlbWVudHNPbjpcItCS0YHRgtGA0L7QtdC90L3Ri9C1INGN0LvQtdC80LXQvdGC0Ysg0LLQutC70Y7Rh9C10L3Ri1wiLGJ1aWx0RWxlbWVudHNPRkY6XCLQktGB0YLRgNC+0LXQvdC90YvQtSDRjdC70LXQvNC10L3RgtGLINCy0YvQutC70Y7Rh9C10L3Ri1wiLHJlc2V0U2V0dGluZ3M6XCLQo9GB0YLQsNC90L7QstC70LXQvdGLINC90LDRgdGC0YDQvtC50LrQuCDQv9C+INGD0LzQvtC70YfQsMyB0L3QuNGOXCIscGFuZWxTaG93Olwi0J/QsNC90LXQu9GMINC+0YLQutGA0YvRgtCwXCIscGFuZWxIaWRlOlwi0J/QsNC90LXQu9GMINGB0LrRgNGL0YLQsFwiLHBhbmVsT246XCLQktC10YDRgdC40Y8g0YHQsNC50YLQsCDQtNC70Y8g0YHQu9Cw0LHQvtCy0LjMgdC00Y/RidC40LlcIixwYW5lbE9mZjpcItCe0LHRi9GH0L3QsNGPINCy0LXRgNGB0LjRjyDRgdCw0LnRgtCwXCJ9fSxcImVuLVVTXCI6e3RleHQ6e2ZvbnRTaXplOlwiRm9udCBzaXplXCIsc2l0ZUNvbG9yczpcIlNpdGUgY29sb3JzXCIsaW1hZ2VzOlwiSW1hZ2VzXCIsc3BlZWNoOlwiU3BlZWNoIHN5bnRoZXNpc1wiLHNldHRpbmdzOlwiU2V0dGluZ3NcIixyZWd1bGFyVmVyc2lvbk9mVGhlU2l0ZTpcIlJlZ3VsYXIgdmVyc2lvbiBPZiBUaGUgc2l0ZVwiLGxldHRlclNwYWNpbmc6XCJMZXR0ZXIgc3BhY2luZ1wiLG5vcm1hbDpcIlNpbmdsZVwiLGF2ZXJhZ2U6XCJPbmUgYW5kIGEgaGFsZlwiLGJpZzpcIkRvdWJsZVwiLGxpbmVIZWlnaHQ6XCJMaW5lIHNwYWNpbmdcIixmb250OlwiRm9udFwiLGFyaWFsOlwiU2FucyBTZXJpZiAtIEFyaWFsXCIsdGltZXM6XCJTZXJpZiAtIFRpbWVzIE5ldyBSb21hblwiLGJ1aWx0RWxlbWVudHM6XCJJbmNsdWRlIGlubGluZSBlbGVtZW50cyAoVmlkZW9zLCBtYXBzLCBldGMuKVwiLG9uOlwiRW5hYmxlXCIsb2ZmOlwiRGlzYWJsZWRcIixyZXNldDpcIlJlc2V0IHNldHRpbmdzXCIscGx1cmFsXzA6XCJwaXhlbFwiLHBsdXJhbF8xOlwicGl4ZWxzXCIscGx1cmFsXzI6XCJwaXhlbHNcIn0sdm9pY2U6e2ZvbnRTaXplUGx1czpcIkZvbnQgc2l6ZSBpbmNyZWFzZWRcIixmb250U2l6ZU1pbnVzOlwiRm9udCBzaXplIHJlZHVjZWRcIixzaXRlQ29sb3JCbGFja09uV2hpdGU6XCJTaXRlIGNvbG9yIGJsYWNrIG9uIHdoaXRlXCIsc2l0ZUNvbG9yV2hpdGVPbkJsYWNrOlwiU2l0ZSBjb2xvciB3aGl0ZSBvbiBibGFja1wiLHNpdGVDb2xvckRhcmtCbHVlT25CbHVlOlwiU2l0ZSBjb2xvciBkYXJrIGJsdWUgb24gY3lhblwiLHNpdGVDb2xvckJlaWdlQnJvd246XCJTaXRlQ29sb3JCZWlnZUJyb3duXCIsc2l0ZUNvbG9yR3JlZW5PbkRhcmtCcm93bjpcIlNpdGUgY29sb3IgZ3JlZW4gb24gZGFyayBicm93blwiLGltYWdlc09uOlwiSW1hZ2VzIGVuYWJsZVwiLGltYWdlc09GRjpcIkltYWdlcyBkaXNhYmxlZFwiLGltYWdlc0dyYXlzY2FsZTpcIkltYWdlcyBncmF5IHNjYWxlXCIsc3BlZWNoT246XCJTeW50aGVzaXMgc3BlZWNoIGVuYWJsZVwiLHNwZWVjaE9mZjpcIlN5bnRoZXNpcyBzcGVlY2ggZGlzYWJsZWRcIixsaW5lSGVpZ2h0Tm9ybWFsOlwiTGluZSBzcGFjaW5nIHNpbmdsZVwiLGxpbmVIZWlnaHRBdmVyYWdlOlwiTGluZSBzcGFjaW5nIG9uZSBhbmQgYSBoYWxmXCIsbGluZUhlaWdodEJpZzpcIkxpbmUgc3BhY2luZyBkb3VibGVcIixMZXR0ZXJTcGFjaW5nTm9ybWFsOlwiTGV0dGVyIHNwYWNpbmcgc2luZ2xlXCIsTGV0dGVyU3BhY2luZ0F2ZXJhZ2U6XCJMZXR0ZXIgc3BhY2luZyBvbmUgYW5kIGEgaGFsZlwiLExldHRlclNwYWNpbmdCaWc6XCJMZXR0ZXIgc3BhY2luZyBsZXR0ZXIgZG91YmxlXCIsZm9udEFyaWFsOlwiU2FucyBTZXJpZiAtIEFyaWFsXCIsZm9udFRpbWVzOlwiU2VyaWYgLSBUaW1lcyBOZXcgUm9tYW5cIixidWlsdEVsZW1lbnRzT246XCJJbmNsdWRlIGlubGluZSBlbGVtZW50cyBhcmUgZW5hYmxlZFwiLGJ1aWx0RWxlbWVudHNPRkY6XCJJbmNsdWRlIGlubGluZSBlbGVtZW50cyBhcmUgZGlzYWJsZWRcIixyZXNldFNldHRpbmdzOlwiRGVmYXVsdCBzZXR0aW5ncyBoYXZlIGJlZW4gc2V0XCIscGFuZWxTaG93OlwiUGFuZWwgc2hvd1wiLHBhbmVsSGlkZTpcIlBhbmVsIGhpZGVcIixwYW5lbE9uOlwiU2l0ZSB2ZXJzaW9uIGZvciB2aXN1YWxseSBpbXBhaXJlZFwiLHBhbmVsT2ZmOlwiUmVndWxhciB2ZXJzaW9uIG9mIHRoZSBzaXRlXCJ9fX0scD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aSh0aGlzLGUpLHRoaXMuX2NvbmZpZz10fXJldHVybiBvKGUsW3trZXk6XCJ0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGdbdGhpcy5fY29uZmlnLmxhbmddLnRleHRbZV19fSx7a2V5OlwidlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBnW3RoaXMuX2NvbmZpZy5sYW5nXS52b2ljZVtlXX19XSksZX0oKSx5PXt0YXJnZXQ6XCIuYnZpLW9wZW5cIixmb250U2l6ZToxNix0aGVtZTpcIndoaXRlXCIsaW1hZ2VzOlwiZ3JheXNjYWxlXCIsbGV0dGVyU3BhY2luZzpcIm5vcm1hbFwiLGxpbmVIZWlnaHQ6XCJub3JtYWxcIixzcGVlY2g6ITAsZm9udEZhbWlseTpcImFyaWFsXCIsYnVpbHRFbGVtZW50czohMSxwYW5lbEZpeGVkOiEwLHBhbmVsSGlkZTohMSxyZWxvYWQ6ITEsbGFuZzpcInJ1LVJVXCJ9LFM9e3RhcmdldDpcInN0cmluZ1wiLGZvbnRTaXplOlwibnVtYmVyXCIsdGhlbWU6XCJzdHJpbmdcIixpbWFnZXM6XCIoc3RyaW5nfGJvb2xlYW4pXCIsbGV0dGVyU3BhY2luZzpcInN0cmluZ1wiLGxpbmVIZWlnaHQ6XCJzdHJpbmdcIixzcGVlY2g6XCJib29sZWFuXCIsZm9udEZhbWlseTpcInN0cmluZ1wiLGJ1aWx0RWxlbWVudHM6XCJib29sZWFuXCIscGFuZWxGaXhlZDpcImJvb2xlYW5cIixwYW5lbEhpZGU6XCJib29sZWFuXCIscmVsb2FkOlwiYm9vbGVhblwiLGxhbmc6XCJzdHJpbmdcIn0sXz17dGFyZ2V0OlwiXCIsZm9udFNpemU6XCIoXlsxLTldJHxeWzEtM11bMC05XT8kfF4zOSQpXCIsdGhlbWU6XCIod2hpdGV8YmxhY2t8Ymx1ZXxicm93bnxncmVlbilcIixpbWFnZXM6XCIodHJ1ZXxmYWxzZXxncmF5c2NhbGUpXCIsbGV0dGVyU3BhY2luZzpcIihub3JtYWx8YXZlcmFnZXxiaWcpXCIsbGluZUhlaWdodDpcIihub3JtYWx8YXZlcmFnZXxiaWcpXCIsc3BlZWNoOlwiKHRydWV8ZmFsc2UpXCIsZm9udEZhbWlseTpcIihhcmlhbHx0aW1lcylcIixidWlsdEVsZW1lbnRzOlwiKHRydWV8ZmFsc2UpXCIscGFuZWxGaXhlZDpcIih0cnVlfGZhbHNlKVwiLHBhbmVsSGlkZTpcIih0cnVlfGZhbHNlKVwiLHJlbG9hZDpcIih0cnVlfGZhbHNlKVwiLGxhbmc6XCIocnUtUlV8ZW4tVVMpXCJ9O3JldHVybntCdmk6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2kodGhpcyxlKSx0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKHQpLHRoaXMuX2VsZW1lbnRzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLnRhcmdldCksdGhpcy5faTE4bj1uZXcgcCh7bGFuZzp0aGlzLl9jb25maWcubGFuZ30pLHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCksdGhpcy5faW5pdCgpLGNvbnNvbGUubG9nKFwiQnZpIGNvbnNvbGU6IHJlYWR5IEJ1dHRvbiB2aXN1YWxseSBpbXBhaXJlZCB2MS4wLjBcIil9cmV0dXJuIG8oZSxbe2tleTpcIl9pbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2KHRoaXMuX2NvbmZpZywoZnVuY3Rpb24oZSl7dm9pZCAwPT09bShlKSYmYihcInBhbmVsQWN0aXZlXCIpfSkpLGwobShcInBhbmVsQWN0aXZlXCIpKT8odGhpcy5fc2V0KCksdGhpcy5fZ2V0UGFuZWwoKSx0aGlzLl9hZGRFdmVudExpc3RlbmVyc1BhbmVsKCksdGhpcy5faW1hZ2VzKCksdGhpcy5fc3BlZWNoUGxheWVyKCksXCJzcGVlY2hTeW50aGVzaXNcImluIHdpbmRvdyYmbChtKFwic3BlZWNoXCIpKSYmc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7aWYoITE9PT1oKCkucGVuZGluZyl7dmFyIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idmktc3BlZWNoLXBsYXlcIiksdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ2aS1zcGVlY2gtcGF1c2VcIiksbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ2aS1zcGVlY2gtcmVzdW1lXCIpLGk9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idmktc3BlZWNoLXN0b3BcIikscj1mdW5jdGlvbihlLHQpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KSl9O3IoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpfSkpLHIodCwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpfSkpLHIobiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpfSkpLHIoaSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpfSkpfX0pLDFlMykpOnRoaXMuX3JlbW92ZSgpfX0se2tleTpcIl9hZGRFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5fZWxlbWVudHMpcmV0dXJuITE7dGhpcy5fZWxlbWVudHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHYoZS5fY29uZmlnLChmdW5jdGlvbih0KXtyZXR1cm4gZCh0LGUuX2NvbmZpZ1t0XSl9KSksZChcInBhbmVsQWN0aXZlXCIsITApLGUuX2luaXQoKSxlLl9zcGVlY2goXCJcIi5jb25jYXQoZS5faTE4bi52KFwicGFuZWxPblwiKSkpfSkpfSkpfX0se2tleTpcIl9hZGRFdmVudExpc3RlbmVyc1BhbmVsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e2ZvbnRTaXplTWludXM6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktZm9udFNpemUtbWludXNcIiksZm9udFNpemVQbHVzOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLWZvbnRTaXplLXBsdXNcIiksdGhlbWVXaGl0ZTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS10aGVtZS13aGl0ZVwiKSx0aGVtZUJsYWNrOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLXRoZW1lLWJsYWNrXCIpLHRoZW1lQmx1ZTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS10aGVtZS1ibHVlXCIpLHRoZW1lQnJvd246ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktdGhlbWUtYnJvd25cIiksdGhlbWVHcmVlbjpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS10aGVtZS1ncmVlblwiKSxpbWFnZXNPbjpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS1pbWFnZXMtb25cIiksaW1hZ2VzT2ZmOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLWltYWdlcy1vZmZcIiksaW1hZ2VzR3JheXNjYWxlOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLWltYWdlcy1ncmF5c2NhbGVcIiksc3BlZWNoT246ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktc3BlZWNoLW9uXCIpLHNwZWVjaE9mZjpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS1zcGVlY2gtb2ZmXCIpLGxpbmVIZWlnaHROb3JtYWw6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktbGluZS1oZWlnaHQtbm9ybWFsXCIpLGxpbmVIZWlnaHRBdmVyYWdlOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLWxpbmUtaGVpZ2h0LWF2ZXJhZ2VcIiksbGluZUhlaWdodEJpZzpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS1saW5lLWhlaWdodC1iaWdcIiksbGV0dGVyU3BhY2luZ05vcm1hbDpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS1sZXR0ZXItc3BhY2luZy1ub3JtYWxcIiksbGV0dGVyU3BhY2luZ0F2ZXJhZ2U6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktbGV0dGVyLXNwYWNpbmctYXZlcmFnZVwiKSxsZXR0ZXJTcGFjaW5nQmlnOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLWxldHRlci1zcGFjaW5nLWJpZ1wiKSxmb250RmFtaWx5QXJpYWw6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktZm9udC1mYW1pbHktYXJpYWxcIiksZm9udEZhbWlseVRpbWVzOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLWZvbnQtZmFtaWx5LXRpbWVzXCIpLGJ1aWx0RWxlbWVudHNPbjpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS1idWlsdC1lbGVtZW50cy1vblwiKSxidWlsdEVsZW1lbnRzT2ZmOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLWJ1aWx0LWVsZW1lbnRzLW9mZlwiKSxyZXNldDpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS1yZXNldFwiKSxsaW5rczpkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ2aS1saW5rXCIpLG1vZGFsOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLW1vZGFsXCIpfSxuPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbXCJAQGl0ZXJhdG9yXCJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1mdW5jdGlvbihlLHQpe2lmKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBjKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKGUpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9jKGUsdCk6dm9pZCAwfX0oZSkpfHx0JiZlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpe24mJihlPW4pO3ZhciBpPTAscj1mdW5jdGlvbigpe307cmV0dXJue3M6cixuOmZ1bmN0aW9uKCl7cmV0dXJuIGk+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW2krK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6cn19dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciBvLGE9ITAsbD0hMTtyZXR1cm57czpmdW5jdGlvbigpe249bi5jYWxsKGUpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9bi5uZXh0KCk7cmV0dXJuIGE9ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7bD0hMCxvPWV9LGY6ZnVuY3Rpb24oKXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihsKXRocm93IG99fX19KGUucGFyZW50Tm9kZS5jaGlsZHJlbik7dHJ5e2ZvcihuLnMoKTshKHQ9bi5uKCkpLmRvbmU7KXQudmFsdWUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKX1jYXRjaChlKXtuLmUoZSl9ZmluYWxseXtuLmYoKX1lLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIil9LGk9ZnVuY3Rpb24oZSx0KXtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdChlKX0pKX0scj1mdW5jdGlvbigpe2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnZpLWxpbmtcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpfSkpLHYoZS5fY29uZmlnLChmdW5jdGlvbihlKXtpZihcInRoZW1lXCI9PT1lKXt2YXIgdD1tKGUpO2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLXRoZW1lLVwiLmNvbmNhdCh0KSkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKX1pZihcImltYWdlc1wiPT09ZSl7dmFyIG49XCJncmF5c2NhbGVcIj09PW0oZSk/XCJncmF5c2NhbGVcIjpsKG0oZSkpP1wib25cIjpcIm9mZlwiO2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLWltYWdlcy1cIi5jb25jYXQobikpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIil9aWYoXCJzcGVlY2hcIj09PWUpe3ZhciBpPWwobShlKSk/XCJvblwiOlwib2ZmXCI7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktc3BlZWNoLVwiLmNvbmNhdChpKSkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKX1pZihcImxpbmVIZWlnaHRcIj09PWUpe3ZhciByPW0oZSk7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktbGluZS1oZWlnaHQtXCIuY29uY2F0KHIpKS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpfWlmKFwibGV0dGVyU3BhY2luZ1wiPT09ZSl7dmFyIG89bShlKTtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS1sZXR0ZXItc3BhY2luZy1cIi5jb25jYXQobykpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIil9aWYoXCJmb250RmFtaWx5XCI9PT1lKXt2YXIgYT1tKGUpO2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLWZvbnQtZmFtaWx5LVwiLmNvbmNhdChhKSkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKX1pZihcImJ1aWx0RWxlbWVudHNcIj09PWUpe3ZhciBjPWwobShlKSk/XCJvblwiOlwib2ZmXCI7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktYnVpbHQtZWxlbWVudHMtXCIuY29uY2F0KGMpKS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpfX0pKX07cigpLGkodC5mb250U2l6ZU1pbnVzLChmdW5jdGlvbigpe3ZhciBpPXBhcnNlRmxvYXQobShcImZvbnRTaXplXCIpKS0xOzAhPT1pJiYoZS5fc2V0QXR0ckRhdGFCdmlCb2R5KFwiZm9udFNpemVcIixpKSxkKFwiZm9udFNpemVcIixpKSxlLl9zcGVlY2goXCJcIi5jb25jYXQoZS5faTE4bi52KFwiZm9udFNpemVNaW51c1wiKSkpLG4odC5mb250U2l6ZU1pbnVzKSl9KSksaSh0LmZvbnRTaXplUGx1cywoZnVuY3Rpb24oKXt2YXIgaT1wYXJzZUZsb2F0KG0oXCJmb250U2l6ZVwiKSkrMTs0MCE9PWkmJihlLl9zZXRBdHRyRGF0YUJ2aUJvZHkoXCJmb250U2l6ZVwiLGkpLGQoXCJmb250U2l6ZVwiLGkpLGUuX3NwZWVjaChcIlwiLmNvbmNhdChlLl9pMThuLnYoXCJmb250U2l6ZVBsdXNcIikpKSxuKHQuZm9udFNpemVQbHVzKSl9KSksaSh0LnRoZW1lV2hpdGUsKGZ1bmN0aW9uKCl7ZS5fc2V0QXR0ckRhdGFCdmlCb2R5KFwidGhlbWVcIixcIndoaXRlXCIpLGQoXCJ0aGVtZVwiLFwid2hpdGVcIiksZS5fc3BlZWNoKFwiXCIuY29uY2F0KGUuX2kxOG4udihcInNpdGVDb2xvckJsYWNrT25XaGl0ZVwiKSkpLG4odC50aGVtZVdoaXRlKX0pKSxpKHQudGhlbWVCbGFjaywoZnVuY3Rpb24oKXtlLl9zZXRBdHRyRGF0YUJ2aUJvZHkoXCJ0aGVtZVwiLFwiYmxhY2tcIiksZChcInRoZW1lXCIsXCJibGFja1wiKSxlLl9zcGVlY2goXCJcIi5jb25jYXQoZS5faTE4bi52KFwic2l0ZUNvbG9yV2hpdGVPbkJsYWNrXCIpKSksbih0LnRoZW1lQmxhY2spfSkpLGkodC50aGVtZUJsdWUsKGZ1bmN0aW9uKCl7ZS5fc2V0QXR0ckRhdGFCdmlCb2R5KFwidGhlbWVcIixcImJsdWVcIiksZChcInRoZW1lXCIsXCJibHVlXCIpLGUuX3NwZWVjaChcIlwiLmNvbmNhdChlLl9pMThuLnYoXCJzaXRlQ29sb3JEYXJrQmx1ZU9uQmx1ZVwiKSkpLG4odC50aGVtZUJsdWUpfSkpLGkodC50aGVtZUJyb3duLChmdW5jdGlvbigpe2UuX3NldEF0dHJEYXRhQnZpQm9keShcInRoZW1lXCIsXCJicm93blwiKSxkKFwidGhlbWVcIixcImJyb3duXCIpLGUuX3NwZWVjaChcIlwiLmNvbmNhdChlLl9pMThuLnYoXCJzaXRlQ29sb3JCZWlnZUJyb3duXCIpKSksbih0LnRoZW1lQnJvd24pfSkpLGkodC50aGVtZUdyZWVuLChmdW5jdGlvbigpe2UuX3NldEF0dHJEYXRhQnZpQm9keShcInRoZW1lXCIsXCJncmVlblwiKSxkKFwidGhlbWVcIixcImdyZWVuXCIpLGUuX3NwZWVjaChcIlwiLmNvbmNhdChlLl9pMThuLnYoXCJzaXRlQ29sb3JHcmVlbk9uRGFya0Jyb3duXCIpKSksbih0LnRoZW1lR3JlZW4pfSkpLGkodC5pbWFnZXNPbiwoZnVuY3Rpb24oKXtlLl9zZXRBdHRyRGF0YUJ2aUJvZHkoXCJpbWFnZXNcIixcInRydWVcIiksZChcImltYWdlc1wiLFwidHJ1ZVwiKSxlLl9zcGVlY2goXCJcIi5jb25jYXQoZS5faTE4bi52KFwiaW1hZ2VzT25cIikpKSxuKHQuaW1hZ2VzT24pfSkpLGkodC5pbWFnZXNPZmYsKGZ1bmN0aW9uKCl7ZS5fc2V0QXR0ckRhdGFCdmlCb2R5KFwiaW1hZ2VzXCIsXCJmYWxzZVwiKSxkKFwiaW1hZ2VzXCIsXCJmYWxzZVwiKSxlLl9zcGVlY2goXCJcIi5jb25jYXQoZS5faTE4bi52KFwiaW1hZ2VzT0ZGXCIpKSksbih0LmltYWdlc09mZil9KSksaSh0LmltYWdlc0dyYXlzY2FsZSwoZnVuY3Rpb24oKXtlLl9zZXRBdHRyRGF0YUJ2aUJvZHkoXCJpbWFnZXNcIixcImdyYXlzY2FsZVwiKSxkKFwiaW1hZ2VzXCIsXCJncmF5c2NhbGVcIiksZS5fc3BlZWNoKFwiXCIuY29uY2F0KGUuX2kxOG4udihcImltYWdlc0dyYXlzY2FsZVwiKSkpLG4odC5pbWFnZXNHcmF5c2NhbGUpfSkpLGkodC5zcGVlY2hPbiwoZnVuY3Rpb24oKXtlLl9zZXRBdHRyRGF0YUJ2aUJvZHkoXCJzcGVlY2hcIixcInRydWVcIiksZChcInNwZWVjaFwiLFwidHJ1ZVwiKSxlLl9zcGVlY2goXCJcIi5jb25jYXQoZS5faTE4bi52KFwic3BlZWNoT25cIikpKSxuKHQuc3BlZWNoT24pLGUuX3NwZWVjaFBsYXllcigpfSkpLGkodC5zcGVlY2hPZmYsKGZ1bmN0aW9uKCl7ZS5fc3BlZWNoKFwiXCIuY29uY2F0KGUuX2kxOG4udihcInNwZWVjaE9mZlwiKSkpLGUuX3NldEF0dHJEYXRhQnZpQm9keShcInNwZWVjaFwiLFwiZmFsc2VcIiksZChcInNwZWVjaFwiLFwiZmFsc2VcIiksbih0LnNwZWVjaE9mZiksZS5fc3BlZWNoUGxheWVyKCl9KSksaSh0LmxpbmVIZWlnaHROb3JtYWwsKGZ1bmN0aW9uKCl7ZS5fc2V0QXR0ckRhdGFCdmlCb2R5KFwibGluZUhlaWdodFwiLFwibm9ybWFsXCIpLGQoXCJsaW5lSGVpZ2h0XCIsXCJub3JtYWxcIiksZS5fc3BlZWNoKFwiXCIuY29uY2F0KGUuX2kxOG4udihcImxpbmVIZWlnaHROb3JtYWxcIikpKSxuKHQubGluZUhlaWdodE5vcm1hbCl9KSksaSh0LmxpbmVIZWlnaHRBdmVyYWdlLChmdW5jdGlvbigpe2UuX3NldEF0dHJEYXRhQnZpQm9keShcImxpbmVIZWlnaHRcIixcImF2ZXJhZ2VcIiksZChcImxpbmVIZWlnaHRcIixcImF2ZXJhZ2VcIiksZS5fc3BlZWNoKFwiXCIuY29uY2F0KGUuX2kxOG4udihcImxpbmVIZWlnaHRBdmVyYWdlXCIpKSksbih0LmxpbmVIZWlnaHRBdmVyYWdlKX0pKSxpKHQubGluZUhlaWdodEJpZywoZnVuY3Rpb24oKXtlLl9zZXRBdHRyRGF0YUJ2aUJvZHkoXCJsaW5lSGVpZ2h0XCIsXCJiaWdcIiksZChcImxpbmVIZWlnaHRcIixcImJpZ1wiKSxlLl9zcGVlY2goXCJcIi5jb25jYXQoZS5faTE4bi52KFwibGluZUhlaWdodEJpZ1wiKSkpLG4odC5saW5lSGVpZ2h0QmlnKX0pKSxpKHQubGV0dGVyU3BhY2luZ05vcm1hbCwoZnVuY3Rpb24oKXtlLl9zZXRBdHRyRGF0YUJ2aUJvZHkoXCJsZXR0ZXJTcGFjaW5nXCIsXCJub3JtYWxcIiksZChcImxldHRlclNwYWNpbmdcIixcIm5vcm1hbFwiKSxlLl9zcGVlY2goXCJcIi5jb25jYXQoZS5faTE4bi52KFwiTGV0dGVyU3BhY2luZ05vcm1hbFwiKSkpLG4odC5sZXR0ZXJTcGFjaW5nTm9ybWFsKX0pKSxpKHQubGV0dGVyU3BhY2luZ0F2ZXJhZ2UsKGZ1bmN0aW9uKCl7ZS5fc2V0QXR0ckRhdGFCdmlCb2R5KFwibGV0dGVyU3BhY2luZ1wiLFwiYXZlcmFnZVwiKSxkKFwibGV0dGVyU3BhY2luZ1wiLFwiYXZlcmFnZVwiKSxlLl9zcGVlY2goXCJcIi5jb25jYXQoZS5faTE4bi52KFwiTGV0dGVyU3BhY2luZ0F2ZXJhZ2VcIikpKSxuKHQubGV0dGVyU3BhY2luZ0F2ZXJhZ2UpfSkpLGkodC5sZXR0ZXJTcGFjaW5nQmlnLChmdW5jdGlvbigpe2UuX3NldEF0dHJEYXRhQnZpQm9keShcImxldHRlclNwYWNpbmdcIixcImJpZ1wiKSxkKFwibGV0dGVyU3BhY2luZ1wiLFwiYmlnXCIpLGUuX3NwZWVjaChcIlwiLmNvbmNhdChlLl9pMThuLnYoXCJMZXR0ZXJTcGFjaW5nQmlnXCIpKSksbih0LmxldHRlclNwYWNpbmdCaWcpfSkpLGkodC5mb250RmFtaWx5QXJpYWwsKGZ1bmN0aW9uKCl7ZS5fc2V0QXR0ckRhdGFCdmlCb2R5KFwiZm9udEZhbWlseVwiLFwiYXJpYWxcIiksZChcImZvbnRGYW1pbHlcIixcImFyaWFsXCIpLGUuX3NwZWVjaChcIlwiLmNvbmNhdChlLl9pMThuLnYoXCJmb250QXJpYWxcIikpKSxuKHQuZm9udEZhbWlseUFyaWFsKX0pKSxpKHQuZm9udEZhbWlseVRpbWVzLChmdW5jdGlvbigpe2UuX3NldEF0dHJEYXRhQnZpQm9keShcImZvbnRGYW1pbHlcIixcInRpbWVzXCIpLGQoXCJmb250RmFtaWx5XCIsXCJ0aW1lc1wiKSxlLl9zcGVlY2goXCJcIi5jb25jYXQoZS5faTE4bi52KFwiZm9udFRpbWVzXCIpKSksbih0LmZvbnRGYW1pbHlUaW1lcyl9KSksaSh0LmJ1aWx0RWxlbWVudHNPbiwoZnVuY3Rpb24oKXtlLl9zZXRBdHRyRGF0YUJ2aUJvZHkoXCJidWlsdEVsZW1lbnRzXCIsXCJ0cnVlXCIpLGQoXCJidWlsdEVsZW1lbnRzXCIsXCJ0cnVlXCIpLGUuX3NwZWVjaChcIlwiLmNvbmNhdChlLl9pMThuLnYoXCJidWlsdEVsZW1lbnRzT25cIikpKSxuKHQuYnVpbHRFbGVtZW50c09uKX0pKSxpKHQuYnVpbHRFbGVtZW50c09mZiwoZnVuY3Rpb24oKXtlLl9zZXRBdHRyRGF0YUJ2aUJvZHkoXCJidWlsdEVsZW1lbnRzXCIsXCJmYWxzZVwiKSxkKFwiYnVpbHRFbGVtZW50c1wiLFwiZmFsc2VcIiksZS5fc3BlZWNoKFwiXCIuY29uY2F0KGUuX2kxOG4udihcImJ1aWx0RWxlbWVudHNPRkZcIikpKSxuKHQuYnVpbHRFbGVtZW50c09mZil9KSksaSh0LnJlc2V0LChmdW5jdGlvbigpe2UuX3NwZWVjaChcIlwiLmNvbmNhdChlLl9pMThuLnYoXCJyZXNldFNldHRpbmdzXCIpKSksdihlLl9jb25maWcsKGZ1bmN0aW9uKHQpe2UuX3NldEF0dHJEYXRhQnZpQm9keSh0LGUuX2NvbmZpZ1t0XSksZCh0LGUuX2NvbmZpZ1t0XSkscigpfSkpfSkpLGYodC5saW5rcywoZnVuY3Rpb24obil7aShuLChmdW5jdGlvbihuKXt2YXIgaT1uLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJ2aVwiKTtcImNsb3NlXCI9PT1pJiYoZS5fc2V0QXR0ckRhdGFCdmlCb2R5KFwicGFuZWxBY3RpdmVcIixcImZhbHNlXCIpLGQoXCJwYW5lbEFjdGl2ZVwiLFwiZmFsc2VcIiksZS5faW5pdCgpKSxcIm1vZGFsXCI9PT1pJiYoZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImJ2aS1ub3Njcm9sbFwiKSx0Lm1vZGFsLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93XCIpKSxcIm1vZGFsLWNsb3NlXCI9PT1pJiYoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiYnZpLW5vc2Nyb2xsXCIpLGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9XCJcIix0Lm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpKSxcInBhbmVsLWhpZGVcIj09PWkmJihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS1wYW5lbFwiKS5jbGFzc0xpc3QuYWRkKFwiYnZpLXBhbmVsLWhpZGVcIiksZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktbGluay1maXhlZC10b3BcIikuY2xhc3NMaXN0LnJlbW92ZShcImJ2aS1oaWRlXCIpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLWxpbmstZml4ZWQtdG9wXCIpLmNsYXNzTGlzdC5hZGQoXCJidmktc2hvd1wiKSxkKFwicGFuZWxIaWRlXCIsXCJ0cnVlXCIpLGUuX3NwZWVjaChcIlwiLmNvbmNhdChlLl9pMThuLnYoXCJwYW5lbEhpZGVcIikpKSksXCJwYW5lbC1zaG93XCI9PT1pJiYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktbGluay1maXhlZC10b3BcIikuY2xhc3NMaXN0LnJlbW92ZShcImJ2aS1zaG93XCIpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLWxpbmstZml4ZWQtdG9wXCIpLmNsYXNzTGlzdC5hZGQoXCJidmktaGlkZVwiKSxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS1wYW5lbFwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiYnZpLXBhbmVsLWhpZGVcIiksZChcInBhbmVsSGlkZVwiLFwiZmFsc2VcIiksZS5fc3BlZWNoKFwiXCIuY29uY2F0KGUuX2kxOG4udihcInBhbmVsU2hvd1wiKSkpKX0pKX0pKSxpKHQubW9kYWwsKGZ1bmN0aW9uKGUpe2UudGFyZ2V0LmNvbnRhaW5zKHQubW9kYWwpJiYoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiYnZpLW5vc2Nyb2xsXCIpLGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9XCJcIix0Lm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpKX0pKX19LHtrZXk6XCJfZ2V0UGFuZWxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09d2luZG93LnBhZ2VZT2Zmc2V0P3dpbmRvdy5wYWdlWU9mZnNldDooZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGV8fGRvY3VtZW50LmJvZHkpLnNjcm9sbFRvcDtsKG0oXCJwYW5lbEZpeGVkXCIpKSYmKGU+MjAwP2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLXBhbmVsXCIpLmNsYXNzTGlzdC5hZGQoXCJidmktZml4ZWQtdG9wXCIpOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLXBhbmVsXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJidmktZml4ZWQtdG9wXCIpKX0sdD1sKG0oXCJwYW5lbEhpZGVcIikpP1wiIGJ2aS1wYW5lbC1oaWRlXCI6XCJcIixuPWwobShcInBhbmVsSGlkZVwiKSk/XCJidmktc2hvd1wiOlwiIGJ2aS1oaWRlXCIsaT1cIlxcbiAgICA8ZGl2IGNsYXNzPSdidmktcGFuZWxcIi5jb25jYXQodCwnXFwnPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1ibG9ja3MgYnZpLWJsb2NrLWNlbnRlclwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidmktYmxvY2tcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1ibG9jay10aXRsZVwiPicpLmNvbmNhdCh0aGlzLl9pMThuLnQoXCJmb250U2l6ZVwiKSwnPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiYnZpLWxpbmsgYnZpLWZvbnRTaXplLW1pbnVzXCI+0JAtPC9hPlxcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImJ2aS1saW5rIGJ2aS1mb250U2l6ZS1wbHVzXCI+0JArPC9hPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidmktYmxvY2tcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1ibG9jay10aXRsZVwiPicpLmNvbmNhdCh0aGlzLl9pMThuLnQoXCJzaXRlQ29sb3JzXCIpLCc8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ2aS1saW5rIGJ2aS10aGVtZS13aGl0ZVwiPtCmPC9hPlxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYnZpLWxpbmsgYnZpLXRoZW1lLWJsYWNrXCI+0KY8L2E+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGluayBidmktdGhlbWUtYmx1ZVwiPtCmPC9hPlxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYnZpLWxpbmsgYnZpLXRoZW1lLWJyb3duXCI+0KY8L2E+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGluayBidmktdGhlbWUtZ3JlZW5cIj7QpjwvYT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnZpLWJsb2NrXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidmktYmxvY2stdGl0bGVcIj4nKS5jb25jYXQodGhpcy5faTE4bi50KFwiaW1hZ2VzXCIpLCc8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ2aS1saW5rIGJ2aS1pbWFnZXMtb25cIj5cXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYnZpLWltYWdlcyBidmktaW1hZ2VzLWltYWdlXCI+PC9pPlxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGluayBidmktaW1hZ2VzLW9mZlwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJidmktaW1hZ2VzIGJ2aS1pbWFnZXMtbWludXMtY2lyY2xlXCI+PC9pPlxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGluayBidmktaW1hZ2VzLWdyYXlzY2FsZVwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJidmktaW1hZ2VzIGJ2aS1pbWFnZXMtYWRqdXN0XCI+PC9pPlxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1ibG9ja1wiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnZpLWJsb2NrLXRpdGxlXCI+JykuY29uY2F0KHRoaXMuX2kxOG4udChcInNwZWVjaFwiKSwnPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGluayBidmktc3BlZWNoLW9mZlwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJidmktaW1hZ2VzIGJ2aS1pbWFnZXMtdm9sdW1lLW9mZlwiPjwvaT5cXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYnZpLWxpbmsgYnZpLXNwZWVjaC1vblwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJidmktaW1hZ2VzIGJ2aS1pbWFnZXMtdm9sdW1lLXVwXCI+PC9pPlxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1ibG9ja1wiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnZpLWJsb2NrLXRpdGxlXCI+JykuY29uY2F0KHRoaXMuX2kxOG4udChcInNldHRpbmdzXCIpLCc8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ2aS1saW5rXCIgZGF0YS1idmk9XCJtb2RhbFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJidmktaW1hZ2VzIGJ2aS1pbWFnZXMtY29nXCI+PC9pPlxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGlua1wiIGRhdGEtYnZpPVwiY2xvc2VcIj5cXG4gICAgICAgICAgICAgICAgICAgICcpLmNvbmNhdCh0aGlzLl9pMThuLnQoXCJyZWd1bGFyVmVyc2lvbk9mVGhlU2l0ZVwiKSwnXFxuICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ2aS1saW5rXCIgZGF0YS1idmk9XCJwYW5lbC1oaWRlXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImJ2aS1pbWFnZXMgYnZpLWltYWdlcy1taW51c1wiPjwvaT5cXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnZpLW1vZGFsXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1tb2RhbC1kaWFsb2dcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1tb2RhbC1jb250ZW50XCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnZpLW1vZGFsLWhlYWRlclwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidmktbW9kYWwtdGl0bGVcIj4nKS5jb25jYXQodGhpcy5faTE4bi50KFwic2V0dGluZ3NcIiksJzwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGluayBidmktbW9kYWwtY2xvc2VcIiBkYXRhLWJ2aT1cIm1vZGFsLWNsb3NlXCI+w5c8L2E+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidmktbW9kYWwtYm9keVwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidmktYmxvY2tzIGJ2aS1ibG9jay1jZW50ZXJcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1ibG9ja1wiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1ibG9jay10aXRsZVwiPicpLmNvbmNhdCh0aGlzLl9pMThuLnQoXCJsZXR0ZXJTcGFjaW5nXCIpLCc8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGluayBidmktbGV0dGVyLXNwYWNpbmctbm9ybWFsXCI+JykuY29uY2F0KHRoaXMuX2kxOG4udChcIm5vcm1hbFwiKSwnPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ2aS1saW5rIGJ2aS1sZXR0ZXItc3BhY2luZy1hdmVyYWdlXCI+JykuY29uY2F0KHRoaXMuX2kxOG4udChcImF2ZXJhZ2VcIiksJzwvYT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGluayBidmktbGV0dGVyLXNwYWNpbmctYmlnXCI+JykuY29uY2F0KHRoaXMuX2kxOG4udChcImJpZ1wiKSwnPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1ibG9ja1wiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1ibG9jay10aXRsZVwiPicpLmNvbmNhdCh0aGlzLl9pMThuLnQoXCJsaW5lSGVpZ2h0XCIpLCc8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGluayBidmktbGluZS1oZWlnaHQtbm9ybWFsXCI+JykuY29uY2F0KHRoaXMuX2kxOG4udChcIm5vcm1hbFwiKSwnPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ2aS1saW5rIGJ2aS1saW5lLWhlaWdodC1hdmVyYWdlXCI+JykuY29uY2F0KHRoaXMuX2kxOG4udChcImF2ZXJhZ2VcIiksJzwvYT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGluayBidmktbGluZS1oZWlnaHQtYmlnXCI+JykuY29uY2F0KHRoaXMuX2kxOG4udChcImJpZ1wiKSwnPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1ibG9ja1wiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1ibG9jay10aXRsZVwiPicpLmNvbmNhdCh0aGlzLl9pMThuLnQoXCJmb250XCIpLCc8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGluayBidmktZm9udC1mYW1pbHktYXJpYWxcIj4nKS5jb25jYXQodGhpcy5faTE4bi50KFwiYXJpYWxcIiksJzwvYT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJidmktbGluayBidmktZm9udC1mYW1pbHktdGltZXNcIj4nKS5jb25jYXQodGhpcy5faTE4bi50KFwidGltZXNcIiksJzwvYT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidmktYmxvY2tcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidmktYmxvY2stdGl0bGVcIj4nKS5jb25jYXQodGhpcy5faTE4bi50KFwiYnVpbHRFbGVtZW50c1wiKSwnPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYnZpLWxpbmsgYnZpLWJ1aWx0LWVsZW1lbnRzLW9uXCI+JykuY29uY2F0KHRoaXMuX2kxOG4udChcIm9uXCIpLCc8L2E+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYnZpLWxpbmsgYnZpLWJ1aWx0LWVsZW1lbnRzLW9mZlwiPicpLmNvbmNhdCh0aGlzLl9pMThuLnQoXCJvZmZcIiksJzwvYT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ2aS1ibG9ja3MgYnZpLWJsb2NrLWNlbnRlclwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly9idmkuaXN2ZWsucnVcIiBjbGFzcz1cImJ2aS1jb3B5cmlnaHRcIiB0YXJnZXQ9XCJfYmxhbmtcIj5idmkuaXN2ZWsucnU8L2E+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidmktbW9kYWwtZm9vdGVyXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ2aS1saW5rIGJ2aS1yZXNldFwiPicpLmNvbmNhdCh0aGlzLl9pMThuLnQoXCJyZXNldFwiKSxcIjwvYT5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cIikscj0nPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ2aS1saW5rIGJ2aS1saW5rLWZpeGVkLXRvcCBidmktbm8tc3R5bGVzICcuY29uY2F0KG4sJ1wiIGRhdGEtYnZpPVwicGFuZWwtc2hvd1wiPicpKyc8aSBjbGFzcz1cImJ2aS1pbWFnZXMgYnZpLWltYWdlcy1leWUgYnZpLWltYWdlcy1zaXplLTMyIGJ2aS1uby1zdHlsZXNcIj48L2k+PC9hPic7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIixlKSxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ2aS1ib2R5XCIpLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWJlZ2luXCIsaSksZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktYm9keVwiKS5pbnNlcnRBZGphY2VudEhUTUwoXCJhZnRlcmJlZ2luXCIsciksZSgpfX0se2tleTpcIl9zZXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiYnZpLWFjdGl2ZVwiKSxzKGRvY3VtZW50LmJvZHksXCJkaXZcIixcImJ2aS1ib2R5XCIpLHYodGhpcy5fY29uZmlnLChmdW5jdGlvbih0KXtyZXR1cm4gZS5fc2V0QXR0ckRhdGFCdmlCb2R5KHQsbSh0KSl9KSksZih0aGlzLl9lbGVtZW50cywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0pKSxkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW1nXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnZpLWltZ1wiKSYmZS5jbGFzc0xpc3QucmVtb3ZlKFwiYnZpLWltZ1wiKX0pKSxkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiYm9keSAqXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnZpLWJhY2tncm91bmQtaW1hZ2VcIikmJmUuY2xhc3NMaXN0LnJlbW92ZShcImJ2aS1iYWNrZ3JvdW5kLWltYWdlXCIpfSkpfX0se2tleTpcIl9yZW1vdmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLXBhbmVsXCIpLHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktYm9keVwiKSxuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLWxpbmstZml4ZWQtdG9wXCIpO2UmJmUucmVtb3ZlKCksdCYmdSh0KSxuJiZuLnJlbW92ZSgpLHRoaXMuX3NwZWVjaChcIlwiLmNvbmNhdCh0aGlzLl9pMThuLnYoXCJwYW5lbE9mZlwiKSkpLGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImJ2aS1hY3RpdmVcIiksZih0aGlzLl9lbGVtZW50cywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3R5bGUuZGlzcGxheT1cIlwifSkpLGwobShcInJlbG9hZFwiKSkmJmRvY3VtZW50LmxvY2F0aW9uLnJlbG9hZCgpLHYodGhpcy5fY29uZmlnLChmdW5jdGlvbihlKXtiKGUpfSkpLHRoaXMuX3NwZWVjaFBsYXllcigpLGIoXCJwYW5lbEFjdGl2ZVwiKX19LHtrZXk6XCJfaW1hZ2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW1nXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnZpLW5vLXN0eWxlXCIpfHxlLmNsYXNzTGlzdC5hZGQoXCJidmktaW1nXCIpfSkpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnZpLWJvZHkgKlwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1nZXRDb21wdXRlZFN0eWxlKGUpO1wibm9uZVwiPT09dC5iYWNrZ3JvdW5kSW1hZ2V8fFwibm9uZVwiPT09dC5iYWNrZ3JvdW5kfHxlLmNsYXNzTGlzdC5jb250YWlucyhcImJ2aS1uby1zdHlsZVwiKXx8ZS5jbGFzc0xpc3QuYWRkKFwiYnZpLWJhY2tncm91bmQtaW1hZ2VcIil9KSl9fSx7a2V5OlwiX2dldENvbmZpZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2U9dCh0KHt9LHkpLGUpO3ZhciBpPXt9O2Zvcih2YXIgciBpbiB5KWlbcl09ZVtyXTtyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGkpe3ZhciByLG89dFtpXSxhPWVbaV0sYz1hJiYocj1hKSYmXCJvYmplY3RcIj09PW4ocikmJnZvaWQgMCE9PXIubm9kZVR5cGU/XCJlbGVtZW50XCI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/XCJcIi5jb25jYXQoZSk6e30udG9TdHJpbmcuY2FsbChlKS5tYXRjaCgvXFxzKFthLXpdKykvaSlbMV0udG9Mb3dlckNhc2UoKX0oYSk7aWYoIW5ldyBSZWdFeHAobykudGVzdChjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdCdmkgY29uc29sZTog0J7Qv9GG0LjRjyBcIicuY29uY2F0KGksJ1wiINC/0YDQtdC00L7RgdGC0LDQstC70LXQvdC90YvQuSDRgtC40L8gXCInKS5jb25jYXQoYywnXCIsINC+0LbQuNC00LDQtdC80YvQuSDRgtC40L8gXCInKS5jb25jYXQobywnXCIuJykpfSkpLE9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPWlbdF0scj1lW3RdO2lmKCFuZXcgUmVnRXhwKG4pLnRlc3QocikpdGhyb3cgbmV3IFR5cGVFcnJvcignQnZpIGNvbnNvbGU6INCe0L/RhtC40Y8gXCInLmNvbmNhdCh0LCdcIiDQv9Cw0YDQsNC80LXRgtGAIFwiJykuY29uY2F0KHIsJ1wiLCDQvtC20LjQtNCw0LXQvNGL0Lkg0L/QsNGA0LDQvNC10YLRgCBcIicpLmNvbmNhdChuLCdcIi4nKSl9KSl9KGksUyxfKSxpfX0se2tleTpcIl9zZXRBdHRyRGF0YUJ2aUJvZHlcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcIlwiLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiXCI7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idmktYm9keVwiKS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJ2aS1cIi5jb25jYXQoZSksdCl9fSx7a2V5OlwiX3NwZWVjaFBsYXllclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnZpLXNwZWVjaC10ZXh0XCIpLG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idmktc3BlZWNoLWxpbmtcIiksaT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ2aS1zcGVlY2hcIik7aWYoXCJzcGVlY2hTeW50aGVzaXNcImluIHdpbmRvdyYmbChtKFwic3BlZWNoXCIpKSl7aWYoaSl7dCYmdC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdShlKX0pKSxuJiZuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlbW92ZSgpfSkpLGkuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXt2YXIgbj1cImJ2aS1zcGVlY2gtdGV4dC1pZC1cIi5jb25jYXQodCsxKTtzKGUsXCJkaXZcIixcImJ2aS1zcGVlY2gtdGV4dCBcIi5jb25jYXQobikpLGUuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYWZ0ZXJiZWdpblwiLCdcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnZpLXNwZWVjaC1saW5rXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwiYnZpLWxpbmsgYnZpLXNwZWVjaC1wbGF5XCIgdGl0bGU9XCLQktC+0YHQv9GA0L7QuNC30LLQtdGB0YLQuFwiPtCS0L7RgdC/0YDQvtC40LfQstC10YHRgtC4PC9hPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ2aS1saW5rIGJ2aS1zcGVlY2gtcGF1c2UgZGlzYWJsZWRcIiB0aXRsZT1cItCf0LDRg9C30LBcIj7Qn9Cw0YPQt9CwPC9hPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ2aS1saW5rIGJ2aS1zcGVlY2gtcmVzdW1lIGRpc2FibGVkXCIgdGl0bGU9XCLQn9GA0L7QtNC+0LvQttC40YLRjFwiPtCf0YDQvtC00L7Qu9C20LjRgtGMPC9hPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ2aS1saW5rIGJ2aS1zcGVlY2gtc3RvcCBkaXNhYmxlZFwiIHRpdGxlPVwi0KHRgtC+0L9cIj7QodGC0L7QvzwvaT48L2E+XFxuICAgICAgICAgIDwvZGl2PicpfSkpO3ZhciByPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnZpLXNwZWVjaC1wbGF5XCIpLG89ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idmktc3BlZWNoLXBhdXNlXCIpLGE9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idmktc3BlZWNoLXJlc3VtZVwiKSxjPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnZpLXNwZWVjaC1zdG9wXCIpLHY9ZnVuY3Rpb24oZSx0KXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKG4pe2lmKG4ucHJldmVudERlZmF1bHQoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXJldHVybiB0KGUsbil9KSwhMSl9KSl9O3YociwoZnVuY3Rpb24odCxuKXt2YXIgaT1uLnRhcmdldCxyPWkucGFyZW50Tm9kZS5uZXh0RWxlbWVudFNpYmxpbmcsbz1uLnRhcmdldC5jbG9zZXN0KFwiLmJ2aS1zcGVlY2gtbGlua1wiKSxhPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnZpLXNwZWVjaC1wbGF5XCIpLGM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idmktc3BlZWNoLXBhdXNlXCIpLGw9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idmktc3BlZWNoLXJlc3VtZVwiKSxzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnZpLXNwZWVjaC1zdG9wXCIpO2UuX3NwZWVjaChyLnRleHRDb250ZW50LHIsITApLGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpfSkpLGMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpfSkpLGwuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpfSkpLHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpfSkpLGkuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpLG8ucXVlcnlTZWxlY3RvcihcIi5idmktc3BlZWNoLXBhdXNlXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZFwiKSxvLnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLXNwZWVjaC1zdG9wXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZFwiKX0pKSx2KG8sKGZ1bmN0aW9uKGUsdCl7dmFyIG49dC50YXJnZXQsaT10LnRhcmdldC5jbG9zZXN0KFwiLmJ2aS1zcGVlY2gtbGlua1wiKTtuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKSxpLnF1ZXJ5U2VsZWN0b3IoXCIuYnZpLXNwZWVjaC1yZXN1bWVcIikuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpLGgoKS5wYXVzZSgpfSkpLHYoYSwoZnVuY3Rpb24oZSx0KXt2YXIgbj10LnRhcmdldCxpPXQudGFyZ2V0LmNsb3Nlc3QoXCIuYnZpLXNwZWVjaC1saW5rXCIpO24uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpLGkucXVlcnlTZWxlY3RvcihcIi5idmktc3BlZWNoLXBhdXNlXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZFwiKSxoKCkucmVzdW1lKCl9KSksdihjLChmdW5jdGlvbihlLHQpe3ZhciBuPXQudGFyZ2V0LGk9dC50YXJnZXQuY2xvc2VzdChcIi5idmktc3BlZWNoLWxpbmtcIik7bi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIiksaS5xdWVyeVNlbGVjdG9yKFwiLmJ2aS1zcGVlY2gtcGF1c2VcIikuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpLGkucXVlcnlTZWxlY3RvcihcIi5idmktc3BlZWNoLXBsYXlcIikuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpLGgoKS5jYW5jZWwoKX0pKX19ZWxzZSB0JiZ0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB1KGUpfSkpLG4mJm4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVtb3ZlKCl9KSl9fSx7a2V5OlwiX3NwZWVjaFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07aWYoXCJzcGVlY2hTeW50aGVzaXNcImluIHdpbmRvdyYmbChtKFwic3BlZWNoXCIpKSl7aCgpLmNhbmNlbCgpO2Zvcih2YXIgcj1mdW5jdGlvbihlLHQpe2U9U3RyaW5nKGUpLHQ9TnVtYmVyKHQpPj4+MDt2YXIgbj1lLnNsaWNlKDAsdCsxKS5zZWFyY2goL1xcUyskLyksaT1lLnNsaWNlKHQpLnNlYXJjaCgvXFxzLyk7cmV0dXJuIGk8MD9lLnNsaWNlKG4pOmUuc2xpY2UobixpK3QpfSxvPTEyMCxhPW5ldyBSZWdFeHAoXCJeW1xcXFxzXFxcXFNde1wiK01hdGguZmxvb3Ioby8yKStcIixcIitvK1wifVsuIT8sXXsxfXxeW1xcXFxzXFxcXFNdezEsXCIrbytcIn0kfF5bXFxcXHNcXFxcU117MSxcIitvK1wifSBcIiksYz1bXSxzPWUsdT1oKCkuZ2V0Vm9pY2VzKCk7cy5sZW5ndGg+MDspYy5wdXNoKHMubWF0Y2goYSlbMF0pLHM9cy5zdWJzdHJpbmcoY1tjLmxlbmd0aC0xXS5sZW5ndGgpO2MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG89bmV3IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZShlLnRyaW0oKSk7by52b2x1bWU9MSxvLnJhdGU9MSxvLnBpdGNoPTEsby5sYW5nPW4uX2NvbmZpZy5sYW5nO2Zvcih2YXIgYT0wO2E8dS5sZW5ndGg7YSsrKVwicnUtUlVcIj09PW4uX2NvbmZpZy5sYW5nJiZcIk1pY3Jvc29mdCBQYXZlbCAtIFJ1c3NpYW4gKFJ1c3NpYSlcIj09PXVbYV0ubmFtZSYmKG8udm9pY2U9dVthXSksXCJlbi1VU1wiPT09bi5fY29uZmlnLmxhbmcmJlwiTWljcm9zb2Z0IFBhdmVsIC0gRW5nbGlzaCAoRW5nbGlzaClcIj09PXVbYV0ubmFtZSYmKG8udm9pY2U9dVthXSk7aSYmKG8ub25ib3VuZGFyeT1mdW5jdGlvbihlKXt0LmNsYXNzTGlzdC5hZGQoXCJidmktaGlnaGxpZ2h0aW5nXCIpO3ZhciBuPXIoZS51dHRlcmFuY2UudGV4dCxlLmNoYXJJbmRleCksaT10LnRleHRDb250ZW50LG89bi5yZXBsYWNlKC8oXFxzKykvLFwiKCg8W14+XSs+KSokMSg8W14+XSs+KSopXCIpLGE9bmV3IFJlZ0V4cChcIihcIitvK1wiKVwiLFwiZ2lcIik7aT0oaT1pLnJlcGxhY2UoYSxcIjxtYXJrPiQxPC9tYXJrPlwiKSkucmVwbGFjZSgvKDxtYXJrPltePD5dKikoKDxbXj5dKz4pKykoW148Pl0qPFxcL21hcms+KS8sXCIkMTwvbWFyaz4kMjxtYXJrPiQ0XCIpLHQuaW5uZXJIVE1MPWl9LG8ub25lbmQ9ZnVuY3Rpb24oZSl7dC5jbGFzc0xpc3QucmVtb3ZlKFwiYnZpLWhpZ2hsaWdodGluZ1wiKTt2YXIgbj10LnRleHRDb250ZW50O249bi5yZXBsYWNlKC8oPG1hcms+JDE8XFwvbWFyaz4pLyxcIiQxXCIpLHQuaW5uZXJIVE1MPW59KSxoKCkuc3BlYWsobyl9KSl9fX1dKSxlfSgpfX0pKTtcbiJdLCJmaWxlIjoibGliL2J2aS9idmkubWluLmpzIn0=
