!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LocomotiveScroll=e()}(this,(function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function i(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?c(t):e}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=r(t);if(e){var n=r(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return h(this,i)}}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var s=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}(t,e);if(s){var n=Object.getOwnPropertyDescriptor(s,e);return n.get?n.get.call(i):n.value}})(t,e,i||t)}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],s=!0,n=!1,o=void 0;try{for(var l,r=t[Symbol.iterator]();!(s=(l=r.next()).done)&&(i.push(l.value),!e||i.length!==e);s=!0);}catch(t){n=!0,o=t}finally{try{s||null==r.return||r.return()}finally{if(n)throw o}}return i}(t,e)||m(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){if(t){if("string"==typeof t)return v(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var y={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},b=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),Object.assign(this,y,i),this.smartphone=y.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=y.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return i(e,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame((function(){t.resize(),t.resizeTick=!1})))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var t=this.context;if(this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",t!=this.context)("desktop"==t?this.smooth:this[t].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var t=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach((function(e){e.addEventListener("click",t.setScrollTo,!1)}))}},{key:"setScrollTo",value:function(t){t.preventDefault(),this.scrollTo(t.currentTarget.getAttribute("data-".concat(this.name,"-href"))||t.currentTarget.getAttribute("href"),{offset:t.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(t){var e=this,i=this.instance.scroll.y,s=i+this.windowHeight,n=this.instance.scroll.x,o=n+this.windowWidth;Object.entries(this.els).forEach((function(l){var r=f(l,2),a=r[0],c=r[1];if(!c||c.inView&&!t||("horizontal"===e.direction?o>=c.left&&n<c.right&&e.setInView(c,a):s>=c.top&&i<c.bottom&&e.setInView(c,a)),c&&c.inView)if("horizontal"===e.direction){var h=c.right-c.left;c.progress=(e.instance.scroll.x-(c.left-e.windowWidth))/(h+e.windowWidth),(o<c.left||n>c.right)&&e.setOutOfView(c,a)}else{var d=c.bottom-c.top;c.progress=(e.instance.scroll.y-(c.top-e.windowHeight))/(d+e.windowHeight),(s<c.top||i>c.bottom)&&e.setOutOfView(c,a)}})),this.hasScrollTicking=!1}},{key:"setInView",value:function(t,e){this.els[e].inView=!0,t.el.classList.add(t.class),this.currentElements[e]=t,t.call&&this.hasCallEventSet&&(this.dispatchCall(t,"enter"),t.repeat||(this.els[e].call=!1))}},{key:"setOutOfView",value:function(t,e){var i=this;this.els[e].inView=!1,Object.keys(this.currentElements).forEach((function(t){t===e&&delete i.currentElements[t]})),t.call&&this.hasCallEventSet&&this.dispatchCall(t,"exit"),t.repeat&&t.el.classList.remove(t.class)}},{key:"dispatchCall",value:function(t,e){this.callWay=e,this.callValue=t.call.split(",").map((function(t){return t.trim()})),this.callObj=t,1==this.callValue.length&&(this.callValue=this.callValue[0]);var i=new Event(this.namespace+"call");this.el.dispatchEvent(i)}},{key:"dispatchScroll",value:function(){var t=new Event(this.namespace+"scroll");this.el.dispatchEvent(t)}},{key:"setEvents",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]);var i=this.listeners[t];i.push(e),1===i.length&&this.el.addEventListener(this.namespace+t,this.checkEvent,!1),"call"===t&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(t,e){if(this.listeners[t]){var i=this.listeners[t],s=i.indexOf(e);s<0||(i.splice(s,1),0===i.index&&this.el.removeEventListener(this.namespace+t,this.checkEvent,!1))}}},{key:"checkEvent",value:function(t){var e=this,i=t.type.replace(this.namespace,""),s=this.listeners[i];s&&0!==s.length&&s.forEach((function(t){switch(i){case"scroll":return t(e.instance);case"call":return t(e.callValue,e.callWay,e.callObj);default:return t()}}))}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(t,e){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var t=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach((function(e){t.el.removeEventListener(t.namespace+e,t.checkEvent,!1)})),this.listeners={},this.scrollToEls.forEach((function(e){e.removeEventListener("click",t.setScrollTo,!1)})),this.html.classList.remove(this.initClass)}}]),e}(),g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function w(t,e){return t(e={exports:{}},e.exports),e.exports}var S=w((function(t,e){t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var i,s=t.HTMLElement||t.Element,n={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:s.prototype.scroll||r,scrollIntoView:s.prototype.scrollIntoView},o=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,l=(i=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(i)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==a(arguments[0])?p.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):n.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(a(arguments[0])?n.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},s.prototype.scroll=s.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==a(arguments[0])){var t=arguments[0].left,e=arguments[0].top;p.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");n.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},s.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==a(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):n.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},s.prototype.scrollIntoView=function(){if(!0!==a(arguments[0])){var i=u(this),s=i.getBoundingClientRect(),o=this.getBoundingClientRect();i!==e.body?(p.call(this,i,i.scrollLeft+o.left-s.left,i.scrollTop+o.top-s.top),"fixed"!==t.getComputedStyle(i).position&&t.scrollBy({left:s.left,top:s.top,behavior:"smooth"})):t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else n.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function r(t,e){this.scrollLeft=t,this.scrollTop=e}function a(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(t,e){return"Y"===e?t.clientHeight+l<t.scrollHeight:"X"===e?t.clientWidth+l<t.scrollWidth:void 0}function h(e,i){var s=t.getComputedStyle(e,null)["overflow"+i];return"auto"===s||"scroll"===s}function d(t){var e=c(t,"Y")&&h(t,"Y"),i=c(t,"X")&&h(t,"X");return e||i}function u(t){for(;t!==e.body&&!1===d(t);)t=t.parentNode||t.host;return t}function f(e){var i,s,n,l,r=(o()-e.startTime)/468;l=r=r>1?1:r,i=.5*(1-Math.cos(Math.PI*l)),s=e.startX+(e.x-e.startX)*i,n=e.startY+(e.y-e.startY)*i,e.method.call(e.scrollable,s,n),s===e.x&&n===e.y||t.requestAnimationFrame(f.bind(t,e))}function p(i,s,l){var a,c,h,d,u=o();i===e.body?(a=t,c=t.scrollX||t.pageXOffset,h=t.scrollY||t.pageYOffset,d=n.scroll):(a=i,c=i.scrollLeft,h=i.scrollTop,d=r),f({scrollable:a,method:d,startTime:u,startX:c,startY:h,x:s,y:l})}}}})),x=(S.polyfill,function(e){l(n,e);var s=d(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,n),(e=s.call(this,i)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",e.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=S,window.smoothscrollPolyfill.polyfill()),e}return i(n,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),u(r(n.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var t=this;u(r(n.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame((function(){t.detectElements()})),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var t=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach((function(e,i){e.getBoundingClientRect();var s,n,o,l=e.dataset[t.name+"Class"]||t.class,r="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:i,a="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,c=e.dataset[t.name+"Repeat"],h=e.dataset[t.name+"Call"],d=e.dataset[t.name+"Target"],u=(o=void 0!==d?document.querySelector("".concat(d)):e).getBoundingClientRect();s=u.top+t.instance.scroll.y,n=u.left+t.instance.scroll.x;var f=s+o.offsetHeight,p=n+o.offsetWidth;c="false"!=c&&(null!=c||t.repeat);var m=t.getRelativeOffset(a),v={el:e,targetEl:o,id:r,class:l,top:s+=m[0],bottom:f-=m[1],left:n,right:p,offset:a,progress:0,repeat:c,inView:!1,call:h};t.els[r]=v,e.classList.contains(l)&&t.setInView(t.els[r],r)}))}},{key:"updateElements",value:function(){var t=this;Object.entries(this.els).forEach((function(e){var i=f(e,2),s=i[0],n=i[1],o=n.targetEl.getBoundingClientRect().top+t.instance.scroll.y,l=o+n.targetEl.offsetHeight,r=t.getRelativeOffset(n.offset);t.els[s].top=o+r[0],t.els[s].bottom=l-r[1]})),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(t){var e=[0,0];if(t)for(var i=0;i<t.length;i++)"string"==typeof t[i]?t[i].includes("%")?e[i]=parseInt(t[i].replace("%","")*this.windowHeight/100):e[i]=parseInt(t[i]):e[i]=t[i];return e}},{key:"scrollTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=parseInt(e.offset)||0,s=!!e.callback&&e.callback;if("string"==typeof t){if("top"===t)t=this.html;else if("bottom"===t)t=this.html.offsetHeight-window.innerHeight;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");i="number"!=typeof t?t.getBoundingClientRect().top+i+this.instance.scroll.y:t+i;var n=function(){return parseInt(window.pageYOffset)===parseInt(i)};if(s){if(n())return void s();var o=function t(){n()&&(window.removeEventListener("scroll",t),s())};window.addEventListener("scroll",o)}window.scrollTo({top:i,behavior:0===e.duration?"auto":"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){u(r(n.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),n}(b)),k=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;function A(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var O=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(t){s[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,s,n=A(t),o=1;o<arguments.length;o++){for(var l in i=Object(arguments[o]))T.call(i,l)&&(n[l]=i[l]);if(k){s=k(i);for(var r=0;r<s.length;r++)E.call(i,s[r])&&(n[s[r]]=i[s[r]])}}return n};function D(){}D.prototype={on:function(t,e,i){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var s=this;function n(){s.off(t,n),e.apply(i,arguments)}return n._=e,this.on(t,n,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),s=0,n=i.length;s<n;s++)i[s].fn.apply(i[s].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),s=i[t],n=[];if(s&&e)for(var o=0,l=s.length;o<l;o++)s[o].fn!==e&&s[o].fn._!==e&&n.push(s[o]);return n.length?i[t]=n:delete i[t],this}};var C=D,L=w((function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,i,s){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=s?s:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,s,n,o,l,r;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(s=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),r=s.reduce((function(t,e){return t+e})),o=i.reduce((function(t,e){return t+e})),l=r/s.length,n=o/i.length,Math.abs(l)<Math.abs(n*this.tolerance)&&this.sensitivity<Math.abs(n)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(g)})),M={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1},j=Object.prototype.toString,_=Object.prototype.hasOwnProperty;function B(t,e){return function(){return t.apply(e,arguments)}}var W=L.Lethargy,H="virtualscroll",R=V,P=37,Y=38,I=39,z=40,X=32;function V(t){!function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var i in t)_.call(t,i)&&"function"==typeof t[i]&&"[object Function]"==j.call(t[i])&&e.push(i);for(var s=0;s<e.length;s++){var n=e[s];t[n]=B(t[n],t)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=O({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new W),this._emitter=new C,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function F(t,e,i){return(1-i)*t+i*e}function q(t){var e={};if(window.getComputedStyle){var i=getComputedStyle(t),s=i.transform||i.webkitTransform||i.mozTransform,n=s.match(/^matrix3d\((.+)\)$/);return n?(e.x=n?parseFloat(n[1].split(", ")[12]):0,e.y=n?parseFloat(n[1].split(", ")[13]):0):(n=s.match(/^matrix\((.+)\)$/),e.x=n?parseFloat(n[1].split(", ")[4]):0,e.y=n?parseFloat(n[1].split(", ")[5]):0),e}}function K(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}V.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(H,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},V.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var i=this._event;i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,M.isFirefox&&1==t.deltaMode&&(i.deltaX*=e.firefoxMultiplier,i.deltaY*=e.firefoxMultiplier),i.deltaX*=e.mouseMultiplier,i.deltaY*=e.mouseMultiplier,this._notify(t)}},V.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},V.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},V.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var i=this._event,s=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(s.pageX-this.touchStartX)*e.touchMultiplier,i.deltaY=(s.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=s.pageX,this.touchStartY=s.pageY,this._notify(t)},V.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case P:case Y:e.deltaY=this.options.keyStep;break;case I:case z:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=i;break;case X:e.deltaY=-i;break;default:return}this._notify(t)},V.prototype._bind=function(){M.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),M.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),M.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),M.hasPointer&&M.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),M.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},V.prototype._unbind=function(){M.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),M.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),M.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),M.hasPointer&&M.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),M.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},V.prototype.on=function(t,e){this._emitter.on(H,t,e);var i=this._emitter.e;i&&i[H]&&1===i[H].length&&this._bind()},V.prototype.off=function(t,e){this._emitter.off(H,t,e);var i=this._emitter.e;(!i[H]||i[H].length<=0)&&this._unbind()},V.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},V.prototype.destroy=function(){this._emitter.off(),this._unbind()};var N="function"==typeof Float32Array;function U(t,e){return 1-3*e+3*t}function $(t,e){return 3*e-6*t}function G(t){return 3*t}function J(t,e,i){return((U(e,i)*t+$(e,i))*t+G(e))*t}function Q(t,e,i){return 3*U(e,i)*t*t+2*$(e,i)*t+G(e)}function Z(t){return t}var tt=function(t,e,i,s){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&i===s)return Z;for(var n=N?new Float32Array(11):new Array(11),o=0;o<11;++o)n[o]=J(.1*o,t,i);function l(e){for(var s=0,o=1;10!==o&&n[o]<=e;++o)s+=.1;--o;var l=s+.1*((e-n[o])/(n[o+1]-n[o])),r=Q(l,t,i);return r>=.001?function(t,e,i,s){for(var n=0;n<4;++n){var o=Q(e,i,s);if(0===o)return e;e-=(J(e,i,s)-t)/o}return e}(e,l,t,i):0===r?l:function(t,e,i,s,n){var o,l,r=0;do{(o=J(l=e+(i-e)/2,s,n)-t)>0?i=l:e=l}while(Math.abs(o)>1e-7&&++r<10);return l}(e,s,s+.1,t,i)}return function(t){return 0===t?0:1===t?1:J(l(t),e,s)}},et=38,it=40,st=32,nt=9,ot=33,lt=34,rt=36,at=35,ct=function(e){l(n,e);var s=d(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,n),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(e=s.call(this,i)).inertia&&(e.lerp=.1*e.inertia),e.isScrolling=!1,e.isDraggingScrollbar=!1,e.isTicking=!1,e.hasScrollTicking=!1,e.parallaxElements={},e.stop=!1,e.scrollbarContainer=i.scrollbarContainer,e.checkKey=e.checkKey.bind(c(e)),window.addEventListener("keydown",e.checkKey,!1),e}return i(n,[{key:"init",value:function(){var t=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=o({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new R({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on((function(e){t.stop||t.isDraggingScrollbar||requestAnimationFrame((function(){t.updateDelta(e),t.isScrolling||t.startScrolling()}))})),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),u(r(n.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var t=0,e=this.el.children,i=0;i<e.length;i++)t+=e[i].offsetWidth;this.instance.limit.x=t-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.startScrollTs=void 0,this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(t){var e=this;if(this.stop)t.keyCode==nt&&requestAnimationFrame((function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0}));else{switch(t.keyCode){case nt:requestAnimationFrame((function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0,e.scrollTo(document.activeElement,{offset:-window.innerHeight/2})}));break;case et:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]-=240);break;case it:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]+=240);break;case ot:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case lt:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case rt:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case at:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case st:this.isActiveElementScrollSensitive()&&(t.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"isActiveElementScrollSensitive",value:function(){return!(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLButtonElement||document.activeElement instanceof HTMLSelectElement)}},{key:"checkScroll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame((function(){return t.checkScroll()})),this.hasScrollTicking=!0),this.updateScroll();var i=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),s=Date.now()-this.startScrollTs;if(!this.animatingScroll&&s>100&&(i<.5&&0!=this.instance.delta[this.directionAxis]||i<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach((function(i){var s=f(i,2),n=(s[0],s[1]);n.persistent||t.instance.scroll[t.directionAxis]>n.offset[t.directionAxis]&&t.instance.scroll[t.directionAxis]<n.limit[t.directionAxis]?("horizontal"===t.direction?t.transform(n.el,-t.instance.scroll[t.directionAxis],0):t.transform(n.el,0,-t.instance.scroll[t.directionAxis]),n.inView||(n.inView=!0,n.el.style.opacity=1,n.el.style.pointerEvents="all",n.el.setAttribute("data-".concat(t.name,"-section-inview"),""))):((n.inView||e)&&(n.inView=!1,n.el.style.opacity=0,n.el.style.pointerEvents="none",n.el.removeAttribute("data-".concat(t.name,"-section-inview"))),t.transform(n.el,0,0))})),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var o=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,o,0):this.transform(this.scrollbarThumb,0,o)}u(r(n.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(t){var e,i=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;e="both"===i?t.deltaX+t.deltaY:"vertical"===i?t.deltaY:"horizontal"===i?t.deltaX:t.deltaY,this.instance.delta[this.directionAxis]-=e*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(t){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=F(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(t){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollbar=!1,this.isScrolling&&this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(t){var e=this;this.isDraggingScrollbar&&requestAnimationFrame((function(){var i=100*(t.clientX-e.scrollbarBCR.left)/e.scrollbarWidth*e.instance.limit.x/100,s=100*(t.clientY-e.scrollbarBCR.top)/e.scrollbarHeight*e.instance.limit.y/100;s>0&&s<e.instance.limit.y&&(e.instance.delta.y=s),i>0&&i<e.instance.limit.x&&(e.instance.delta.x=i)}))}},{key:"addElements",value:function(){var t=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach((function(e,i){var s,n,o,l=K(e),r=Object.entries(t.sections).map((function(t){var e=f(t,2);e[0];return e[1]})).find((function(t){return l.includes(t.el)})),a=e.dataset[t.name+"Class"]||t.class,c="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"el"+i,h=e.dataset[t.name+"Repeat"],d=e.dataset[t.name+"Call"],u=e.dataset[t.name+"Position"],p=e.dataset[t.name+"Delay"],m=e.dataset[t.name+"Direction"],v="string"==typeof e.dataset[t.name+"Sticky"],y=!!e.dataset[t.name+"Speed"]&&parseFloat(e.dataset[t.name+"Speed"])/10,b="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,g=e.dataset[t.name+"Target"],w=(o=void 0!==g?document.querySelector("".concat(g)):e).getBoundingClientRect();null===r||r.inView?(s=w.top+t.instance.scroll.y-q(o).y,n=w.left+t.instance.scroll.x-q(o).x):(s=w.top-q(r.el).y-q(o).y,n=w.left-q(r.el).x-q(o).x);var S=s+o.offsetHeight,x=n+o.offsetWidth,k={x:(x-n)/2+n,y:(S-s)/2+s};if(v){var T=e.getBoundingClientRect(),E=T.top,A=T.left,O={x:A-n,y:E-s};s+=window.innerHeight,n+=window.innerWidth,S=E+o.offsetHeight-e.offsetHeight-O[t.directionAxis],k={x:((x=A+o.offsetWidth-e.offsetWidth-O[t.directionAxis])-n)/2+n,y:(S-s)/2+s}}h="false"!=h&&(null!=h||t.repeat);var D=[0,0];if(b)if("horizontal"===t.direction){for(var C=0;C<b.length;C++)"string"==typeof b[C]?b[C].includes("%")?D[C]=parseInt(b[C].replace("%","")*t.windowWidth/100):D[C]=parseInt(b[C]):D[C]=b[C];n+=D[0],x-=D[1]}else{for(C=0;C<b.length;C++)"string"==typeof b[C]?b[C].includes("%")?D[C]=parseInt(b[C].replace("%","")*t.windowHeight/100):D[C]=parseInt(b[C]):D[C]=b[C];s+=D[0],S-=D[1]}var L={el:e,id:c,class:a,section:r,top:s,middle:k,bottom:S,left:n,right:x,offset:b,progress:0,repeat:h,inView:!1,call:d,speed:y,delay:p,position:u,target:o,direction:m,sticky:v};t.els[c]=L,e.classList.contains(a)&&t.setInView(t.els[c],c),(!1!==y||v)&&(t.parallaxElements[c]=L)}))}},{key:"addSections",value:function(){var t=this;this.sections={};var e=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===e.length&&(e=[this.el]),e.forEach((function(e,i){var s="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"section"+i,n=e.getBoundingClientRect(),o={x:n.left-1.5*window.innerWidth-q(e).x,y:n.top-1.5*window.innerHeight-q(e).y},l={x:o.x+n.width+2*window.innerWidth,y:o.y+n.height+2*window.innerHeight},r="string"==typeof e.dataset[t.name+"Persistent"];e.setAttribute("data-scroll-section-id",s);var a={el:e,offset:o,limit:l,inView:!1,persistent:r,id:s};t.sections[s]=a}))}},{key:"transform",value:function(t,e,i,s){var n;if(s){var o=q(t),l=F(o.x,e,s),r=F(o.y,i,s);n="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(l,",").concat(r,",0,1)")}else n="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(e,",").concat(i,",0,1)");t.style.webkitTransform=n,t.style.msTransform=n,t.style.transform=n}},{key:"transformElements",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.instance.scroll.x+this.windowWidth,n=this.instance.scroll.y+this.windowHeight,o={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach((function(l){var r=f(l,2),a=(r[0],r[1]),c=!1;if(t&&(c=0),a.inView||i)switch(a.position){case"top":c=e.instance.scroll[e.directionAxis]*-a.speed;break;case"elementTop":c=(n-a.top)*-a.speed;break;case"bottom":c=(e.instance.limit[e.directionAxis]-n+e.windowHeight)*a.speed;break;case"left":c=e.instance.scroll[e.directionAxis]*-a.speed;break;case"elementLeft":c=(s-a.left)*-a.speed;break;case"right":c=(e.instance.limit[e.directionAxis]-s+e.windowHeight)*a.speed;break;default:c=(o[e.directionAxis]-a.middle[e.directionAxis])*-a.speed}a.sticky&&(c=a.inView?"horizontal"===e.direction?e.instance.scroll.x-a.left+window.innerWidth:e.instance.scroll.y-a.top+window.innerHeight:"horizontal"===e.direction?e.instance.scroll.x<a.left-window.innerWidth&&e.instance.scroll.x<a.left-window.innerWidth/2?0:e.instance.scroll.x>a.right&&e.instance.scroll.x>a.right+100&&a.right-a.left+window.innerWidth:e.instance.scroll.y<a.top-window.innerHeight&&e.instance.scroll.y<a.top-window.innerHeight/2?0:e.instance.scroll.y>a.bottom&&e.instance.scroll.y>a.bottom+100&&a.bottom-a.top+window.innerHeight),!1!==c&&("horizontal"===a.direction||"horizontal"===e.direction&&"vertical"!==a.direction?e.transform(a.el,c,0,!t&&a.delay):e.transform(a.el,0,c,!t&&a.delay))}))}},{key:"scrollTo",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=parseInt(i.offset)||0,n=isNaN(parseInt(i.duration))?1e3:parseInt(i.duration),o=i.easing||[.25,0,.35,1],l=!!i.disableLerp,r=!!i.callback&&i.callback;if(o=tt.apply(void 0,p(o)),"string"==typeof t){if("top"===t)t=0;else if("bottom"===t)t=this.instance.limit.y;else if("left"===t)t=0;else if("right"===t)t=this.instance.limit.x;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof t){var a=K(t).includes(this.el);if(!a)return;var c=t.getBoundingClientRect(),h=c.top,d=c.left,u=K(t),m=u.find((function(t){return Object.entries(e.sections).map((function(t){var e=f(t,2);e[0];return e[1]})).find((function(e){return e.el==t}))})),v=0;v=m?q(m)[this.directionAxis]:-this.instance.scroll[this.directionAxis],s="horizontal"===this.direction?d+s-v:h+s-v}else s=t+s;var y=parseFloat(this.instance.delta[this.directionAxis]),b=Math.max(0,Math.min(s,this.instance.limit[this.directionAxis])),g=b-y,w=function(t){l?"horizontal"===e.direction?e.setScroll(y+g*t,e.instance.delta.y):e.setScroll(e.instance.delta.x,y+g*t):e.instance.delta[e.directionAxis]=y+g*t};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var S=Date.now(),x=function t(){var i=(Date.now()-S)/n;i>1?(w(1),e.animatingScroll=!1,0==n&&e.update(),r&&r()):(e.scrollToRaf=requestAnimationFrame(t),w(o(i)))};x()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(t,e){this.instance=o(o({},this.instance),{},{scroll:{x:t,y:e},delta:{x:t,y:e},speed:0})}},{key:"destroy",value:function(){u(r(n.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),n}(b);return function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.options=i,Object.assign(this,y,i),this.smartphone=y.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=y.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.smooth||"horizontal"!=this.direction||console.warn("ðŸš¨ `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("ðŸš¨ `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("ðŸš¨ `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return i(e,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new ct(this.options):this.scroll=new x(this.options),this.scroll.init(),window.location.hash){var t=window.location.hash.slice(1,window.location.hash.length),e=document.getElementById(t);e&&this.scroll.scrollTo(e)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(t,e){this.scroll.scrollTo(t,e)}},{key:"setScroll",value:function(t,e){this.scroll.setScroll(t,e)}},{key:"on",value:function(t,e){this.scroll.setEvents(t,e)}},{key:"off",value:function(t,e){this.scroll.unsetEvents(t,e)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),e}()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJsb2NvbW90aXZlLXNjcm9sbC5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6KHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp0fHxzZWxmKS5Mb2NvbW90aXZlU2Nyb2xsPWUoKX0odGhpcywoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBlKHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBzPWVbaV07cy5lbnVtZXJhYmxlPXMuZW51bWVyYWJsZXx8ITEscy5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gcyYmKHMud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHMua2V5LHMpfX1mdW5jdGlvbiBpKHQsaSxzKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxzJiZlKHQscyksdH1mdW5jdGlvbiBzKHQsZSxpKXtyZXR1cm4gZSBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOmksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPWksdH1mdW5jdGlvbiBuKHQsZSl7dmFyIGk9T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocz1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxzKX1yZXR1cm4gaX1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP24oT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtzKHQsZSxpW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpuKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIGwodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJmEodCxlKX1mdW5jdGlvbiByKHQpe3JldHVybihyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9KSh0KX1mdW5jdGlvbiBhKHQsZSl7cmV0dXJuKGE9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9KSh0LGUpfWZ1bmN0aW9uIGModCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gaCh0LGUpe3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT9jKHQpOmV9ZnVuY3Rpb24gZCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxzPXIodCk7aWYoZSl7dmFyIG49cih0aGlzKS5jb25zdHJ1Y3RvcjtpPVJlZmxlY3QuY29uc3RydWN0KHMsYXJndW1lbnRzLG4pfWVsc2UgaT1zLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gaCh0aGlzLGkpfX1mdW5jdGlvbiB1KHQsZSxpKXtyZXR1cm4odT1cInVuZGVmaW5lZFwiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5nZXQ/UmVmbGVjdC5nZXQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPWZ1bmN0aW9uKHQsZSl7Zm9yKDshT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm51bGwhPT0odD1yKHQpKTspO3JldHVybiB0fSh0LGUpO2lmKHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocyxlKTtyZXR1cm4gbi5nZXQ/bi5nZXQuY2FsbChpKTpuLnZhbHVlfX0pKHQsZSxpfHx0KX1mdW5jdGlvbiBmKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBTeW1ib2x8fCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSkpcmV0dXJuO3ZhciBpPVtdLHM9ITAsbj0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBsLHI9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShsPXIubmV4dCgpKS5kb25lKSYmKGkucHVzaChsLnZhbHVlKSwhZXx8aS5sZW5ndGghPT1lKTtzPSEwKTt9Y2F0Y2godCl7bj0hMCxvPXR9ZmluYWxseXt0cnl7c3x8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IG99fXJldHVybiBpfSh0LGUpfHxtKHQsZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0oKX1mdW5jdGlvbiBwKHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB2KHQpfSh0KXx8ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSlyZXR1cm4gQXJyYXkuZnJvbSh0KX0odCl8fG0odCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gbSh0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB2KHQsZSk7dmFyIGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1pJiZ0LmNvbnN0cnVjdG9yJiYoaT10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1pfHxcIlNldFwiPT09aT9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1pfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChpKT92KHQsZSk6dm9pZCAwfX1mdW5jdGlvbiB2KHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBpPTAscz1uZXcgQXJyYXkoZSk7aTxlO2krKylzW2ldPXRbaV07cmV0dXJuIHN9dmFyIHk9e2VsOmRvY3VtZW50LG5hbWU6XCJzY3JvbGxcIixvZmZzZXQ6WzAsMF0scmVwZWF0OiExLHNtb290aDohMSxpbml0UG9zaXRpb246e3g6MCx5OjB9LGRpcmVjdGlvbjpcInZlcnRpY2FsXCIsZ2VzdHVyZURpcmVjdGlvbjpcInZlcnRpY2FsXCIscmVsb2FkT25Db250ZXh0Q2hhbmdlOiExLGxlcnA6LjEsY2xhc3M6XCJpcy1pbnZpZXdcIixzY3JvbGxiYXJDb250YWluZXI6ITEsc2Nyb2xsYmFyQ2xhc3M6XCJjLXNjcm9sbGJhclwiLHNjcm9sbGluZ0NsYXNzOlwiaGFzLXNjcm9sbC1zY3JvbGxpbmdcIixkcmFnZ2luZ0NsYXNzOlwiaGFzLXNjcm9sbC1kcmFnZ2luZ1wiLHNtb290aENsYXNzOlwiaGFzLXNjcm9sbC1zbW9vdGhcIixpbml0Q2xhc3M6XCJoYXMtc2Nyb2xsLWluaXRcIixnZXRTcGVlZDohMSxnZXREaXJlY3Rpb246ITEsc2Nyb2xsRnJvbUFueXdoZXJlOiExLG11bHRpcGxpZXI6MSxmaXJlZm94TXVsdGlwbGllcjo1MCx0b3VjaE11bHRpcGxpZXI6MixyZXNldE5hdGl2ZVNjcm9sbDohMCx0YWJsZXQ6e3Ntb290aDohMSxkaXJlY3Rpb246XCJ2ZXJ0aWNhbFwiLGdlc3R1cmVEaXJlY3Rpb246XCJ2ZXJ0aWNhbFwiLGJyZWFrcG9pbnQ6MTAyNH0sc21hcnRwaG9uZTp7c21vb3RoOiExLGRpcmVjdGlvbjpcInZlcnRpY2FsXCIsZ2VzdHVyZURpcmVjdGlvbjpcInZlcnRpY2FsXCJ9fSxiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0KHRoaXMsZSksT2JqZWN0LmFzc2lnbih0aGlzLHksaSksdGhpcy5zbWFydHBob25lPXkuc21hcnRwaG9uZSxpLnNtYXJ0cGhvbmUmJk9iamVjdC5hc3NpZ24odGhpcy5zbWFydHBob25lLGkuc21hcnRwaG9uZSksdGhpcy50YWJsZXQ9eS50YWJsZXQsaS50YWJsZXQmJk9iamVjdC5hc3NpZ24odGhpcy50YWJsZXQsaS50YWJsZXQpLHRoaXMubmFtZXNwYWNlPVwibG9jb21vdGl2ZVwiLHRoaXMuaHRtbD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy53aW5kb3dIZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0LHRoaXMud2luZG93V2lkdGg9d2luZG93LmlubmVyV2lkdGgsdGhpcy53aW5kb3dNaWRkbGU9e3g6dGhpcy53aW5kb3dXaWR0aC8yLHk6dGhpcy53aW5kb3dIZWlnaHQvMn0sdGhpcy5lbHM9e30sdGhpcy5jdXJyZW50RWxlbWVudHM9e30sdGhpcy5saXN0ZW5lcnM9e30sdGhpcy5oYXNTY3JvbGxUaWNraW5nPSExLHRoaXMuaGFzQ2FsbEV2ZW50U2V0PSExLHRoaXMuY2hlY2tTY3JvbGw9dGhpcy5jaGVja1Njcm9sbC5iaW5kKHRoaXMpLHRoaXMuY2hlY2tSZXNpemU9dGhpcy5jaGVja1Jlc2l6ZS5iaW5kKHRoaXMpLHRoaXMuY2hlY2tFdmVudD10aGlzLmNoZWNrRXZlbnQuYmluZCh0aGlzKSx0aGlzLmluc3RhbmNlPXtzY3JvbGw6e3g6MCx5OjB9LGxpbWl0Ont4OnRoaXMuaHRtbC5vZmZzZXRXaWR0aCx5OnRoaXMuaHRtbC5vZmZzZXRIZWlnaHR9LGN1cnJlbnRFbGVtZW50czp0aGlzLmN1cnJlbnRFbGVtZW50c30sdGhpcy5pc01vYmlsZT90aGlzLmlzVGFibGV0P3RoaXMuY29udGV4dD1cInRhYmxldFwiOnRoaXMuY29udGV4dD1cInNtYXJ0cGhvbmVcIjp0aGlzLmNvbnRleHQ9XCJkZXNrdG9wXCIsdGhpcy5pc01vYmlsZSYmKHRoaXMuZGlyZWN0aW9uPXRoaXNbdGhpcy5jb250ZXh0XS5kaXJlY3Rpb24pLFwiaG9yaXpvbnRhbFwiPT09dGhpcy5kaXJlY3Rpb24/dGhpcy5kaXJlY3Rpb25BeGlzPVwieFwiOnRoaXMuZGlyZWN0aW9uQXhpcz1cInlcIix0aGlzLmdldERpcmVjdGlvbiYmKHRoaXMuaW5zdGFuY2UuZGlyZWN0aW9uPW51bGwpLHRoaXMuZ2V0RGlyZWN0aW9uJiYodGhpcy5pbnN0YW5jZS5zcGVlZD0wKSx0aGlzLmh0bWwuY2xhc3NMaXN0LmFkZCh0aGlzLmluaXRDbGFzcyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLmNoZWNrUmVzaXplLCExKX1yZXR1cm4gaShlLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbml0RXZlbnRzKCl9fSx7a2V5OlwiY2hlY2tTY3JvbGxcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hTY3JvbGwoKX19LHtrZXk6XCJjaGVja1Jlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnJlc2l6ZVRpY2t8fCh0aGlzLnJlc2l6ZVRpY2s9ITAscmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3QucmVzaXplKCksdC5yZXNpemVUaWNrPSExfSkpKX19LHtrZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJjaGVja0NvbnRleHRcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMucmVsb2FkT25Db250ZXh0Q2hhbmdlKXt0aGlzLmlzTW9iaWxlPS9BbmRyb2lkfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8XCJNYWNJbnRlbFwiPT09bmF2aWdhdG9yLnBsYXRmb3JtJiZuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM+MXx8dGhpcy53aW5kb3dXaWR0aDx0aGlzLnRhYmxldC5icmVha3BvaW50LHRoaXMuaXNUYWJsZXQ9dGhpcy5pc01vYmlsZSYmdGhpcy53aW5kb3dXaWR0aD49dGhpcy50YWJsZXQuYnJlYWtwb2ludDt2YXIgdD10aGlzLmNvbnRleHQ7aWYodGhpcy5pc01vYmlsZT90aGlzLmlzVGFibGV0P3RoaXMuY29udGV4dD1cInRhYmxldFwiOnRoaXMuY29udGV4dD1cInNtYXJ0cGhvbmVcIjp0aGlzLmNvbnRleHQ9XCJkZXNrdG9wXCIsdCE9dGhpcy5jb250ZXh0KShcImRlc2t0b3BcIj09dD90aGlzLnNtb290aDp0aGlzW3RdLnNtb290aCkhPShcImRlc2t0b3BcIj09dGhpcy5jb250ZXh0P3RoaXMuc21vb3RoOnRoaXNbdGhpcy5jb250ZXh0XS5zbW9vdGgpJiZ3aW5kb3cubG9jYXRpb24ucmVsb2FkKCl9fX0se2tleTpcImluaXRFdmVudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5zY3JvbGxUb0Vscz10aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1cIi5jb25jYXQodGhpcy5uYW1lLFwiLXRvXVwiKSksdGhpcy5zZXRTY3JvbGxUbz10aGlzLnNldFNjcm9sbFRvLmJpbmQodGhpcyksdGhpcy5zY3JvbGxUb0Vscy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHQuc2V0U2Nyb2xsVG8sITEpfSkpfX0se2tleTpcInNldFNjcm9sbFRvXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuc2Nyb2xsVG8odC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtXCIuY29uY2F0KHRoaXMubmFtZSxcIi1ocmVmXCIpKXx8dC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcImhyZWZcIikse29mZnNldDp0LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1cIi5jb25jYXQodGhpcy5uYW1lLFwiLW9mZnNldFwiKSl9KX19LHtrZXk6XCJhZGRFbGVtZW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcImRldGVjdEVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMuaW5zdGFuY2Uuc2Nyb2xsLnkscz1pK3RoaXMud2luZG93SGVpZ2h0LG49dGhpcy5pbnN0YW5jZS5zY3JvbGwueCxvPW4rdGhpcy53aW5kb3dXaWR0aDtPYmplY3QuZW50cmllcyh0aGlzLmVscykuZm9yRWFjaCgoZnVuY3Rpb24obCl7dmFyIHI9ZihsLDIpLGE9clswXSxjPXJbMV07aWYoIWN8fGMuaW5WaWV3JiYhdHx8KFwiaG9yaXpvbnRhbFwiPT09ZS5kaXJlY3Rpb24/bz49Yy5sZWZ0JiZuPGMucmlnaHQmJmUuc2V0SW5WaWV3KGMsYSk6cz49Yy50b3AmJmk8Yy5ib3R0b20mJmUuc2V0SW5WaWV3KGMsYSkpLGMmJmMuaW5WaWV3KWlmKFwiaG9yaXpvbnRhbFwiPT09ZS5kaXJlY3Rpb24pe3ZhciBoPWMucmlnaHQtYy5sZWZ0O2MucHJvZ3Jlc3M9KGUuaW5zdGFuY2Uuc2Nyb2xsLngtKGMubGVmdC1lLndpbmRvd1dpZHRoKSkvKGgrZS53aW5kb3dXaWR0aCksKG88Yy5sZWZ0fHxuPmMucmlnaHQpJiZlLnNldE91dE9mVmlldyhjLGEpfWVsc2V7dmFyIGQ9Yy5ib3R0b20tYy50b3A7Yy5wcm9ncmVzcz0oZS5pbnN0YW5jZS5zY3JvbGwueS0oYy50b3AtZS53aW5kb3dIZWlnaHQpKS8oZCtlLndpbmRvd0hlaWdodCksKHM8Yy50b3B8fGk+Yy5ib3R0b20pJiZlLnNldE91dE9mVmlldyhjLGEpfX0pKSx0aGlzLmhhc1Njcm9sbFRpY2tpbmc9ITF9fSx7a2V5Olwic2V0SW5WaWV3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmVsc1tlXS5pblZpZXc9ITAsdC5lbC5jbGFzc0xpc3QuYWRkKHQuY2xhc3MpLHRoaXMuY3VycmVudEVsZW1lbnRzW2VdPXQsdC5jYWxsJiZ0aGlzLmhhc0NhbGxFdmVudFNldCYmKHRoaXMuZGlzcGF0Y2hDYWxsKHQsXCJlbnRlclwiKSx0LnJlcGVhdHx8KHRoaXMuZWxzW2VdLmNhbGw9ITEpKX19LHtrZXk6XCJzZXRPdXRPZlZpZXdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7dGhpcy5lbHNbZV0uaW5WaWV3PSExLE9iamVjdC5rZXlzKHRoaXMuY3VycmVudEVsZW1lbnRzKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0PT09ZSYmZGVsZXRlIGkuY3VycmVudEVsZW1lbnRzW3RdfSkpLHQuY2FsbCYmdGhpcy5oYXNDYWxsRXZlbnRTZXQmJnRoaXMuZGlzcGF0Y2hDYWxsKHQsXCJleGl0XCIpLHQucmVwZWF0JiZ0LmVsLmNsYXNzTGlzdC5yZW1vdmUodC5jbGFzcyl9fSx7a2V5OlwiZGlzcGF0Y2hDYWxsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmNhbGxXYXk9ZSx0aGlzLmNhbGxWYWx1ZT10LmNhbGwuc3BsaXQoXCIsXCIpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJpbSgpfSkpLHRoaXMuY2FsbE9iaj10LDE9PXRoaXMuY2FsbFZhbHVlLmxlbmd0aCYmKHRoaXMuY2FsbFZhbHVlPXRoaXMuY2FsbFZhbHVlWzBdKTt2YXIgaT1uZXcgRXZlbnQodGhpcy5uYW1lc3BhY2UrXCJjYWxsXCIpO3RoaXMuZWwuZGlzcGF0Y2hFdmVudChpKX19LHtrZXk6XCJkaXNwYXRjaFNjcm9sbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEV2ZW50KHRoaXMubmFtZXNwYWNlK1wic2Nyb2xsXCIpO3RoaXMuZWwuZGlzcGF0Y2hFdmVudCh0KX19LHtrZXk6XCJzZXRFdmVudHNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMubGlzdGVuZXJzW3RdfHwodGhpcy5saXN0ZW5lcnNbdF09W10pO3ZhciBpPXRoaXMubGlzdGVuZXJzW3RdO2kucHVzaChlKSwxPT09aS5sZW5ndGgmJnRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLm5hbWVzcGFjZSt0LHRoaXMuY2hlY2tFdmVudCwhMSksXCJjYWxsXCI9PT10JiYodGhpcy5oYXNDYWxsRXZlbnRTZXQ9ITAsdGhpcy5kZXRlY3RFbGVtZW50cyghMCkpfX0se2tleTpcInVuc2V0RXZlbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmxpc3RlbmVyc1t0XSl7dmFyIGk9dGhpcy5saXN0ZW5lcnNbdF0scz1pLmluZGV4T2YoZSk7czwwfHwoaS5zcGxpY2UocywxKSwwPT09aS5pbmRleCYmdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMubmFtZXNwYWNlK3QsdGhpcy5jaGVja0V2ZW50LCExKSl9fX0se2tleTpcImNoZWNrRXZlbnRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9dC50eXBlLnJlcGxhY2UodGhpcy5uYW1lc3BhY2UsXCJcIikscz10aGlzLmxpc3RlbmVyc1tpXTtzJiYwIT09cy5sZW5ndGgmJnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7c3dpdGNoKGkpe2Nhc2VcInNjcm9sbFwiOnJldHVybiB0KGUuaW5zdGFuY2UpO2Nhc2VcImNhbGxcIjpyZXR1cm4gdChlLmNhbGxWYWx1ZSxlLmNhbGxXYXksZS5jYWxsT2JqKTtkZWZhdWx0OnJldHVybiB0KCl9fSkpfX0se2tleTpcInN0YXJ0U2Nyb2xsXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwic3RvcFNjcm9sbFwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcInNldFNjcm9sbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5pbnN0YW5jZS5zY3JvbGw9e3g6MCx5OjB9fX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLmNoZWNrUmVzaXplLCExKSxPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVycykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5lbC5yZW1vdmVFdmVudExpc3RlbmVyKHQubmFtZXNwYWNlK2UsdC5jaGVja0V2ZW50LCExKX0pKSx0aGlzLmxpc3RlbmVycz17fSx0aGlzLnNjcm9sbFRvRWxzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdC5zZXRTY3JvbGxUbywhMSl9KSksdGhpcy5odG1sLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5pbml0Q2xhc3MpfX1dKSxlfSgpLGc9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O2Z1bmN0aW9uIHcodCxlKXtyZXR1cm4gdChlPXtleHBvcnRzOnt9fSxlLmV4cG9ydHMpLGUuZXhwb3J0c312YXIgUz13KChmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17cG9seWZpbGw6ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3csZT1kb2N1bWVudDtpZighKFwic2Nyb2xsQmVoYXZpb3JcImluIGUuZG9jdW1lbnRFbGVtZW50LnN0eWxlKXx8ITA9PT10Ll9fZm9yY2VTbW9vdGhTY3JvbGxQb2x5ZmlsbF9fKXt2YXIgaSxzPXQuSFRNTEVsZW1lbnR8fHQuRWxlbWVudCxuPXtzY3JvbGw6dC5zY3JvbGx8fHQuc2Nyb2xsVG8sc2Nyb2xsQnk6dC5zY3JvbGxCeSxlbGVtZW50U2Nyb2xsOnMucHJvdG90eXBlLnNjcm9sbHx8cixzY3JvbGxJbnRvVmlldzpzLnByb3RvdHlwZS5zY3JvbGxJbnRvVmlld30sbz10LnBlcmZvcm1hbmNlJiZ0LnBlcmZvcm1hbmNlLm5vdz90LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHQucGVyZm9ybWFuY2UpOkRhdGUubm93LGw9KGk9dC5uYXZpZ2F0b3IudXNlckFnZW50LG5ldyBSZWdFeHAoW1wiTVNJRSBcIixcIlRyaWRlbnQvXCIsXCJFZGdlL1wiXS5qb2luKFwifFwiKSkudGVzdChpKT8xOjApO3Quc2Nyb2xsPXQuc2Nyb2xsVG89ZnVuY3Rpb24oKXt2b2lkIDAhPT1hcmd1bWVudHNbMF0mJighMCE9PWEoYXJndW1lbnRzWzBdKT9wLmNhbGwodCxlLmJvZHksdm9pZCAwIT09YXJndW1lbnRzWzBdLmxlZnQ/fn5hcmd1bWVudHNbMF0ubGVmdDp0LnNjcm9sbFh8fHQucGFnZVhPZmZzZXQsdm9pZCAwIT09YXJndW1lbnRzWzBdLnRvcD9+fmFyZ3VtZW50c1swXS50b3A6dC5zY3JvbGxZfHx0LnBhZ2VZT2Zmc2V0KTpuLnNjcm9sbC5jYWxsKHQsdm9pZCAwIT09YXJndW1lbnRzWzBdLmxlZnQ/YXJndW1lbnRzWzBdLmxlZnQ6XCJvYmplY3RcIiE9dHlwZW9mIGFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dC5zY3JvbGxYfHx0LnBhZ2VYT2Zmc2V0LHZvaWQgMCE9PWFyZ3VtZW50c1swXS50b3A/YXJndW1lbnRzWzBdLnRvcDp2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnQuc2Nyb2xsWXx8dC5wYWdlWU9mZnNldCkpfSx0LnNjcm9sbEJ5PWZ1bmN0aW9uKCl7dm9pZCAwIT09YXJndW1lbnRzWzBdJiYoYShhcmd1bWVudHNbMF0pP24uc2Nyb2xsQnkuY2FsbCh0LHZvaWQgMCE9PWFyZ3VtZW50c1swXS5sZWZ0P2FyZ3VtZW50c1swXS5sZWZ0Olwib2JqZWN0XCIhPXR5cGVvZiBhcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsdm9pZCAwIT09YXJndW1lbnRzWzBdLnRvcD9hcmd1bWVudHNbMF0udG9wOnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCk6cC5jYWxsKHQsZS5ib2R5LH5+YXJndW1lbnRzWzBdLmxlZnQrKHQuc2Nyb2xsWHx8dC5wYWdlWE9mZnNldCksfn5hcmd1bWVudHNbMF0udG9wKyh0LnNjcm9sbFl8fHQucGFnZVlPZmZzZXQpKSl9LHMucHJvdG90eXBlLnNjcm9sbD1zLnByb3RvdHlwZS5zY3JvbGxUbz1mdW5jdGlvbigpe2lmKHZvaWQgMCE9PWFyZ3VtZW50c1swXSlpZighMCE9PWEoYXJndW1lbnRzWzBdKSl7dmFyIHQ9YXJndW1lbnRzWzBdLmxlZnQsZT1hcmd1bWVudHNbMF0udG9wO3AuY2FsbCh0aGlzLHRoaXMsdm9pZCAwPT09dD90aGlzLnNjcm9sbExlZnQ6fn50LHZvaWQgMD09PWU/dGhpcy5zY3JvbGxUb3A6fn5lKX1lbHNle2lmKFwibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJnZvaWQgMD09PWFyZ3VtZW50c1sxXSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJWYWx1ZSBjb3VsZCBub3QgYmUgY29udmVydGVkXCIpO24uZWxlbWVudFNjcm9sbC5jYWxsKHRoaXMsdm9pZCAwIT09YXJndW1lbnRzWzBdLmxlZnQ/fn5hcmd1bWVudHNbMF0ubGVmdDpcIm9iamVjdFwiIT10eXBlb2YgYXJndW1lbnRzWzBdP35+YXJndW1lbnRzWzBdOnRoaXMuc2Nyb2xsTGVmdCx2b2lkIDAhPT1hcmd1bWVudHNbMF0udG9wP35+YXJndW1lbnRzWzBdLnRvcDp2b2lkIDAhPT1hcmd1bWVudHNbMV0/fn5hcmd1bWVudHNbMV06dGhpcy5zY3JvbGxUb3ApfX0scy5wcm90b3R5cGUuc2Nyb2xsQnk9ZnVuY3Rpb24oKXt2b2lkIDAhPT1hcmd1bWVudHNbMF0mJighMCE9PWEoYXJndW1lbnRzWzBdKT90aGlzLnNjcm9sbCh7bGVmdDp+fmFyZ3VtZW50c1swXS5sZWZ0K3RoaXMuc2Nyb2xsTGVmdCx0b3A6fn5hcmd1bWVudHNbMF0udG9wK3RoaXMuc2Nyb2xsVG9wLGJlaGF2aW9yOmFyZ3VtZW50c1swXS5iZWhhdmlvcn0pOm4uZWxlbWVudFNjcm9sbC5jYWxsKHRoaXMsdm9pZCAwIT09YXJndW1lbnRzWzBdLmxlZnQ/fn5hcmd1bWVudHNbMF0ubGVmdCt0aGlzLnNjcm9sbExlZnQ6fn5hcmd1bWVudHNbMF0rdGhpcy5zY3JvbGxMZWZ0LHZvaWQgMCE9PWFyZ3VtZW50c1swXS50b3A/fn5hcmd1bWVudHNbMF0udG9wK3RoaXMuc2Nyb2xsVG9wOn5+YXJndW1lbnRzWzFdK3RoaXMuc2Nyb2xsVG9wKSl9LHMucHJvdG90eXBlLnNjcm9sbEludG9WaWV3PWZ1bmN0aW9uKCl7aWYoITAhPT1hKGFyZ3VtZW50c1swXSkpe3ZhciBpPXUodGhpcykscz1pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89dGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpIT09ZS5ib2R5PyhwLmNhbGwodGhpcyxpLGkuc2Nyb2xsTGVmdCtvLmxlZnQtcy5sZWZ0LGkuc2Nyb2xsVG9wK28udG9wLXMudG9wKSxcImZpeGVkXCIhPT10LmdldENvbXB1dGVkU3R5bGUoaSkucG9zaXRpb24mJnQuc2Nyb2xsQnkoe2xlZnQ6cy5sZWZ0LHRvcDpzLnRvcCxiZWhhdmlvcjpcInNtb290aFwifSkpOnQuc2Nyb2xsQnkoe2xlZnQ6by5sZWZ0LHRvcDpvLnRvcCxiZWhhdmlvcjpcInNtb290aFwifSl9ZWxzZSBuLnNjcm9sbEludG9WaWV3LmNhbGwodGhpcyx2b2lkIDA9PT1hcmd1bWVudHNbMF18fGFyZ3VtZW50c1swXSl9fWZ1bmN0aW9uIHIodCxlKXt0aGlzLnNjcm9sbExlZnQ9dCx0aGlzLnNjcm9sbFRvcD1lfWZ1bmN0aW9uIGEodCl7aWYobnVsbD09PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0fHx2b2lkIDA9PT10LmJlaGF2aW9yfHxcImF1dG9cIj09PXQuYmVoYXZpb3J8fFwiaW5zdGFudFwiPT09dC5iZWhhdmlvcilyZXR1cm4hMDtpZihcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJzbW9vdGhcIj09PXQuYmVoYXZpb3IpcmV0dXJuITE7dGhyb3cgbmV3IFR5cGVFcnJvcihcImJlaGF2aW9yIG1lbWJlciBvZiBTY3JvbGxPcHRpb25zIFwiK3QuYmVoYXZpb3IrXCIgaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIGVudW1lcmF0aW9uIFNjcm9sbEJlaGF2aW9yLlwiKX1mdW5jdGlvbiBjKHQsZSl7cmV0dXJuXCJZXCI9PT1lP3QuY2xpZW50SGVpZ2h0K2w8dC5zY3JvbGxIZWlnaHQ6XCJYXCI9PT1lP3QuY2xpZW50V2lkdGgrbDx0LnNjcm9sbFdpZHRoOnZvaWQgMH1mdW5jdGlvbiBoKGUsaSl7dmFyIHM9dC5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbClbXCJvdmVyZmxvd1wiK2ldO3JldHVyblwiYXV0b1wiPT09c3x8XCJzY3JvbGxcIj09PXN9ZnVuY3Rpb24gZCh0KXt2YXIgZT1jKHQsXCJZXCIpJiZoKHQsXCJZXCIpLGk9Yyh0LFwiWFwiKSYmaCh0LFwiWFwiKTtyZXR1cm4gZXx8aX1mdW5jdGlvbiB1KHQpe2Zvcig7dCE9PWUuYm9keSYmITE9PT1kKHQpOyl0PXQucGFyZW50Tm9kZXx8dC5ob3N0O3JldHVybiB0fWZ1bmN0aW9uIGYoZSl7dmFyIGkscyxuLGwscj0obygpLWUuc3RhcnRUaW1lKS80Njg7bD1yPXI+MT8xOnIsaT0uNSooMS1NYXRoLmNvcyhNYXRoLlBJKmwpKSxzPWUuc3RhcnRYKyhlLngtZS5zdGFydFgpKmksbj1lLnN0YXJ0WSsoZS55LWUuc3RhcnRZKSppLGUubWV0aG9kLmNhbGwoZS5zY3JvbGxhYmxlLHMsbikscz09PWUueCYmbj09PWUueXx8dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZi5iaW5kKHQsZSkpfWZ1bmN0aW9uIHAoaSxzLGwpe3ZhciBhLGMsaCxkLHU9bygpO2k9PT1lLmJvZHk/KGE9dCxjPXQuc2Nyb2xsWHx8dC5wYWdlWE9mZnNldCxoPXQuc2Nyb2xsWXx8dC5wYWdlWU9mZnNldCxkPW4uc2Nyb2xsKTooYT1pLGM9aS5zY3JvbGxMZWZ0LGg9aS5zY3JvbGxUb3AsZD1yKSxmKHtzY3JvbGxhYmxlOmEsbWV0aG9kOmQsc3RhcnRUaW1lOnUsc3RhcnRYOmMsc3RhcnRZOmgseDpzLHk6bH0pfX19fSkpLHg9KFMucG9seWZpbGwsZnVuY3Rpb24oZSl7bChuLGUpO3ZhciBzPWQobik7ZnVuY3Rpb24gbigpe3ZhciBlLGk9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiB0KHRoaXMsbiksKGU9cy5jYWxsKHRoaXMsaSkpLnJlc2V0TmF0aXZlU2Nyb2xsJiYoaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiYmKGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb249XCJtYW51YWxcIiksd2luZG93LnNjcm9sbFRvKDAsMCkpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsZS5jaGVja1Njcm9sbCwhMSksdm9pZCAwPT09d2luZG93LnNtb290aHNjcm9sbFBvbHlmaWxsJiYod2luZG93LnNtb290aHNjcm9sbFBvbHlmaWxsPVMsd2luZG93LnNtb290aHNjcm9sbFBvbHlmaWxsLnBvbHlmaWxsKCkpLGV9cmV0dXJuIGkobixbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5zdGFuY2Uuc2Nyb2xsLnk9d2luZG93LnBhZ2VZT2Zmc2V0LHRoaXMuYWRkRWxlbWVudHMoKSx0aGlzLmRldGVjdEVsZW1lbnRzKCksdShyKG4ucHJvdG90eXBlKSxcImluaXRcIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleTpcImNoZWNrU2Nyb2xsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3UocihuLnByb3RvdHlwZSksXCJjaGVja1Njcm9sbFwiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5nZXREaXJlY3Rpb24mJnRoaXMuYWRkRGlyZWN0aW9uKCksdGhpcy5nZXRTcGVlZCYmKHRoaXMuYWRkU3BlZWQoKSx0aGlzLnNwZWVkVHM9RGF0ZS5ub3coKSksdGhpcy5pbnN0YW5jZS5zY3JvbGwueT13aW5kb3cucGFnZVlPZmZzZXQsT2JqZWN0LmVudHJpZXModGhpcy5lbHMpLmxlbmd0aCYmKHRoaXMuaGFzU2Nyb2xsVGlja2luZ3x8KHJlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXt0LmRldGVjdEVsZW1lbnRzKCl9KSksdGhpcy5oYXNTY3JvbGxUaWNraW5nPSEwKSl9fSx7a2V5OlwiYWRkRGlyZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt3aW5kb3cucGFnZVlPZmZzZXQ+dGhpcy5pbnN0YW5jZS5zY3JvbGwueT9cImRvd25cIiE9PXRoaXMuaW5zdGFuY2UuZGlyZWN0aW9uJiYodGhpcy5pbnN0YW5jZS5kaXJlY3Rpb249XCJkb3duXCIpOndpbmRvdy5wYWdlWU9mZnNldDx0aGlzLmluc3RhbmNlLnNjcm9sbC55JiZcInVwXCIhPT10aGlzLmluc3RhbmNlLmRpcmVjdGlvbiYmKHRoaXMuaW5zdGFuY2UuZGlyZWN0aW9uPVwidXBcIil9fSx7a2V5OlwiYWRkU3BlZWRcIix2YWx1ZTpmdW5jdGlvbigpe3dpbmRvdy5wYWdlWU9mZnNldCE9dGhpcy5pbnN0YW5jZS5zY3JvbGwueT90aGlzLmluc3RhbmNlLnNwZWVkPSh3aW5kb3cucGFnZVlPZmZzZXQtdGhpcy5pbnN0YW5jZS5zY3JvbGwueSkvTWF0aC5tYXgoMSxEYXRlLm5vdygpLXRoaXMuc3BlZWRUcyk6dGhpcy5pbnN0YW5jZS5zcGVlZD0wfX0se2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7T2JqZWN0LmVudHJpZXModGhpcy5lbHMpLmxlbmd0aCYmKHRoaXMud2luZG93SGVpZ2h0PXdpbmRvdy5pbm5lckhlaWdodCx0aGlzLnVwZGF0ZUVsZW1lbnRzKCkpfX0se2tleTpcImFkZEVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZWxzPXt9LHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLVwiK3RoaXMubmFtZStcIl1cIikuZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXtlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBzLG4sbyxsPWUuZGF0YXNldFt0Lm5hbWUrXCJDbGFzc1wiXXx8dC5jbGFzcyxyPVwic3RyaW5nXCI9PXR5cGVvZiBlLmRhdGFzZXRbdC5uYW1lK1wiSWRcIl0/ZS5kYXRhc2V0W3QubmFtZStcIklkXCJdOmksYT1cInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhc2V0W3QubmFtZStcIk9mZnNldFwiXT9lLmRhdGFzZXRbdC5uYW1lK1wiT2Zmc2V0XCJdLnNwbGl0KFwiLFwiKTp0Lm9mZnNldCxjPWUuZGF0YXNldFt0Lm5hbWUrXCJSZXBlYXRcIl0saD1lLmRhdGFzZXRbdC5uYW1lK1wiQ2FsbFwiXSxkPWUuZGF0YXNldFt0Lm5hbWUrXCJUYXJnZXRcIl0sdT0obz12b2lkIDAhPT1kP2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJcIi5jb25jYXQoZCkpOmUpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3M9dS50b3ArdC5pbnN0YW5jZS5zY3JvbGwueSxuPXUubGVmdCt0Lmluc3RhbmNlLnNjcm9sbC54O3ZhciBmPXMrby5vZmZzZXRIZWlnaHQscD1uK28ub2Zmc2V0V2lkdGg7Yz1cImZhbHNlXCIhPWMmJihudWxsIT1jfHx0LnJlcGVhdCk7dmFyIG09dC5nZXRSZWxhdGl2ZU9mZnNldChhKSx2PXtlbDplLHRhcmdldEVsOm8saWQ6cixjbGFzczpsLHRvcDpzKz1tWzBdLGJvdHRvbTpmLT1tWzFdLGxlZnQ6bixyaWdodDpwLG9mZnNldDphLHByb2dyZXNzOjAscmVwZWF0OmMsaW5WaWV3OiExLGNhbGw6aH07dC5lbHNbcl09dixlLmNsYXNzTGlzdC5jb250YWlucyhsKSYmdC5zZXRJblZpZXcodC5lbHNbcl0scil9KSl9fSx7a2V5OlwidXBkYXRlRWxlbWVudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7T2JqZWN0LmVudHJpZXModGhpcy5lbHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPWYoZSwyKSxzPWlbMF0sbj1pWzFdLG89bi50YXJnZXRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ArdC5pbnN0YW5jZS5zY3JvbGwueSxsPW8rbi50YXJnZXRFbC5vZmZzZXRIZWlnaHQscj10LmdldFJlbGF0aXZlT2Zmc2V0KG4ub2Zmc2V0KTt0LmVsc1tzXS50b3A9bytyWzBdLHQuZWxzW3NdLmJvdHRvbT1sLXJbMV19KSksdGhpcy5oYXNTY3JvbGxUaWNraW5nPSExfX0se2tleTpcImdldFJlbGF0aXZlT2Zmc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9WzAsMF07aWYodClmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylcInN0cmluZ1wiPT10eXBlb2YgdFtpXT90W2ldLmluY2x1ZGVzKFwiJVwiKT9lW2ldPXBhcnNlSW50KHRbaV0ucmVwbGFjZShcIiVcIixcIlwiKSp0aGlzLndpbmRvd0hlaWdodC8xMDApOmVbaV09cGFyc2VJbnQodFtpXSk6ZVtpXT10W2ldO3JldHVybiBlfX0se2tleTpcInNjcm9sbFRvXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LGk9cGFyc2VJbnQoZS5vZmZzZXQpfHwwLHM9ISFlLmNhbGxiYWNrJiZlLmNhbGxiYWNrO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZihcInRvcFwiPT09dCl0PXRoaXMuaHRtbDtlbHNlIGlmKFwiYm90dG9tXCI9PT10KXQ9dGhpcy5odG1sLm9mZnNldEhlaWdodC13aW5kb3cuaW5uZXJIZWlnaHQ7ZWxzZSBpZighKHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KSkpcmV0dXJufWVsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdD1wYXJzZUludCh0KTtlbHNlIGlmKCF0fHwhdC50YWdOYW1lKXJldHVybiB2b2lkIGNvbnNvbGUud2FybihcImB0YXJnZXRgIHBhcmFtZXRlciBpcyBub3QgdmFsaWRcIik7aT1cIm51bWJlclwiIT10eXBlb2YgdD90LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCtpK3RoaXMuaW5zdGFuY2Uuc2Nyb2xsLnk6dCtpO3ZhciBuPWZ1bmN0aW9uKCl7cmV0dXJuIHBhcnNlSW50KHdpbmRvdy5wYWdlWU9mZnNldCk9PT1wYXJzZUludChpKX07aWYocyl7aWYobigpKXJldHVybiB2b2lkIHMoKTt2YXIgbz1mdW5jdGlvbiB0KCl7bigpJiYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0KSxzKCkpfTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLG8pfXdpbmRvdy5zY3JvbGxUbyh7dG9wOmksYmVoYXZpb3I6MD09PWUuZHVyYXRpb24/XCJhdXRvXCI6XCJzbW9vdGhcIn0pfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5hZGRFbGVtZW50cygpLHRoaXMuZGV0ZWN0RWxlbWVudHMoKX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXt1KHIobi5wcm90b3R5cGUpLFwiZGVzdHJveVwiLHRoaXMpLmNhbGwodGhpcyksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLmNoZWNrU2Nyb2xsLCExKX19XSksbn0oYikpLGs9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxUPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksRT1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO2Z1bmN0aW9uIEEodCl7aWYobnVsbD09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWRcIik7cmV0dXJuIE9iamVjdCh0KX12YXIgTz1mdW5jdGlvbigpe3RyeXtpZighT2JqZWN0LmFzc2lnbilyZXR1cm4hMTt2YXIgdD1uZXcgU3RyaW5nKFwiYWJjXCIpO2lmKHRbNV09XCJkZVwiLFwiNVwiPT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModClbMF0pcmV0dXJuITE7Zm9yKHZhciBlPXt9LGk9MDtpPDEwO2krKyllW1wiX1wiK1N0cmluZy5mcm9tQ2hhckNvZGUoaSldPWk7aWYoXCIwMTIzNDU2Nzg5XCIhPT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSkpLmpvaW4oXCJcIikpcmV0dXJuITE7dmFyIHM9e307cmV0dXJuXCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiLnNwbGl0KFwiXCIpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3NbdF09dH0pKSxcImFiY2RlZmdoaWprbG1ub3BxcnN0XCI9PT1PYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LHMpKS5qb2luKFwiXCIpfWNhdGNoKHQpe3JldHVybiExfX0oKT9PYmplY3QuYXNzaWduOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpLHMsbj1BKHQpLG89MTtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKXtmb3IodmFyIGwgaW4gaT1PYmplY3QoYXJndW1lbnRzW29dKSlULmNhbGwoaSxsKSYmKG5bbF09aVtsXSk7aWYoayl7cz1rKGkpO2Zvcih2YXIgcj0wO3I8cy5sZW5ndGg7cisrKUUuY2FsbChpLHNbcl0pJiYobltzW3JdXT1pW3Nbcl1dKX19cmV0dXJuIG59O2Z1bmN0aW9uIEQoKXt9RC5wcm90b3R5cGU9e29uOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzLmV8fCh0aGlzLmU9e30pO3JldHVybihzW3RdfHwoc1t0XT1bXSkpLnB1c2goe2ZuOmUsY3R4Oml9KSx0aGlzfSxvbmNlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzO2Z1bmN0aW9uIG4oKXtzLm9mZih0LG4pLGUuYXBwbHkoaSxhcmd1bWVudHMpfXJldHVybiBuLl89ZSx0aGlzLm9uKHQsbixpKX0sZW1pdDpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaT0oKHRoaXMuZXx8KHRoaXMuZT17fSkpW3RdfHxbXSkuc2xpY2UoKSxzPTAsbj1pLmxlbmd0aDtzPG47cysrKWlbc10uZm4uYXBwbHkoaVtzXS5jdHgsZSk7cmV0dXJuIHRoaXN9LG9mZjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZXx8KHRoaXMuZT17fSkscz1pW3RdLG49W107aWYocyYmZSlmb3IodmFyIG89MCxsPXMubGVuZ3RoO288bDtvKyspc1tvXS5mbiE9PWUmJnNbb10uZm4uXyE9PWUmJm4ucHVzaChzW29dKTtyZXR1cm4gbi5sZW5ndGg/aVt0XT1uOmRlbGV0ZSBpW3RdLHRoaXN9fTt2YXIgQz1ELEw9dygoZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24oKXsobnVsbCE9PWU/ZTp0aGlzKS5MZXRoYXJneT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkscyl7dGhpcy5zdGFiaWxpdHk9bnVsbCE9dD9NYXRoLmFicyh0KTo4LHRoaXMuc2Vuc2l0aXZpdHk9bnVsbCE9ZT8xK01hdGguYWJzKGUpOjEwMCx0aGlzLnRvbGVyYW5jZT1udWxsIT1pPzErTWF0aC5hYnMoaSk6MS4xLHRoaXMuZGVsYXk9bnVsbCE9cz9zOjE1MCx0aGlzLmxhc3RVcERlbHRhcz1mdW5jdGlvbigpe3ZhciB0LGUsaTtmb3IoaT1bXSx0PTEsZT0yKnRoaXMuc3RhYmlsaXR5OzE8PWU/dDw9ZTp0Pj1lOzE8PWU/dCsrOnQtLSlpLnB1c2gobnVsbCk7cmV0dXJuIGl9LmNhbGwodGhpcyksdGhpcy5sYXN0RG93bkRlbHRhcz1mdW5jdGlvbigpe3ZhciB0LGUsaTtmb3IoaT1bXSx0PTEsZT0yKnRoaXMuc3RhYmlsaXR5OzE8PWU/dDw9ZTp0Pj1lOzE8PWU/dCsrOnQtLSlpLnB1c2gobnVsbCk7cmV0dXJuIGl9LmNhbGwodGhpcyksdGhpcy5kZWx0YXNUaW1lc3RhbXA9ZnVuY3Rpb24oKXt2YXIgdCxlLGk7Zm9yKGk9W10sdD0xLGU9Mip0aGlzLnN0YWJpbGl0eTsxPD1lP3Q8PWU6dD49ZTsxPD1lP3QrKzp0LS0paS5wdXNoKG51bGwpO3JldHVybiBpfS5jYWxsKHRoaXMpfXJldHVybiB0LnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbnVsbCE9KHQ9dC5vcmlnaW5hbEV2ZW50fHx0KS53aGVlbERlbHRhP2U9dC53aGVlbERlbHRhOm51bGwhPXQuZGVsdGFZP2U9LTQwKnQuZGVsdGFZOm51bGw9PXQuZGV0YWlsJiYwIT09dC5kZXRhaWx8fChlPS00MCp0LmRldGFpbCksdGhpcy5kZWx0YXNUaW1lc3RhbXAucHVzaChEYXRlLm5vdygpKSx0aGlzLmRlbHRhc1RpbWVzdGFtcC5zaGlmdCgpLGU+MD8odGhpcy5sYXN0VXBEZWx0YXMucHVzaChlKSx0aGlzLmxhc3RVcERlbHRhcy5zaGlmdCgpLHRoaXMuaXNJbmVydGlhKDEpKToodGhpcy5sYXN0RG93bkRlbHRhcy5wdXNoKGUpLHRoaXMubGFzdERvd25EZWx0YXMuc2hpZnQoKSx0aGlzLmlzSW5lcnRpYSgtMSkpfSx0LnByb3RvdHlwZS5pc0luZXJ0aWE9ZnVuY3Rpb24odCl7dmFyIGUsaSxzLG4sbyxsLHI7cmV0dXJuIG51bGw9PT0oZT0tMT09PXQ/dGhpcy5sYXN0RG93bkRlbHRhczp0aGlzLmxhc3RVcERlbHRhcylbMF0/dDohKHRoaXMuZGVsdGFzVGltZXN0YW1wWzIqdGhpcy5zdGFiaWxpdHktMl0rdGhpcy5kZWxheT5EYXRlLm5vdygpJiZlWzBdPT09ZVsyKnRoaXMuc3RhYmlsaXR5LTFdKSYmKHM9ZS5zbGljZSgwLHRoaXMuc3RhYmlsaXR5KSxpPWUuc2xpY2UodGhpcy5zdGFiaWxpdHksMip0aGlzLnN0YWJpbGl0eSkscj1zLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSkpLG89aS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0pKSxsPXIvcy5sZW5ndGgsbj1vL2kubGVuZ3RoLE1hdGguYWJzKGwpPE1hdGguYWJzKG4qdGhpcy50b2xlcmFuY2UpJiZ0aGlzLnNlbnNpdGl2aXR5PE1hdGguYWJzKG4pJiZ0KX0sdC5wcm90b3R5cGUuc2hvd0xhc3RVcERlbHRhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxhc3RVcERlbHRhc30sdC5wcm90b3R5cGUuc2hvd0xhc3REb3duRGVsdGFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFzdERvd25EZWx0YXN9LHR9KCl9KS5jYWxsKGcpfSkpLE09e2hhc1doZWVsRXZlbnQ6XCJvbndoZWVsXCJpbiBkb2N1bWVudCxoYXNNb3VzZVdoZWVsRXZlbnQ6XCJvbm1vdXNld2hlZWxcImluIGRvY3VtZW50LGhhc1RvdWNoOlwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3d8fHdpbmRvdy5Ub3VjaEV2ZW50fHx3aW5kb3cuRG9jdW1lbnRUb3VjaCYmZG9jdW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudFRvdWNoLGhhc1RvdWNoV2luOm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzJiZuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cz4xLGhhc1BvaW50ZXI6ISF3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQsaGFzS2V5RG93bjpcIm9ua2V5ZG93blwiaW4gZG9jdW1lbnQsaXNGaXJlZm94Om5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkZpcmVmb3hcIik+LTF9LGo9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxfPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gQih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19dmFyIFc9TC5MZXRoYXJneSxIPVwidmlydHVhbHNjcm9sbFwiLFI9VixQPTM3LFk9MzgsST0zOSx6PTQwLFg9MzI7ZnVuY3Rpb24gVih0KXshZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIGNvbnNvbGUud2FybihcImJpbmRBbGwgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7aWYoMD09PWUubGVuZ3RoKWZvcih2YXIgaSBpbiB0KV8uY2FsbCh0LGkpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2ldJiZcIltvYmplY3QgRnVuY3Rpb25dXCI9PWouY2FsbCh0W2ldKSYmZS5wdXNoKGkpO2Zvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgbj1lW3NdO3Rbbl09Qih0W25dLHQpfX0odGhpcyxcIl9vbldoZWVsXCIsXCJfb25Nb3VzZVdoZWVsXCIsXCJfb25Ub3VjaFN0YXJ0XCIsXCJfb25Ub3VjaE1vdmVcIixcIl9vbktleURvd25cIiksdGhpcy5lbD13aW5kb3csdCYmdC5lbCYmKHRoaXMuZWw9dC5lbCxkZWxldGUgdC5lbCksdGhpcy5vcHRpb25zPU8oe21vdXNlTXVsdGlwbGllcjoxLHRvdWNoTXVsdGlwbGllcjoyLGZpcmVmb3hNdWx0aXBsaWVyOjE1LGtleVN0ZXA6MTIwLHByZXZlbnRUb3VjaDohMSx1bnByZXZlbnRUb3VjaENsYXNzOlwidnMtdG91Y2htb3ZlLWFsbG93ZWRcIixsaW1pdEluZXJ0aWE6ITEsdXNlS2V5Ym9hcmQ6ITAsdXNlVG91Y2g6ITB9LHQpLHRoaXMub3B0aW9ucy5saW1pdEluZXJ0aWEmJih0aGlzLl9sZXRoYXJneT1uZXcgVyksdGhpcy5fZW1pdHRlcj1uZXcgQyx0aGlzLl9ldmVudD17eTowLHg6MCxkZWx0YVg6MCxkZWx0YVk6MH0sdGhpcy50b3VjaFN0YXJ0WD1udWxsLHRoaXMudG91Y2hTdGFydFk9bnVsbCx0aGlzLmJvZHlUb3VjaEFjdGlvbj1udWxsLHZvaWQgMCE9PXRoaXMub3B0aW9ucy5wYXNzaXZlJiYodGhpcy5saXN0ZW5lck9wdGlvbnM9e3Bhc3NpdmU6dGhpcy5vcHRpb25zLnBhc3NpdmV9KX1mdW5jdGlvbiBGKHQsZSxpKXtyZXR1cm4oMS1pKSp0K2kqZX1mdW5jdGlvbiBxKHQpe3ZhciBlPXt9O2lmKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKXt2YXIgaT1nZXRDb21wdXRlZFN0eWxlKHQpLHM9aS50cmFuc2Zvcm18fGkud2Via2l0VHJhbnNmb3JtfHxpLm1velRyYW5zZm9ybSxuPXMubWF0Y2goL15tYXRyaXgzZFxcKCguKylcXCkkLyk7cmV0dXJuIG4/KGUueD1uP3BhcnNlRmxvYXQoblsxXS5zcGxpdChcIiwgXCIpWzEyXSk6MCxlLnk9bj9wYXJzZUZsb2F0KG5bMV0uc3BsaXQoXCIsIFwiKVsxM10pOjApOihuPXMubWF0Y2goL15tYXRyaXhcXCgoLispXFwpJC8pLGUueD1uP3BhcnNlRmxvYXQoblsxXS5zcGxpdChcIiwgXCIpWzRdKTowLGUueT1uP3BhcnNlRmxvYXQoblsxXS5zcGxpdChcIiwgXCIpWzVdKTowKSxlfX1mdW5jdGlvbiBLKHQpe2Zvcih2YXIgZT1bXTt0JiZ0IT09ZG9jdW1lbnQ7dD10LnBhcmVudE5vZGUpZS5wdXNoKHQpO3JldHVybiBlfVYucHJvdG90eXBlLl9ub3RpZnk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXZlbnQ7ZS54Kz1lLmRlbHRhWCxlLnkrPWUuZGVsdGFZLHRoaXMuX2VtaXR0ZXIuZW1pdChILHt4OmUueCx5OmUueSxkZWx0YVg6ZS5kZWx0YVgsZGVsdGFZOmUuZGVsdGFZLG9yaWdpbmFsRXZlbnQ6dH0pfSxWLnByb3RvdHlwZS5fb25XaGVlbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnM7aWYoIXRoaXMuX2xldGhhcmd5fHwhMSE9PXRoaXMuX2xldGhhcmd5LmNoZWNrKHQpKXt2YXIgaT10aGlzLl9ldmVudDtpLmRlbHRhWD10LndoZWVsRGVsdGFYfHwtMSp0LmRlbHRhWCxpLmRlbHRhWT10LndoZWVsRGVsdGFZfHwtMSp0LmRlbHRhWSxNLmlzRmlyZWZveCYmMT09dC5kZWx0YU1vZGUmJihpLmRlbHRhWCo9ZS5maXJlZm94TXVsdGlwbGllcixpLmRlbHRhWSo9ZS5maXJlZm94TXVsdGlwbGllciksaS5kZWx0YVgqPWUubW91c2VNdWx0aXBsaWVyLGkuZGVsdGFZKj1lLm1vdXNlTXVsdGlwbGllcix0aGlzLl9ub3RpZnkodCl9fSxWLnByb3RvdHlwZS5fb25Nb3VzZVdoZWVsPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLm9wdGlvbnMubGltaXRJbmVydGlhfHwhMSE9PXRoaXMuX2xldGhhcmd5LmNoZWNrKHQpKXt2YXIgZT10aGlzLl9ldmVudDtlLmRlbHRhWD10LndoZWVsRGVsdGFYP3Qud2hlZWxEZWx0YVg6MCxlLmRlbHRhWT10LndoZWVsRGVsdGFZP3Qud2hlZWxEZWx0YVk6dC53aGVlbERlbHRhLHRoaXMuX25vdGlmeSh0KX19LFYucHJvdG90eXBlLl9vblRvdWNoU3RhcnQ9ZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXRUb3VjaGVzP3QudGFyZ2V0VG91Y2hlc1swXTp0O3RoaXMudG91Y2hTdGFydFg9ZS5wYWdlWCx0aGlzLnRvdWNoU3RhcnRZPWUucGFnZVl9LFYucHJvdG90eXBlLl9vblRvdWNoTW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnM7ZS5wcmV2ZW50VG91Y2gmJiF0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoZS51bnByZXZlbnRUb3VjaENsYXNzKSYmdC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBpPXRoaXMuX2V2ZW50LHM9dC50YXJnZXRUb3VjaGVzP3QudGFyZ2V0VG91Y2hlc1swXTp0O2kuZGVsdGFYPShzLnBhZ2VYLXRoaXMudG91Y2hTdGFydFgpKmUudG91Y2hNdWx0aXBsaWVyLGkuZGVsdGFZPShzLnBhZ2VZLXRoaXMudG91Y2hTdGFydFkpKmUudG91Y2hNdWx0aXBsaWVyLHRoaXMudG91Y2hTdGFydFg9cy5wYWdlWCx0aGlzLnRvdWNoU3RhcnRZPXMucGFnZVksdGhpcy5fbm90aWZ5KHQpfSxWLnByb3RvdHlwZS5fb25LZXlEb3duPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2V2ZW50O2UuZGVsdGFYPWUuZGVsdGFZPTA7dmFyIGk9d2luZG93LmlubmVySGVpZ2h0LTQwO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgUDpjYXNlIFk6ZS5kZWx0YVk9dGhpcy5vcHRpb25zLmtleVN0ZXA7YnJlYWs7Y2FzZSBJOmNhc2UgejplLmRlbHRhWT0tdGhpcy5vcHRpb25zLmtleVN0ZXA7YnJlYWs7Y2FzZSB0LnNoaWZ0S2V5OmUuZGVsdGFZPWk7YnJlYWs7Y2FzZSBYOmUuZGVsdGFZPS1pO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXRoaXMuX25vdGlmeSh0KX0sVi5wcm90b3R5cGUuX2JpbmQ9ZnVuY3Rpb24oKXtNLmhhc1doZWVsRXZlbnQmJnRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsdGhpcy5fb25XaGVlbCx0aGlzLmxpc3RlbmVyT3B0aW9ucyksTS5oYXNNb3VzZVdoZWVsRXZlbnQmJnRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIix0aGlzLl9vbk1vdXNlV2hlZWwsdGhpcy5saXN0ZW5lck9wdGlvbnMpLE0uaGFzVG91Y2gmJnRoaXMub3B0aW9ucy51c2VUb3VjaCYmKHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLl9vblRvdWNoU3RhcnQsdGhpcy5saXN0ZW5lck9wdGlvbnMpLHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuX29uVG91Y2hNb3ZlLHRoaXMubGlzdGVuZXJPcHRpb25zKSksTS5oYXNQb2ludGVyJiZNLmhhc1RvdWNoV2luJiYodGhpcy5ib2R5VG91Y2hBY3Rpb249ZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RvdWNoQWN0aW9uLGRvY3VtZW50LmJvZHkuc3R5bGUubXNUb3VjaEFjdGlvbj1cIm5vbmVcIix0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJEb3duXCIsdGhpcy5fb25Ub3VjaFN0YXJ0LCEwKSx0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJNb3ZlXCIsdGhpcy5fb25Ub3VjaE1vdmUsITApKSxNLmhhc0tleURvd24mJnRoaXMub3B0aW9ucy51c2VLZXlib2FyZCYmZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9vbktleURvd24pfSxWLnByb3RvdHlwZS5fdW5iaW5kPWZ1bmN0aW9uKCl7TS5oYXNXaGVlbEV2ZW50JiZ0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLHRoaXMuX29uV2hlZWwpLE0uaGFzTW91c2VXaGVlbEV2ZW50JiZ0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsdGhpcy5fb25Nb3VzZVdoZWVsKSxNLmhhc1RvdWNoJiYodGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMuX29uVG91Y2hTdGFydCksdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Ub3VjaE1vdmUpKSxNLmhhc1BvaW50ZXImJk0uaGFzVG91Y2hXaW4mJihkb2N1bWVudC5ib2R5LnN0eWxlLm1zVG91Y2hBY3Rpb249dGhpcy5ib2R5VG91Y2hBY3Rpb24sdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyRG93blwiLHRoaXMuX29uVG91Y2hTdGFydCwhMCksdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyTW92ZVwiLHRoaXMuX29uVG91Y2hNb3ZlLCEwKSksTS5oYXNLZXlEb3duJiZ0aGlzLm9wdGlvbnMudXNlS2V5Ym9hcmQmJmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fb25LZXlEb3duKX0sVi5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXt0aGlzLl9lbWl0dGVyLm9uKEgsdCxlKTt2YXIgaT10aGlzLl9lbWl0dGVyLmU7aSYmaVtIXSYmMT09PWlbSF0ubGVuZ3RoJiZ0aGlzLl9iaW5kKCl9LFYucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3RoaXMuX2VtaXR0ZXIub2ZmKEgsdCxlKTt2YXIgaT10aGlzLl9lbWl0dGVyLmU7KCFpW0hdfHxpW0hdLmxlbmd0aDw9MCkmJnRoaXMuX3VuYmluZCgpfSxWLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2V2ZW50O3QueD0wLHQueT0wfSxWLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fZW1pdHRlci5vZmYoKSx0aGlzLl91bmJpbmQoKX07dmFyIE49XCJmdW5jdGlvblwiPT10eXBlb2YgRmxvYXQzMkFycmF5O2Z1bmN0aW9uIFUodCxlKXtyZXR1cm4gMS0zKmUrMyp0fWZ1bmN0aW9uICQodCxlKXtyZXR1cm4gMyplLTYqdH1mdW5jdGlvbiBHKHQpe3JldHVybiAzKnR9ZnVuY3Rpb24gSih0LGUsaSl7cmV0dXJuKChVKGUsaSkqdCskKGUsaSkpKnQrRyhlKSkqdH1mdW5jdGlvbiBRKHQsZSxpKXtyZXR1cm4gMypVKGUsaSkqdCp0KzIqJChlLGkpKnQrRyhlKX1mdW5jdGlvbiBaKHQpe3JldHVybiB0fXZhciB0dD1mdW5jdGlvbih0LGUsaSxzKXtpZighKDA8PXQmJnQ8PTEmJjA8PWkmJmk8PTEpKXRocm93IG5ldyBFcnJvcihcImJlemllciB4IHZhbHVlcyBtdXN0IGJlIGluIFswLCAxXSByYW5nZVwiKTtpZih0PT09ZSYmaT09PXMpcmV0dXJuIFo7Zm9yKHZhciBuPU4/bmV3IEZsb2F0MzJBcnJheSgxMSk6bmV3IEFycmF5KDExKSxvPTA7bzwxMTsrK28pbltvXT1KKC4xKm8sdCxpKTtmdW5jdGlvbiBsKGUpe2Zvcih2YXIgcz0wLG89MTsxMCE9PW8mJm5bb108PWU7KytvKXMrPS4xOy0tbzt2YXIgbD1zKy4xKigoZS1uW29dKS8obltvKzFdLW5bb10pKSxyPVEobCx0LGkpO3JldHVybiByPj0uMDAxP2Z1bmN0aW9uKHQsZSxpLHMpe2Zvcih2YXIgbj0wO248NDsrK24pe3ZhciBvPVEoZSxpLHMpO2lmKDA9PT1vKXJldHVybiBlO2UtPShKKGUsaSxzKS10KS9vfXJldHVybiBlfShlLGwsdCxpKTowPT09cj9sOmZ1bmN0aW9uKHQsZSxpLHMsbil7dmFyIG8sbCxyPTA7ZG97KG89SihsPWUrKGktZSkvMixzLG4pLXQpPjA/aT1sOmU9bH13aGlsZShNYXRoLmFicyhvKT4xZS03JiYrK3I8MTApO3JldHVybiBsfShlLHMscysuMSx0LGkpfXJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOkoobCh0KSxlLHMpfX0sZXQ9MzgsaXQ9NDAsc3Q9MzIsbnQ9OSxvdD0zMyxsdD0zNCxydD0zNixhdD0zNSxjdD1mdW5jdGlvbihlKXtsKG4sZSk7dmFyIHM9ZChuKTtmdW5jdGlvbiBuKCl7dmFyIGUsaT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHQodGhpcyxuKSxoaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uJiYoaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbj1cIm1hbnVhbFwiKSx3aW5kb3cuc2Nyb2xsVG8oMCwwKSwoZT1zLmNhbGwodGhpcyxpKSkuaW5lcnRpYSYmKGUubGVycD0uMSplLmluZXJ0aWEpLGUuaXNTY3JvbGxpbmc9ITEsZS5pc0RyYWdnaW5nU2Nyb2xsYmFyPSExLGUuaXNUaWNraW5nPSExLGUuaGFzU2Nyb2xsVGlja2luZz0hMSxlLnBhcmFsbGF4RWxlbWVudHM9e30sZS5zdG9wPSExLGUuc2Nyb2xsYmFyQ29udGFpbmVyPWkuc2Nyb2xsYmFyQ29udGFpbmVyLGUuY2hlY2tLZXk9ZS5jaGVja0tleS5iaW5kKGMoZSkpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGUuY2hlY2tLZXksITEpLGV9cmV0dXJuIGkobixbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5odG1sLmNsYXNzTGlzdC5hZGQodGhpcy5zbW9vdGhDbGFzcyksdGhpcy5odG1sLnNldEF0dHJpYnV0ZShcImRhdGEtXCIuY29uY2F0KHRoaXMubmFtZSxcIi1kaXJlY3Rpb25cIiksdGhpcy5kaXJlY3Rpb24pLHRoaXMuaW5zdGFuY2U9byh7ZGVsdGE6e3g6dGhpcy5pbml0UG9zaXRpb24ueCx5OnRoaXMuaW5pdFBvc2l0aW9uLnl9LHNjcm9sbDp7eDp0aGlzLmluaXRQb3NpdGlvbi54LHk6dGhpcy5pbml0UG9zaXRpb24ueX19LHRoaXMuaW5zdGFuY2UpLHRoaXMudnM9bmV3IFIoe2VsOnRoaXMuc2Nyb2xsRnJvbUFueXdoZXJlP2RvY3VtZW50OnRoaXMuZWwsbW91c2VNdWx0aXBsaWVyOm5hdmlnYXRvci5wbGF0Zm9ybS5pbmRleE9mKFwiV2luXCIpPi0xPzE6LjQsZmlyZWZveE11bHRpcGxpZXI6dGhpcy5maXJlZm94TXVsdGlwbGllcix0b3VjaE11bHRpcGxpZXI6dGhpcy50b3VjaE11bHRpcGxpZXIsdXNlS2V5Ym9hcmQ6ITEscGFzc2l2ZTohMH0pLHRoaXMudnMub24oKGZ1bmN0aW9uKGUpe3Quc3RvcHx8dC5pc0RyYWdnaW5nU2Nyb2xsYmFyfHxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKGZ1bmN0aW9uKCl7dC51cGRhdGVEZWx0YShlKSx0LmlzU2Nyb2xsaW5nfHx0LnN0YXJ0U2Nyb2xsaW5nKCl9KSl9KSksdGhpcy5zZXRTY3JvbGxMaW1pdCgpLHRoaXMuaW5pdFNjcm9sbEJhcigpLHRoaXMuYWRkU2VjdGlvbnMoKSx0aGlzLmFkZEVsZW1lbnRzKCksdGhpcy5jaGVja1Njcm9sbCghMCksdGhpcy50cmFuc2Zvcm1FbGVtZW50cyghMCwhMCksdShyKG4ucHJvdG90eXBlKSxcImluaXRcIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleTpcInNldFNjcm9sbExpbWl0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmluc3RhbmNlLmxpbWl0Lnk9dGhpcy5lbC5vZmZzZXRIZWlnaHQtdGhpcy53aW5kb3dIZWlnaHQsXCJob3Jpem9udGFsXCI9PT10aGlzLmRpcmVjdGlvbil7Zm9yKHZhciB0PTAsZT10aGlzLmVsLmNoaWxkcmVuLGk9MDtpPGUubGVuZ3RoO2krKyl0Kz1lW2ldLm9mZnNldFdpZHRoO3RoaXMuaW5zdGFuY2UubGltaXQueD10LXRoaXMud2luZG93V2lkdGh9fX0se2tleTpcInN0YXJ0U2Nyb2xsaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0U2Nyb2xsVHM9RGF0ZS5ub3coKSx0aGlzLmlzU2Nyb2xsaW5nPSEwLHRoaXMuY2hlY2tTY3JvbGwoKSx0aGlzLmh0bWwuY2xhc3NMaXN0LmFkZCh0aGlzLnNjcm9sbGluZ0NsYXNzKX19LHtrZXk6XCJzdG9wU2Nyb2xsaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmNoZWNrU2Nyb2xsUmFmKSx0aGlzLnN0YXJ0U2Nyb2xsVHM9dm9pZCAwLHRoaXMuc2Nyb2xsVG9SYWYmJihjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnNjcm9sbFRvUmFmKSx0aGlzLnNjcm9sbFRvUmFmPW51bGwpLHRoaXMuaXNTY3JvbGxpbmc9ITEsdGhpcy5pbnN0YW5jZS5zY3JvbGwueT1NYXRoLnJvdW5kKHRoaXMuaW5zdGFuY2Uuc2Nyb2xsLnkpLHRoaXMuaHRtbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2Nyb2xsaW5nQ2xhc3MpfX0se2tleTpcImNoZWNrS2V5XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLnN0b3ApdC5rZXlDb2RlPT1udCYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe2UuaHRtbC5zY3JvbGxUb3A9MCxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcD0wLGUuaHRtbC5zY3JvbGxMZWZ0PTAsZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0PTB9KSk7ZWxzZXtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG50OnJlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXtlLmh0bWwuc2Nyb2xsVG9wPTAsZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A9MCxlLmh0bWwuc2Nyb2xsTGVmdD0wLGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdD0wLGUuc2Nyb2xsVG8oZG9jdW1lbnQuYWN0aXZlRWxlbWVudCx7b2Zmc2V0Oi13aW5kb3cuaW5uZXJIZWlnaHQvMn0pfSkpO2JyZWFrO2Nhc2UgZXQ6dGhpcy5pc0FjdGl2ZUVsZW1lbnRTY3JvbGxTZW5zaXRpdmUoKSYmKHRoaXMuaW5zdGFuY2UuZGVsdGFbdGhpcy5kaXJlY3Rpb25BeGlzXS09MjQwKTticmVhaztjYXNlIGl0OnRoaXMuaXNBY3RpdmVFbGVtZW50U2Nyb2xsU2Vuc2l0aXZlKCkmJih0aGlzLmluc3RhbmNlLmRlbHRhW3RoaXMuZGlyZWN0aW9uQXhpc10rPTI0MCk7YnJlYWs7Y2FzZSBvdDp0aGlzLmluc3RhbmNlLmRlbHRhW3RoaXMuZGlyZWN0aW9uQXhpc10tPXdpbmRvdy5pbm5lckhlaWdodDticmVhaztjYXNlIGx0OnRoaXMuaW5zdGFuY2UuZGVsdGFbdGhpcy5kaXJlY3Rpb25BeGlzXSs9d2luZG93LmlubmVySGVpZ2h0O2JyZWFrO2Nhc2UgcnQ6dGhpcy5pbnN0YW5jZS5kZWx0YVt0aGlzLmRpcmVjdGlvbkF4aXNdLT10aGlzLmluc3RhbmNlLmxpbWl0W3RoaXMuZGlyZWN0aW9uQXhpc107YnJlYWs7Y2FzZSBhdDp0aGlzLmluc3RhbmNlLmRlbHRhW3RoaXMuZGlyZWN0aW9uQXhpc10rPXRoaXMuaW5zdGFuY2UubGltaXRbdGhpcy5kaXJlY3Rpb25BeGlzXTticmVhaztjYXNlIHN0OnRoaXMuaXNBY3RpdmVFbGVtZW50U2Nyb2xsU2Vuc2l0aXZlKCkmJih0LnNoaWZ0S2V5P3RoaXMuaW5zdGFuY2UuZGVsdGFbdGhpcy5kaXJlY3Rpb25BeGlzXS09d2luZG93LmlubmVySGVpZ2h0OnRoaXMuaW5zdGFuY2UuZGVsdGFbdGhpcy5kaXJlY3Rpb25BeGlzXSs9d2luZG93LmlubmVySGVpZ2h0KTticmVhaztkZWZhdWx0OnJldHVybn10aGlzLmluc3RhbmNlLmRlbHRhW3RoaXMuZGlyZWN0aW9uQXhpc108MCYmKHRoaXMuaW5zdGFuY2UuZGVsdGFbdGhpcy5kaXJlY3Rpb25BeGlzXT0wKSx0aGlzLmluc3RhbmNlLmRlbHRhW3RoaXMuZGlyZWN0aW9uQXhpc10+dGhpcy5pbnN0YW5jZS5saW1pdFt0aGlzLmRpcmVjdGlvbkF4aXNdJiYodGhpcy5pbnN0YW5jZS5kZWx0YVt0aGlzLmRpcmVjdGlvbkF4aXNdPXRoaXMuaW5zdGFuY2UubGltaXRbdGhpcy5kaXJlY3Rpb25BeGlzXSksdGhpcy5zdG9wU2Nyb2xsaW5nKCksdGhpcy5pc1Njcm9sbGluZz0hMCx0aGlzLmNoZWNrU2Nyb2xsKCksdGhpcy5odG1sLmNsYXNzTGlzdC5hZGQodGhpcy5zY3JvbGxpbmdDbGFzcyl9fX0se2tleTpcImlzQWN0aXZlRWxlbWVudFNjcm9sbFNlbnNpdGl2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIShkb2N1bWVudC5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudHx8ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnR8fGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MQnV0dG9uRWxlbWVudHx8ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50KX19LHtrZXk6XCJjaGVja1Njcm9sbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07aWYoZXx8dGhpcy5pc1Njcm9sbGluZ3x8dGhpcy5pc0RyYWdnaW5nU2Nyb2xsYmFyKXt0aGlzLmhhc1Njcm9sbFRpY2tpbmd8fCh0aGlzLmNoZWNrU2Nyb2xsUmFmPXJlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXtyZXR1cm4gdC5jaGVja1Njcm9sbCgpfSkpLHRoaXMuaGFzU2Nyb2xsVGlja2luZz0hMCksdGhpcy51cGRhdGVTY3JvbGwoKTt2YXIgaT1NYXRoLmFicyh0aGlzLmluc3RhbmNlLmRlbHRhW3RoaXMuZGlyZWN0aW9uQXhpc10tdGhpcy5pbnN0YW5jZS5zY3JvbGxbdGhpcy5kaXJlY3Rpb25BeGlzXSkscz1EYXRlLm5vdygpLXRoaXMuc3RhcnRTY3JvbGxUcztpZighdGhpcy5hbmltYXRpbmdTY3JvbGwmJnM+MTAwJiYoaTwuNSYmMCE9dGhpcy5pbnN0YW5jZS5kZWx0YVt0aGlzLmRpcmVjdGlvbkF4aXNdfHxpPC41JiYwPT10aGlzLmluc3RhbmNlLmRlbHRhW3RoaXMuZGlyZWN0aW9uQXhpc10pJiZ0aGlzLnN0b3BTY3JvbGxpbmcoKSxPYmplY3QuZW50cmllcyh0aGlzLnNlY3Rpb25zKS5mb3JFYWNoKChmdW5jdGlvbihpKXt2YXIgcz1mKGksMiksbj0oc1swXSxzWzFdKTtuLnBlcnNpc3RlbnR8fHQuaW5zdGFuY2Uuc2Nyb2xsW3QuZGlyZWN0aW9uQXhpc10+bi5vZmZzZXRbdC5kaXJlY3Rpb25BeGlzXSYmdC5pbnN0YW5jZS5zY3JvbGxbdC5kaXJlY3Rpb25BeGlzXTxuLmxpbWl0W3QuZGlyZWN0aW9uQXhpc10/KFwiaG9yaXpvbnRhbFwiPT09dC5kaXJlY3Rpb24/dC50cmFuc2Zvcm0obi5lbCwtdC5pbnN0YW5jZS5zY3JvbGxbdC5kaXJlY3Rpb25BeGlzXSwwKTp0LnRyYW5zZm9ybShuLmVsLDAsLXQuaW5zdGFuY2Uuc2Nyb2xsW3QuZGlyZWN0aW9uQXhpc10pLG4uaW5WaWV3fHwobi5pblZpZXc9ITAsbi5lbC5zdHlsZS5vcGFjaXR5PTEsbi5lbC5zdHlsZS5wb2ludGVyRXZlbnRzPVwiYWxsXCIsbi5lbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLVwiLmNvbmNhdCh0Lm5hbWUsXCItc2VjdGlvbi1pbnZpZXdcIiksXCJcIikpKTooKG4uaW5WaWV3fHxlKSYmKG4uaW5WaWV3PSExLG4uZWwuc3R5bGUub3BhY2l0eT0wLG4uZWwuc3R5bGUucG9pbnRlckV2ZW50cz1cIm5vbmVcIixuLmVsLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtXCIuY29uY2F0KHQubmFtZSxcIi1zZWN0aW9uLWludmlld1wiKSkpLHQudHJhbnNmb3JtKG4uZWwsMCwwKSl9KSksdGhpcy5nZXREaXJlY3Rpb24mJnRoaXMuYWRkRGlyZWN0aW9uKCksdGhpcy5nZXRTcGVlZCYmKHRoaXMuYWRkU3BlZWQoKSx0aGlzLnNwZWVkVHM9RGF0ZS5ub3coKSksdGhpcy5kZXRlY3RFbGVtZW50cygpLHRoaXMudHJhbnNmb3JtRWxlbWVudHMoKSx0aGlzLmhhc1Njcm9sbGJhcil7dmFyIG89dGhpcy5pbnN0YW5jZS5zY3JvbGxbdGhpcy5kaXJlY3Rpb25BeGlzXS90aGlzLmluc3RhbmNlLmxpbWl0W3RoaXMuZGlyZWN0aW9uQXhpc10qdGhpcy5zY3JvbGxCYXJMaW1pdFt0aGlzLmRpcmVjdGlvbkF4aXNdO1wiaG9yaXpvbnRhbFwiPT09dGhpcy5kaXJlY3Rpb24/dGhpcy50cmFuc2Zvcm0odGhpcy5zY3JvbGxiYXJUaHVtYixvLDApOnRoaXMudHJhbnNmb3JtKHRoaXMuc2Nyb2xsYmFyVGh1bWIsMCxvKX11KHIobi5wcm90b3R5cGUpLFwiY2hlY2tTY3JvbGxcIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuaGFzU2Nyb2xsVGlja2luZz0hMX19fSx7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLndpbmRvd0hlaWdodD13aW5kb3cuaW5uZXJIZWlnaHQsdGhpcy53aW5kb3dXaWR0aD13aW5kb3cuaW5uZXJXaWR0aCx0aGlzLmNoZWNrQ29udGV4dCgpLHRoaXMud2luZG93TWlkZGxlPXt4OnRoaXMud2luZG93V2lkdGgvMix5OnRoaXMud2luZG93SGVpZ2h0LzJ9LHRoaXMudXBkYXRlKCl9fSx7a2V5OlwidXBkYXRlRGVsdGFcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXNbdGhpcy5jb250ZXh0XSYmdGhpc1t0aGlzLmNvbnRleHRdLmdlc3R1cmVEaXJlY3Rpb24/dGhpc1t0aGlzLmNvbnRleHRdLmdlc3R1cmVEaXJlY3Rpb246dGhpcy5nZXN0dXJlRGlyZWN0aW9uO2U9XCJib3RoXCI9PT1pP3QuZGVsdGFYK3QuZGVsdGFZOlwidmVydGljYWxcIj09PWk/dC5kZWx0YVk6XCJob3Jpem9udGFsXCI9PT1pP3QuZGVsdGFYOnQuZGVsdGFZLHRoaXMuaW5zdGFuY2UuZGVsdGFbdGhpcy5kaXJlY3Rpb25BeGlzXS09ZSp0aGlzLm11bHRpcGxpZXIsdGhpcy5pbnN0YW5jZS5kZWx0YVt0aGlzLmRpcmVjdGlvbkF4aXNdPDAmJih0aGlzLmluc3RhbmNlLmRlbHRhW3RoaXMuZGlyZWN0aW9uQXhpc109MCksdGhpcy5pbnN0YW5jZS5kZWx0YVt0aGlzLmRpcmVjdGlvbkF4aXNdPnRoaXMuaW5zdGFuY2UubGltaXRbdGhpcy5kaXJlY3Rpb25BeGlzXSYmKHRoaXMuaW5zdGFuY2UuZGVsdGFbdGhpcy5kaXJlY3Rpb25BeGlzXT10aGlzLmluc3RhbmNlLmxpbWl0W3RoaXMuZGlyZWN0aW9uQXhpc10pfX0se2tleTpcInVwZGF0ZVNjcm9sbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuaXNTY3JvbGxpbmd8fHRoaXMuaXNEcmFnZ2luZ1Njcm9sbGJhcj90aGlzLmluc3RhbmNlLnNjcm9sbFt0aGlzLmRpcmVjdGlvbkF4aXNdPUYodGhpcy5pbnN0YW5jZS5zY3JvbGxbdGhpcy5kaXJlY3Rpb25BeGlzXSx0aGlzLmluc3RhbmNlLmRlbHRhW3RoaXMuZGlyZWN0aW9uQXhpc10sdGhpcy5sZXJwKTp0aGlzLmluc3RhbmNlLnNjcm9sbFt0aGlzLmRpcmVjdGlvbkF4aXNdPnRoaXMuaW5zdGFuY2UubGltaXRbdGhpcy5kaXJlY3Rpb25BeGlzXT90aGlzLnNldFNjcm9sbCh0aGlzLmluc3RhbmNlLnNjcm9sbFt0aGlzLmRpcmVjdGlvbkF4aXNdLHRoaXMuaW5zdGFuY2UubGltaXRbdGhpcy5kaXJlY3Rpb25BeGlzXSk6dGhpcy5pbnN0YW5jZS5zY3JvbGwueTwwP3RoaXMuc2V0U2Nyb2xsKHRoaXMuaW5zdGFuY2Uuc2Nyb2xsW3RoaXMuZGlyZWN0aW9uQXhpc10sMCk6dGhpcy5zZXRTY3JvbGwodGhpcy5pbnN0YW5jZS5zY3JvbGxbdGhpcy5kaXJlY3Rpb25BeGlzXSx0aGlzLmluc3RhbmNlLmRlbHRhW3RoaXMuZGlyZWN0aW9uQXhpc10pfX0se2tleTpcImFkZERpcmVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbnN0YW5jZS5kZWx0YS55PnRoaXMuaW5zdGFuY2Uuc2Nyb2xsLnk/XCJkb3duXCIhPT10aGlzLmluc3RhbmNlLmRpcmVjdGlvbiYmKHRoaXMuaW5zdGFuY2UuZGlyZWN0aW9uPVwiZG93blwiKTp0aGlzLmluc3RhbmNlLmRlbHRhLnk8dGhpcy5pbnN0YW5jZS5zY3JvbGwueSYmXCJ1cFwiIT09dGhpcy5pbnN0YW5jZS5kaXJlY3Rpb24mJih0aGlzLmluc3RhbmNlLmRpcmVjdGlvbj1cInVwXCIpLHRoaXMuaW5zdGFuY2UuZGVsdGEueD50aGlzLmluc3RhbmNlLnNjcm9sbC54P1wicmlnaHRcIiE9PXRoaXMuaW5zdGFuY2UuZGlyZWN0aW9uJiYodGhpcy5pbnN0YW5jZS5kaXJlY3Rpb249XCJyaWdodFwiKTp0aGlzLmluc3RhbmNlLmRlbHRhLng8dGhpcy5pbnN0YW5jZS5zY3JvbGwueCYmXCJsZWZ0XCIhPT10aGlzLmluc3RhbmNlLmRpcmVjdGlvbiYmKHRoaXMuaW5zdGFuY2UuZGlyZWN0aW9uPVwibGVmdFwiKX19LHtrZXk6XCJhZGRTcGVlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbnN0YW5jZS5kZWx0YVt0aGlzLmRpcmVjdGlvbkF4aXNdIT10aGlzLmluc3RhbmNlLnNjcm9sbFt0aGlzLmRpcmVjdGlvbkF4aXNdP3RoaXMuaW5zdGFuY2Uuc3BlZWQ9KHRoaXMuaW5zdGFuY2UuZGVsdGFbdGhpcy5kaXJlY3Rpb25BeGlzXS10aGlzLmluc3RhbmNlLnNjcm9sbFt0aGlzLmRpcmVjdGlvbkF4aXNdKS9NYXRoLm1heCgxLERhdGUubm93KCktdGhpcy5zcGVlZFRzKTp0aGlzLmluc3RhbmNlLnNwZWVkPTB9fSx7a2V5OlwiaW5pdFNjcm9sbEJhclwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5zY3JvbGxiYXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksdGhpcy5zY3JvbGxiYXJUaHVtYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx0aGlzLnNjcm9sbGJhci5jbGFzc0xpc3QuYWRkKFwiXCIuY29uY2F0KHRoaXMuc2Nyb2xsYmFyQ2xhc3MpKSx0aGlzLnNjcm9sbGJhclRodW1iLmNsYXNzTGlzdC5hZGQoXCJcIi5jb25jYXQodGhpcy5zY3JvbGxiYXJDbGFzcyxcIl90aHVtYlwiKSksdGhpcy5zY3JvbGxiYXIuYXBwZW5kKHRoaXMuc2Nyb2xsYmFyVGh1bWIpLHRoaXMuc2Nyb2xsYmFyQ29udGFpbmVyP3RoaXMuc2Nyb2xsYmFyQ29udGFpbmVyLmFwcGVuZCh0aGlzLnNjcm9sbGJhcik6ZG9jdW1lbnQuYm9keS5hcHBlbmQodGhpcy5zY3JvbGxiYXIpLHRoaXMuZ2V0U2Nyb2xsQmFyPXRoaXMuZ2V0U2Nyb2xsQmFyLmJpbmQodGhpcyksdGhpcy5yZWxlYXNlU2Nyb2xsQmFyPXRoaXMucmVsZWFzZVNjcm9sbEJhci5iaW5kKHRoaXMpLHRoaXMubW92ZVNjcm9sbEJhcj10aGlzLm1vdmVTY3JvbGxCYXIuYmluZCh0aGlzKSx0aGlzLnNjcm9sbGJhclRodW1iLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLmdldFNjcm9sbEJhciksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5yZWxlYXNlU2Nyb2xsQmFyKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMubW92ZVNjcm9sbEJhciksdGhpcy5oYXNTY3JvbGxiYXI9ITEsXCJob3Jpem9udGFsXCI9PXRoaXMuZGlyZWN0aW9uKXtpZih0aGlzLmluc3RhbmNlLmxpbWl0LngrdGhpcy53aW5kb3dXaWR0aDw9dGhpcy53aW5kb3dXaWR0aClyZXR1cm59ZWxzZSBpZih0aGlzLmluc3RhbmNlLmxpbWl0LnkrdGhpcy53aW5kb3dIZWlnaHQ8PXRoaXMud2luZG93SGVpZ2h0KXJldHVybjt0aGlzLmhhc1Njcm9sbGJhcj0hMCx0aGlzLnNjcm9sbGJhckJDUj10aGlzLnNjcm9sbGJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx0aGlzLnNjcm9sbGJhckhlaWdodD10aGlzLnNjcm9sbGJhckJDUi5oZWlnaHQsdGhpcy5zY3JvbGxiYXJXaWR0aD10aGlzLnNjcm9sbGJhckJDUi53aWR0aCxcImhvcml6b250YWxcIj09PXRoaXMuZGlyZWN0aW9uP3RoaXMuc2Nyb2xsYmFyVGh1bWIuc3R5bGUud2lkdGg9XCJcIi5jb25jYXQodGhpcy5zY3JvbGxiYXJXaWR0aCp0aGlzLnNjcm9sbGJhcldpZHRoLyh0aGlzLmluc3RhbmNlLmxpbWl0LngrdGhpcy5zY3JvbGxiYXJXaWR0aCksXCJweFwiKTp0aGlzLnNjcm9sbGJhclRodW1iLnN0eWxlLmhlaWdodD1cIlwiLmNvbmNhdCh0aGlzLnNjcm9sbGJhckhlaWdodCp0aGlzLnNjcm9sbGJhckhlaWdodC8odGhpcy5pbnN0YW5jZS5saW1pdC55K3RoaXMuc2Nyb2xsYmFySGVpZ2h0KSxcInB4XCIpLHRoaXMuc2Nyb2xsYmFyVGh1bWJCQ1I9dGhpcy5zY3JvbGxiYXJUaHVtYi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx0aGlzLnNjcm9sbEJhckxpbWl0PXt4OnRoaXMuc2Nyb2xsYmFyV2lkdGgtdGhpcy5zY3JvbGxiYXJUaHVtYkJDUi53aWR0aCx5OnRoaXMuc2Nyb2xsYmFySGVpZ2h0LXRoaXMuc2Nyb2xsYmFyVGh1bWJCQ1IuaGVpZ2h0fX19LHtrZXk6XCJyZWluaXRTY3JvbGxCYXJcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuaGFzU2Nyb2xsYmFyPSExLFwiaG9yaXpvbnRhbFwiPT10aGlzLmRpcmVjdGlvbil7aWYodGhpcy5pbnN0YW5jZS5saW1pdC54K3RoaXMud2luZG93V2lkdGg8PXRoaXMud2luZG93V2lkdGgpcmV0dXJufWVsc2UgaWYodGhpcy5pbnN0YW5jZS5saW1pdC55K3RoaXMud2luZG93SGVpZ2h0PD10aGlzLndpbmRvd0hlaWdodClyZXR1cm47dGhpcy5oYXNTY3JvbGxiYXI9ITAsdGhpcy5zY3JvbGxiYXJCQ1I9dGhpcy5zY3JvbGxiYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdGhpcy5zY3JvbGxiYXJIZWlnaHQ9dGhpcy5zY3JvbGxiYXJCQ1IuaGVpZ2h0LHRoaXMuc2Nyb2xsYmFyV2lkdGg9dGhpcy5zY3JvbGxiYXJCQ1Iud2lkdGgsXCJob3Jpem9udGFsXCI9PT10aGlzLmRpcmVjdGlvbj90aGlzLnNjcm9sbGJhclRodW1iLnN0eWxlLndpZHRoPVwiXCIuY29uY2F0KHRoaXMuc2Nyb2xsYmFyV2lkdGgqdGhpcy5zY3JvbGxiYXJXaWR0aC8odGhpcy5pbnN0YW5jZS5saW1pdC54K3RoaXMuc2Nyb2xsYmFyV2lkdGgpLFwicHhcIik6dGhpcy5zY3JvbGxiYXJUaHVtYi5zdHlsZS5oZWlnaHQ9XCJcIi5jb25jYXQodGhpcy5zY3JvbGxiYXJIZWlnaHQqdGhpcy5zY3JvbGxiYXJIZWlnaHQvKHRoaXMuaW5zdGFuY2UubGltaXQueSt0aGlzLnNjcm9sbGJhckhlaWdodCksXCJweFwiKSx0aGlzLnNjcm9sbGJhclRodW1iQkNSPXRoaXMuc2Nyb2xsYmFyVGh1bWIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdGhpcy5zY3JvbGxCYXJMaW1pdD17eDp0aGlzLnNjcm9sbGJhcldpZHRoLXRoaXMuc2Nyb2xsYmFyVGh1bWJCQ1Iud2lkdGgseTp0aGlzLnNjcm9sbGJhckhlaWdodC10aGlzLnNjcm9sbGJhclRodW1iQkNSLmhlaWdodH19fSx7a2V5OlwiZGVzdHJveVNjcm9sbEJhclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxiYXJUaHVtYi5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5nZXRTY3JvbGxCYXIpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMucmVsZWFzZVNjcm9sbEJhciksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm1vdmVTY3JvbGxCYXIpLHRoaXMuc2Nyb2xsYmFyLnJlbW92ZSgpfX0se2tleTpcImdldFNjcm9sbEJhclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuaXNEcmFnZ2luZ1Njcm9sbGJhcj0hMCx0aGlzLmNoZWNrU2Nyb2xsKCksdGhpcy5odG1sLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zY3JvbGxpbmdDbGFzcyksdGhpcy5odG1sLmNsYXNzTGlzdC5hZGQodGhpcy5kcmFnZ2luZ0NsYXNzKX19LHtrZXk6XCJyZWxlYXNlU2Nyb2xsQmFyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5pc0RyYWdnaW5nU2Nyb2xsYmFyPSExLHRoaXMuaXNTY3JvbGxpbmcmJnRoaXMuaHRtbC5jbGFzc0xpc3QuYWRkKHRoaXMuc2Nyb2xsaW5nQ2xhc3MpLHRoaXMuaHRtbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZHJhZ2dpbmdDbGFzcyl9fSx7a2V5OlwibW92ZVNjcm9sbEJhclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5pc0RyYWdnaW5nU2Nyb2xsYmFyJiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKGZ1bmN0aW9uKCl7dmFyIGk9MTAwKih0LmNsaWVudFgtZS5zY3JvbGxiYXJCQ1IubGVmdCkvZS5zY3JvbGxiYXJXaWR0aCplLmluc3RhbmNlLmxpbWl0LngvMTAwLHM9MTAwKih0LmNsaWVudFktZS5zY3JvbGxiYXJCQ1IudG9wKS9lLnNjcm9sbGJhckhlaWdodCplLmluc3RhbmNlLmxpbWl0LnkvMTAwO3M+MCYmczxlLmluc3RhbmNlLmxpbWl0LnkmJihlLmluc3RhbmNlLmRlbHRhLnk9cyksaT4wJiZpPGUuaW5zdGFuY2UubGltaXQueCYmKGUuaW5zdGFuY2UuZGVsdGEueD1pKX0pKX19LHtrZXk6XCJhZGRFbGVtZW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmVscz17fSx0aGlzLnBhcmFsbGF4RWxlbWVudHM9e30sdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtXCIuY29uY2F0KHRoaXMubmFtZSxcIl1cIikpLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7dmFyIHMsbixvLGw9SyhlKSxyPU9iamVjdC5lbnRyaWVzKHQuc2VjdGlvbnMpLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9Zih0LDIpO2VbMF07cmV0dXJuIGVbMV19KSkuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIGwuaW5jbHVkZXModC5lbCl9KSksYT1lLmRhdGFzZXRbdC5uYW1lK1wiQ2xhc3NcIl18fHQuY2xhc3MsYz1cInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhc2V0W3QubmFtZStcIklkXCJdP2UuZGF0YXNldFt0Lm5hbWUrXCJJZFwiXTpcImVsXCIraSxoPWUuZGF0YXNldFt0Lm5hbWUrXCJSZXBlYXRcIl0sZD1lLmRhdGFzZXRbdC5uYW1lK1wiQ2FsbFwiXSx1PWUuZGF0YXNldFt0Lm5hbWUrXCJQb3NpdGlvblwiXSxwPWUuZGF0YXNldFt0Lm5hbWUrXCJEZWxheVwiXSxtPWUuZGF0YXNldFt0Lm5hbWUrXCJEaXJlY3Rpb25cIl0sdj1cInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhc2V0W3QubmFtZStcIlN0aWNreVwiXSx5PSEhZS5kYXRhc2V0W3QubmFtZStcIlNwZWVkXCJdJiZwYXJzZUZsb2F0KGUuZGF0YXNldFt0Lm5hbWUrXCJTcGVlZFwiXSkvMTAsYj1cInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhc2V0W3QubmFtZStcIk9mZnNldFwiXT9lLmRhdGFzZXRbdC5uYW1lK1wiT2Zmc2V0XCJdLnNwbGl0KFwiLFwiKTp0Lm9mZnNldCxnPWUuZGF0YXNldFt0Lm5hbWUrXCJUYXJnZXRcIl0sdz0obz12b2lkIDAhPT1nP2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJcIi5jb25jYXQoZykpOmUpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO251bGw9PT1yfHxyLmluVmlldz8ocz13LnRvcCt0Lmluc3RhbmNlLnNjcm9sbC55LXEobykueSxuPXcubGVmdCt0Lmluc3RhbmNlLnNjcm9sbC54LXEobykueCk6KHM9dy50b3AtcShyLmVsKS55LXEobykueSxuPXcubGVmdC1xKHIuZWwpLngtcShvKS54KTt2YXIgUz1zK28ub2Zmc2V0SGVpZ2h0LHg9bitvLm9mZnNldFdpZHRoLGs9e3g6KHgtbikvMituLHk6KFMtcykvMitzfTtpZih2KXt2YXIgVD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLEU9VC50b3AsQT1ULmxlZnQsTz17eDpBLW4seTpFLXN9O3MrPXdpbmRvdy5pbm5lckhlaWdodCxuKz13aW5kb3cuaW5uZXJXaWR0aCxTPUUrby5vZmZzZXRIZWlnaHQtZS5vZmZzZXRIZWlnaHQtT1t0LmRpcmVjdGlvbkF4aXNdLGs9e3g6KCh4PUErby5vZmZzZXRXaWR0aC1lLm9mZnNldFdpZHRoLU9bdC5kaXJlY3Rpb25BeGlzXSktbikvMituLHk6KFMtcykvMitzfX1oPVwiZmFsc2VcIiE9aCYmKG51bGwhPWh8fHQucmVwZWF0KTt2YXIgRD1bMCwwXTtpZihiKWlmKFwiaG9yaXpvbnRhbFwiPT09dC5kaXJlY3Rpb24pe2Zvcih2YXIgQz0wO0M8Yi5sZW5ndGg7QysrKVwic3RyaW5nXCI9PXR5cGVvZiBiW0NdP2JbQ10uaW5jbHVkZXMoXCIlXCIpP0RbQ109cGFyc2VJbnQoYltDXS5yZXBsYWNlKFwiJVwiLFwiXCIpKnQud2luZG93V2lkdGgvMTAwKTpEW0NdPXBhcnNlSW50KGJbQ10pOkRbQ109YltDXTtuKz1EWzBdLHgtPURbMV19ZWxzZXtmb3IoQz0wO0M8Yi5sZW5ndGg7QysrKVwic3RyaW5nXCI9PXR5cGVvZiBiW0NdP2JbQ10uaW5jbHVkZXMoXCIlXCIpP0RbQ109cGFyc2VJbnQoYltDXS5yZXBsYWNlKFwiJVwiLFwiXCIpKnQud2luZG93SGVpZ2h0LzEwMCk6RFtDXT1wYXJzZUludChiW0NdKTpEW0NdPWJbQ107cys9RFswXSxTLT1EWzFdfXZhciBMPXtlbDplLGlkOmMsY2xhc3M6YSxzZWN0aW9uOnIsdG9wOnMsbWlkZGxlOmssYm90dG9tOlMsbGVmdDpuLHJpZ2h0Ongsb2Zmc2V0OmIscHJvZ3Jlc3M6MCxyZXBlYXQ6aCxpblZpZXc6ITEsY2FsbDpkLHNwZWVkOnksZGVsYXk6cCxwb3NpdGlvbjp1LHRhcmdldDpvLGRpcmVjdGlvbjptLHN0aWNreTp2fTt0LmVsc1tjXT1MLGUuY2xhc3NMaXN0LmNvbnRhaW5zKGEpJiZ0LnNldEluVmlldyh0LmVsc1tjXSxjKSwoITEhPT15fHx2KSYmKHQucGFyYWxsYXhFbGVtZW50c1tjXT1MKX0pKX19LHtrZXk6XCJhZGRTZWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnNlY3Rpb25zPXt9O3ZhciBlPXRoaXMuZWwucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLVwiLmNvbmNhdCh0aGlzLm5hbWUsXCItc2VjdGlvbl1cIikpOzA9PT1lLmxlbmd0aCYmKGU9W3RoaXMuZWxdKSxlLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7dmFyIHM9XCJzdHJpbmdcIj09dHlwZW9mIGUuZGF0YXNldFt0Lm5hbWUrXCJJZFwiXT9lLmRhdGFzZXRbdC5uYW1lK1wiSWRcIl06XCJzZWN0aW9uXCIraSxuPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz17eDpuLmxlZnQtMS41KndpbmRvdy5pbm5lcldpZHRoLXEoZSkueCx5Om4udG9wLTEuNSp3aW5kb3cuaW5uZXJIZWlnaHQtcShlKS55fSxsPXt4Om8ueCtuLndpZHRoKzIqd2luZG93LmlubmVyV2lkdGgseTpvLnkrbi5oZWlnaHQrMip3aW5kb3cuaW5uZXJIZWlnaHR9LHI9XCJzdHJpbmdcIj09dHlwZW9mIGUuZGF0YXNldFt0Lm5hbWUrXCJQZXJzaXN0ZW50XCJdO2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1zY3JvbGwtc2VjdGlvbi1pZFwiLHMpO3ZhciBhPXtlbDplLG9mZnNldDpvLGxpbWl0OmwsaW5WaWV3OiExLHBlcnNpc3RlbnQ6cixpZDpzfTt0LnNlY3Rpb25zW3NdPWF9KSl9fSx7a2V5OlwidHJhbnNmb3JtXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG47aWYocyl7dmFyIG89cSh0KSxsPUYoby54LGUscykscj1GKG8ueSxpLHMpO249XCJtYXRyaXgzZCgxLDAsMC4wMCwwLDAuMDAsMSwwLjAwLDAsMCwwLDEsMCxcIi5jb25jYXQobCxcIixcIikuY29uY2F0KHIsXCIsMCwxKVwiKX1lbHNlIG49XCJtYXRyaXgzZCgxLDAsMC4wMCwwLDAuMDAsMSwwLjAwLDAsMCwwLDEsMCxcIi5jb25jYXQoZSxcIixcIikuY29uY2F0KGksXCIsMCwxKVwiKTt0LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1uLHQuc3R5bGUubXNUcmFuc2Zvcm09bix0LnN0eWxlLnRyYW5zZm9ybT1ufX0se2tleTpcInRyYW5zZm9ybUVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0scz10aGlzLmluc3RhbmNlLnNjcm9sbC54K3RoaXMud2luZG93V2lkdGgsbj10aGlzLmluc3RhbmNlLnNjcm9sbC55K3RoaXMud2luZG93SGVpZ2h0LG89e3g6dGhpcy5pbnN0YW5jZS5zY3JvbGwueCt0aGlzLndpbmRvd01pZGRsZS54LHk6dGhpcy5pbnN0YW5jZS5zY3JvbGwueSt0aGlzLndpbmRvd01pZGRsZS55fTtPYmplY3QuZW50cmllcyh0aGlzLnBhcmFsbGF4RWxlbWVudHMpLmZvckVhY2goKGZ1bmN0aW9uKGwpe3ZhciByPWYobCwyKSxhPShyWzBdLHJbMV0pLGM9ITE7aWYodCYmKGM9MCksYS5pblZpZXd8fGkpc3dpdGNoKGEucG9zaXRpb24pe2Nhc2VcInRvcFwiOmM9ZS5pbnN0YW5jZS5zY3JvbGxbZS5kaXJlY3Rpb25BeGlzXSotYS5zcGVlZDticmVhaztjYXNlXCJlbGVtZW50VG9wXCI6Yz0obi1hLnRvcCkqLWEuc3BlZWQ7YnJlYWs7Y2FzZVwiYm90dG9tXCI6Yz0oZS5pbnN0YW5jZS5saW1pdFtlLmRpcmVjdGlvbkF4aXNdLW4rZS53aW5kb3dIZWlnaHQpKmEuc3BlZWQ7YnJlYWs7Y2FzZVwibGVmdFwiOmM9ZS5pbnN0YW5jZS5zY3JvbGxbZS5kaXJlY3Rpb25BeGlzXSotYS5zcGVlZDticmVhaztjYXNlXCJlbGVtZW50TGVmdFwiOmM9KHMtYS5sZWZ0KSotYS5zcGVlZDticmVhaztjYXNlXCJyaWdodFwiOmM9KGUuaW5zdGFuY2UubGltaXRbZS5kaXJlY3Rpb25BeGlzXS1zK2Uud2luZG93SGVpZ2h0KSphLnNwZWVkO2JyZWFrO2RlZmF1bHQ6Yz0ob1tlLmRpcmVjdGlvbkF4aXNdLWEubWlkZGxlW2UuZGlyZWN0aW9uQXhpc10pKi1hLnNwZWVkfWEuc3RpY2t5JiYoYz1hLmluVmlldz9cImhvcml6b250YWxcIj09PWUuZGlyZWN0aW9uP2UuaW5zdGFuY2Uuc2Nyb2xsLngtYS5sZWZ0K3dpbmRvdy5pbm5lcldpZHRoOmUuaW5zdGFuY2Uuc2Nyb2xsLnktYS50b3Ard2luZG93LmlubmVySGVpZ2h0OlwiaG9yaXpvbnRhbFwiPT09ZS5kaXJlY3Rpb24/ZS5pbnN0YW5jZS5zY3JvbGwueDxhLmxlZnQtd2luZG93LmlubmVyV2lkdGgmJmUuaW5zdGFuY2Uuc2Nyb2xsLng8YS5sZWZ0LXdpbmRvdy5pbm5lcldpZHRoLzI/MDplLmluc3RhbmNlLnNjcm9sbC54PmEucmlnaHQmJmUuaW5zdGFuY2Uuc2Nyb2xsLng+YS5yaWdodCsxMDAmJmEucmlnaHQtYS5sZWZ0K3dpbmRvdy5pbm5lcldpZHRoOmUuaW5zdGFuY2Uuc2Nyb2xsLnk8YS50b3Atd2luZG93LmlubmVySGVpZ2h0JiZlLmluc3RhbmNlLnNjcm9sbC55PGEudG9wLXdpbmRvdy5pbm5lckhlaWdodC8yPzA6ZS5pbnN0YW5jZS5zY3JvbGwueT5hLmJvdHRvbSYmZS5pbnN0YW5jZS5zY3JvbGwueT5hLmJvdHRvbSsxMDAmJmEuYm90dG9tLWEudG9wK3dpbmRvdy5pbm5lckhlaWdodCksITEhPT1jJiYoXCJob3Jpem9udGFsXCI9PT1hLmRpcmVjdGlvbnx8XCJob3Jpem9udGFsXCI9PT1lLmRpcmVjdGlvbiYmXCJ2ZXJ0aWNhbFwiIT09YS5kaXJlY3Rpb24/ZS50cmFuc2Zvcm0oYS5lbCxjLDAsIXQmJmEuZGVsYXkpOmUudHJhbnNmb3JtKGEuZWwsMCxjLCF0JiZhLmRlbGF5KSl9KSl9fSx7a2V5Olwic2Nyb2xsVG9cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHM9cGFyc2VJbnQoaS5vZmZzZXQpfHwwLG49aXNOYU4ocGFyc2VJbnQoaS5kdXJhdGlvbikpPzFlMzpwYXJzZUludChpLmR1cmF0aW9uKSxvPWkuZWFzaW5nfHxbLjI1LDAsLjM1LDFdLGw9ISFpLmRpc2FibGVMZXJwLHI9ISFpLmNhbGxiYWNrJiZpLmNhbGxiYWNrO2lmKG89dHQuYXBwbHkodm9pZCAwLHAobykpLFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZihcInRvcFwiPT09dCl0PTA7ZWxzZSBpZihcImJvdHRvbVwiPT09dCl0PXRoaXMuaW5zdGFuY2UubGltaXQueTtlbHNlIGlmKFwibGVmdFwiPT09dCl0PTA7ZWxzZSBpZihcInJpZ2h0XCI9PT10KXQ9dGhpcy5pbnN0YW5jZS5saW1pdC54O2Vsc2UgaWYoISh0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCkpKXJldHVybn1lbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXQ9cGFyc2VJbnQodCk7ZWxzZSBpZighdHx8IXQudGFnTmFtZSlyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJgdGFyZ2V0YCBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXt2YXIgYT1LKHQpLmluY2x1ZGVzKHRoaXMuZWwpO2lmKCFhKXJldHVybjt2YXIgYz10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGg9Yy50b3AsZD1jLmxlZnQsdT1LKHQpLG09dS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmVudHJpZXMoZS5zZWN0aW9ucykubWFwKChmdW5jdGlvbih0KXt2YXIgZT1mKHQsMik7ZVswXTtyZXR1cm4gZVsxXX0pKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5lbD09dH0pKX0pKSx2PTA7dj1tP3EobSlbdGhpcy5kaXJlY3Rpb25BeGlzXTotdGhpcy5pbnN0YW5jZS5zY3JvbGxbdGhpcy5kaXJlY3Rpb25BeGlzXSxzPVwiaG9yaXpvbnRhbFwiPT09dGhpcy5kaXJlY3Rpb24/ZCtzLXY6aCtzLXZ9ZWxzZSBzPXQrczt2YXIgeT1wYXJzZUZsb2F0KHRoaXMuaW5zdGFuY2UuZGVsdGFbdGhpcy5kaXJlY3Rpb25BeGlzXSksYj1NYXRoLm1heCgwLE1hdGgubWluKHMsdGhpcy5pbnN0YW5jZS5saW1pdFt0aGlzLmRpcmVjdGlvbkF4aXNdKSksZz1iLXksdz1mdW5jdGlvbih0KXtsP1wiaG9yaXpvbnRhbFwiPT09ZS5kaXJlY3Rpb24/ZS5zZXRTY3JvbGwoeStnKnQsZS5pbnN0YW5jZS5kZWx0YS55KTplLnNldFNjcm9sbChlLmluc3RhbmNlLmRlbHRhLngseStnKnQpOmUuaW5zdGFuY2UuZGVsdGFbZS5kaXJlY3Rpb25BeGlzXT15K2cqdH07dGhpcy5hbmltYXRpbmdTY3JvbGw9ITAsdGhpcy5zdG9wU2Nyb2xsaW5nKCksdGhpcy5zdGFydFNjcm9sbGluZygpO3ZhciBTPURhdGUubm93KCkseD1mdW5jdGlvbiB0KCl7dmFyIGk9KERhdGUubm93KCktUykvbjtpPjE/KHcoMSksZS5hbmltYXRpbmdTY3JvbGw9ITEsMD09biYmZS51cGRhdGUoKSxyJiZyKCkpOihlLnNjcm9sbFRvUmFmPXJlcXVlc3RBbmltYXRpb25GcmFtZSh0KSx3KG8oaSkpKX07eCgpfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTY3JvbGxMaW1pdCgpLHRoaXMuYWRkU2VjdGlvbnMoKSx0aGlzLmFkZEVsZW1lbnRzKCksdGhpcy5kZXRlY3RFbGVtZW50cygpLHRoaXMudXBkYXRlU2Nyb2xsKCksdGhpcy50cmFuc2Zvcm1FbGVtZW50cyghMCksdGhpcy5yZWluaXRTY3JvbGxCYXIoKSx0aGlzLmNoZWNrU2Nyb2xsKCEwKX19LHtrZXk6XCJzdGFydFNjcm9sbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdG9wPSExfX0se2tleTpcInN0b3BTY3JvbGxcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RvcD0hMH19LHtrZXk6XCJzZXRTY3JvbGxcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuaW5zdGFuY2U9byhvKHt9LHRoaXMuaW5zdGFuY2UpLHt9LHtzY3JvbGw6e3g6dCx5OmV9LGRlbHRhOnt4OnQseTplfSxzcGVlZDowfSl9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dShyKG4ucHJvdG90eXBlKSxcImRlc3Ryb3lcIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuc3RvcFNjcm9sbGluZygpLHRoaXMuaHRtbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc21vb3RoQ2xhc3MpLHRoaXMudnMuZGVzdHJveSgpLHRoaXMuZGVzdHJveVNjcm9sbEJhcigpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuY2hlY2tLZXksITEpfX1dKSxufShiKTtyZXR1cm4gZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3QodGhpcyxlKSx0aGlzLm9wdGlvbnM9aSxPYmplY3QuYXNzaWduKHRoaXMseSxpKSx0aGlzLnNtYXJ0cGhvbmU9eS5zbWFydHBob25lLGkuc21hcnRwaG9uZSYmT2JqZWN0LmFzc2lnbih0aGlzLnNtYXJ0cGhvbmUsaS5zbWFydHBob25lKSx0aGlzLnRhYmxldD15LnRhYmxldCxpLnRhYmxldCYmT2JqZWN0LmFzc2lnbih0aGlzLnRhYmxldCxpLnRhYmxldCksdGhpcy5zbW9vdGh8fFwiaG9yaXpvbnRhbFwiIT10aGlzLmRpcmVjdGlvbnx8Y29uc29sZS53YXJuKFwi8J+aqCBgc21vb3RoOmZhbHNlYCAmIGBob3Jpem9udGFsYCBkaXJlY3Rpb24gYXJlIG5vdCB5ZXQgY29tcGF0aWJsZVwiKSx0aGlzLnRhYmxldC5zbW9vdGh8fFwiaG9yaXpvbnRhbFwiIT10aGlzLnRhYmxldC5kaXJlY3Rpb258fGNvbnNvbGUud2FybihcIvCfmqggYHNtb290aDpmYWxzZWAgJiBgaG9yaXpvbnRhbGAgZGlyZWN0aW9uIGFyZSBub3QgeWV0IGNvbXBhdGlibGUgKHRhYmxldClcIiksdGhpcy5zbWFydHBob25lLnNtb290aHx8XCJob3Jpem9udGFsXCIhPXRoaXMuc21hcnRwaG9uZS5kaXJlY3Rpb258fGNvbnNvbGUud2FybihcIvCfmqggYHNtb290aDpmYWxzZWAgJiBgaG9yaXpvbnRhbGAgZGlyZWN0aW9uIGFyZSBub3QgeWV0IGNvbXBhdGlibGUgKHNtYXJ0cGhvbmUpXCIpLHRoaXMuaW5pdCgpfXJldHVybiBpKGUsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuaXNNb2JpbGU9L0FuZHJvaWR8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHxcIk1hY0ludGVsXCI9PT1uYXZpZ2F0b3IucGxhdGZvcm0mJm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cz4xfHx3aW5kb3cuaW5uZXJXaWR0aDx0aGlzLnRhYmxldC5icmVha3BvaW50LHRoaXMub3B0aW9ucy5pc1RhYmxldD10aGlzLm9wdGlvbnMuaXNNb2JpbGUmJndpbmRvdy5pbm5lcldpZHRoPj10aGlzLnRhYmxldC5icmVha3BvaW50LHRoaXMuc21vb3RoJiYhdGhpcy5vcHRpb25zLmlzTW9iaWxlfHx0aGlzLnRhYmxldC5zbW9vdGgmJnRoaXMub3B0aW9ucy5pc1RhYmxldHx8dGhpcy5zbWFydHBob25lLnNtb290aCYmdGhpcy5vcHRpb25zLmlzTW9iaWxlJiYhdGhpcy5vcHRpb25zLmlzVGFibGV0P3RoaXMuc2Nyb2xsPW5ldyBjdCh0aGlzLm9wdGlvbnMpOnRoaXMuc2Nyb2xsPW5ldyB4KHRoaXMub3B0aW9ucyksdGhpcy5zY3JvbGwuaW5pdCgpLHdpbmRvdy5sb2NhdGlvbi5oYXNoKXt2YXIgdD13aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxLHdpbmRvdy5sb2NhdGlvbi5oYXNoLmxlbmd0aCksZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTtlJiZ0aGlzLnNjcm9sbC5zY3JvbGxUbyhlKX19fSx7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbC51cGRhdGUoKX19LHtrZXk6XCJzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGwuc3RhcnRTY3JvbGwoKX19LHtrZXk6XCJzdG9wXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbC5zdG9wU2Nyb2xsKCl9fSx7a2V5Olwic2Nyb2xsVG9cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuc2Nyb2xsLnNjcm9sbFRvKHQsZSl9fSx7a2V5Olwic2V0U2Nyb2xsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnNjcm9sbC5zZXRTY3JvbGwodCxlKX19LHtrZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5zY3JvbGwuc2V0RXZlbnRzKHQsZSl9fSx7a2V5Olwib2ZmXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnNjcm9sbC51bnNldEV2ZW50cyh0LGUpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2Nyb2xsLmRlc3Ryb3koKX19XSksZX0oKX0pKTsiXSwiZmlsZSI6ImxvY29tb3RpdmUtc2Nyb2xsLm1pbi5qcyJ9